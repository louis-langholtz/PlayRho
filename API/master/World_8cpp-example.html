<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PlayRho: World.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PlayRho
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
   <div id="projectbrief">An interactive physics engine &amp; library.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('World_8cpp-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">World.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>This is the <code>googletest</code> based unit testing file for the <code><a class="el" href="classplayrho_1_1d2_1_1World.html" title="Definition of an independent and simulatable &quot;world&quot;.">playrho::d2::World</a></code> class.</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Copyright (c) 2023 Louis Langholtz https://github.com/louis-langholtz/PlayRho</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This software is provided &#39;as-is&#39;, without any express or implied</span></div>
<div class="line"><span class="comment"> * warranty. In no event will the authors be held liable for any damages</span></div>
<div class="line"><span class="comment"> * arising from the use of this software.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Permission is granted to anyone to use this software for any purpose,</span></div>
<div class="line"><span class="comment"> * including commercial applications, and to alter it and redistribute it</span></div>
<div class="line"><span class="comment"> * freely, subject to the following restrictions:</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * 1. The origin of this software must not be misrepresented; you must not</span></div>
<div class="line"><span class="comment"> *    claim that you wrote the original software. If you use this software</span></div>
<div class="line"><span class="comment"> *    in a product, an acknowledgment in the product documentation would be</span></div>
<div class="line"><span class="comment"> *    appreciated but is not required.</span></div>
<div class="line"><span class="comment"> * 2. Altered source versions must be plainly marked as such, and must not be</span></div>
<div class="line"><span class="comment"> *    misrepresented as being the original software.</span></div>
<div class="line"><span class="comment"> * 3. This notice may not be removed or altered from any source distribution.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;UnitTests.hpp&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Contact_8hpp.html">playrho/Contact.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="LengthError_8hpp.html">playrho/LengthError.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="StepConf_8hpp.html">playrho/StepConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="to__underlying_8hpp.html">playrho/to_underlying.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="WrongState_8hpp.html">playrho/WrongState.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="World_8hpp.html">playrho/d2/World.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Body_8hpp.html">playrho/d2/Body.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="WorldBody_8hpp.html">playrho/d2/WorldBody.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="WorldShape_8hpp.html">playrho/d2/WorldShape.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="WorldMisc_8hpp.html">playrho/d2/WorldMisc.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="WorldJoint_8hpp.html">playrho/d2/WorldJoint.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="WorldContact_8hpp.html">playrho/d2/WorldContact.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="BodyConf_8hpp.html">playrho/d2/BodyConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="ContactImpulsesList_8hpp.html">playrho/d2/ContactImpulsesList.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="DiskShapeConf_8hpp.html">playrho/d2/DiskShapeConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="PolygonShapeConf_8hpp.html">playrho/d2/PolygonShapeConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="EdgeShapeConf_8hpp.html">playrho/d2/EdgeShapeConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="PointStates_8hpp.html">playrho/d2/PointStates.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="DynamicTree_8hpp.html">playrho/d2/DynamicTree.hpp</a>&gt;</span> <span class="comment">// for GetTree</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="d2_2RayCastInput_8hpp.html">playrho/d2/RayCastInput.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="RayCastOutput_8hpp.html">playrho/d2/RayCastOutput.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Manifold_8hpp.html">playrho/d2/Manifold.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Joint_8hpp.html">playrho/d2/Joint.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="TargetJointConf_8hpp.html">playrho/d2/TargetJointConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="RopeJointConf_8hpp.html">playrho/d2/RopeJointConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="RevoluteJointConf_8hpp.html">playrho/d2/RevoluteJointConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="PrismaticJointConf_8hpp.html">playrho/d2/PrismaticJointConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="DistanceJointConf_8hpp.html">playrho/d2/DistanceJointConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="PulleyJointConf_8hpp.html">playrho/d2/PulleyJointConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="WeldJointConf_8hpp.html">playrho/d2/WeldJointConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="FrictionJointConf_8hpp.html">playrho/d2/FrictionJointConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="MotorJointConf_8hpp.html">playrho/d2/MotorJointConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="WheelJointConf_8hpp.html">playrho/d2/WheelJointConf.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="GearJointConf_8hpp.html">playrho/d2/GearJointConf.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceplayrho.html">playrho</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceplayrho_1_1d2.html">playrho::d2</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>PushBackListener</div>
<div class="line">{</div>
<div class="line">    std::vector&lt;T&gt; ids;</div>
<div class="line">    <span class="keywordtype">void</span> operator()(T <span class="keywordtype">id</span>)</div>
<div class="line">    {</div>
<div class="line">        ids.push_back(<span class="keywordtype">id</span>);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">TEST(World, ByteSize)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check size at test runtime instead of compile-time via static_assert to avoid stopping</span></div>
<div class="line">    <span class="comment">// builds and to report actual size rather than just reporting that expected size is wrong.</span></div>
<div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(World), <span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, WorldLockedError)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> value = WrongState{<span class="stringliteral">&quot;world is locked&quot;</span>};</div>
<div class="line">    EXPECT_STREQ(value.what(), <span class="stringliteral">&quot;world is locked&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, DefaultInit)</div>
<div class="line">{</div>
<div class="line">    World world;</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a name="a0"></a><a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a name="a1"></a><a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    EXPECT_EQ(<a name="a2"></a><a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetLeafCount(), <a name="a3"></a><a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line">    EXPECT_EQ(<a name="a4"></a><a class="code" href="namespaceplayrho_1_1d2.html#a7484e45a19ce38178de17a2f0bfdb519">GetJointCount</a>(world), <a name="a5"></a><a class="code" href="namespaceplayrho.html#a3fff859979ed48e0d223d1584eb985c3">JointCounter</a>(0));</div>
<div class="line">    EXPECT_EQ(<a name="a6"></a><a class="code" href="namespaceplayrho_1_1d2.html#ac7b6c00fbd4fc40a4957bd082c9437b4">GetContactCount</a>(world), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line">    EXPECT_EQ(<a name="a7"></a><a class="code" href="namespaceplayrho_1_1d2.html#a72265a3c2d4511e74df6ab4d13112f6d">GetHeight</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world)), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line">    EXPECT_EQ(<a name="a8"></a><a class="code" href="namespaceplayrho_1_1d2.html#a7daf9650f36f8d172678d1398034a516">ComputePerimeterRatio</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world)), <a name="a9"></a><a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0));</div>
<div class="line"> </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> bodies = <a name="a10"></a><a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world);</div>
<div class="line">        EXPECT_TRUE(bodies.empty());</div>
<div class="line">        EXPECT_EQ(bodies.size(), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">        EXPECT_EQ(bodies.begin(), bodies.end());</div>
<div class="line">    }</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; w = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>World&amp;<span class="keyword">&gt;</span>(world);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> bodies = <a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(w);</div>
<div class="line">        EXPECT_TRUE(bodies.empty());</div>
<div class="line">        EXPECT_EQ(bodies.size(), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">        EXPECT_EQ(bodies.begin(), bodies.end());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    EXPECT_TRUE(<a name="a11"></a><a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a name="a12"></a><a class="code" href="namespaceplayrho.html#a98ab78cb47da6f6d872d617cc66040a6">empty</a>());</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a name="a13"></a><a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line">    </div>
<div class="line">    EXPECT_TRUE(<a name="a14"></a><a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho.html#a98ab78cb47da6f6d872d617cc66040a6">empty</a>());</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho.html#a3fff859979ed48e0d223d1584eb985c3">JointCounter</a>(0));</div>
<div class="line">    </div>
<div class="line">    EXPECT_FALSE(<a name="a15"></a><a class="code" href="namespaceplayrho_1_1d2.html#af8856e4e147c88bcacefa6b63aa750cd">GetSubStepping</a>(world));</div>
<div class="line">    EXPECT_FALSE(<a name="a16"></a><a class="code" href="namespaceplayrho_1_1d2.html#af876b6037e657c9123c89cc057dae338">IsLocked</a>(world));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, Init)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#af876b6037e657c9123c89cc057dae338">IsLocked</a>(world));</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> calls = 0;</div>
<div class="line">        <a name="a17"></a><a class="code" href="namespaceplayrho_1_1d2.html#a52ca8acb99e3c3591d13ca912282470e">Query</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world), <a name="a18"></a><a class="code" href="namespaceplayrho_1_1d2.html#abfb3031d97cbdac7eb72cccf26e3c694">AABB</a>{}, [&amp;](<a name="a19"></a><a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a>, <a name="a20"></a><a class="code" href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">ShapeID</a>, <a name="a21"></a><a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a>) {</div>
<div class="line">            ++calls;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        });</div>
<div class="line">        EXPECT_EQ(calls, 0);</div>
<div class="line">    }</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p1 = <a name="a22"></a><a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0_m, 0_m};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{100_m, 0_m};</div>
<div class="line">        <span class="keyword">auto</span> calls = 0;</div>
<div class="line">        <a name="a23"></a><a class="code" href="group__RayCastGroup.html#gaa2b257514c434e44a5ea5839c959bea9">RayCast</a>(world, <a name="a24"></a><a class="code" href="namespaceplayrho_1_1d2.html#adf053dc4cae3fabb24f6e3c8b8697ffb">RayCastInput</a>{p1, p2, UnitInterval&lt;Real&gt;{1}},</div>
<div class="line">                [&amp;](<a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a>, <a class="code" href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">ShapeID</a>, <a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a>, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>, UnitVec) {</div>
<div class="line">            ++calls;</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a25"></a><a class="code" href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106a4592f28dc9d11de3ce507bebafd9de16">RayCastOpcode::ResetRay</a>;</div>
<div class="line">        });</div>
<div class="line">        EXPECT_EQ(calls, 0);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, <a name="a26"></a><a class="code" href="namespaceplayrho_1_1d2.html#a652406794226e2ebe8a0a9c7cf2d98ea">Clear</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> jointListener = PushBackListener&lt;JointID&gt;{};</div>
<div class="line">    <span class="keyword">auto</span> shapeListener = PushBackListener&lt;ShapeID&gt;{};</div>
<div class="line">    <span class="keyword">auto</span> associationListener = PushBackListener&lt;std::pair&lt;BodyID, ShapeID&gt;&gt;{};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t(0));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t(0));</div>
<div class="line">    ASSERT_EQ(<a name="a27"></a><a class="code" href="namespaceplayrho_1_1d2.html#adfede6c462c7ebd2f3d75ec2878bbb73">GetJointRange</a>(world), 0u);</div>
<div class="line"> </div>
<div class="line">    <a name="a28"></a><a class="code" href="namespaceplayrho_1_1d2.html#aad9d71ed88d25ba53cc5795ef5c46767">SetJointDestructionListener</a>(world, std::ref(jointListener));</div>
<div class="line">    <a name="a29"></a><a class="code" href="namespaceplayrho_1_1d2.html#a7738575fcd8e208874a3cd3e32dffbf2">SetShapeDestructionListener</a>(world, std::ref(shapeListener));</div>
<div class="line">    <a name="a30"></a><a class="code" href="namespaceplayrho_1_1d2.html#a73d47c4e7db2126ca5bb6e3fd5aa7a2c">SetDetachListener</a>(world, std::ref(associationListener));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b0 = <a name="a31"></a><a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    ASSERT_NE(b0, <a name="a32"></a><a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> f0 = <a name="a33"></a><a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{});</div>
<div class="line">    ASSERT_NE(f0, <a name="a34"></a><a class="code" href="namespaceplayrho.html#a7cf47dd833aad177ac33142cfc5e6bc3">InvalidShapeID</a>);</div>
<div class="line">    <a name="a35"></a><a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b0, f0);</div>
<div class="line">    ASSERT_EQ(<a name="a36"></a><a class="code" href="namespaceplayrho_1_1d2.html#afe762c434a20aa39abb7f121b9d89c03">GetShapes</a>(world, b0).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t(1));;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    ASSERT_NE(b1, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> f1 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, Shape{DiskShapeConf{}});</div>
<div class="line">    ASSERT_NE(f1, <a class="code" href="namespaceplayrho.html#a7cf47dd833aad177ac33142cfc5e6bc3">InvalidShapeID</a>);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b1, f1);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#afe762c434a20aa39abb7f121b9d89c03">GetShapes</a>(world, b1).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t(1));;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> j0 = <a name="a37"></a><a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{DistanceJointConf{b0, b1}});</div>
<div class="line">    ASSERT_NE(j0, <a name="a38"></a><a class="code" href="namespaceplayrho.html#a67d10419efd6effdd41617992a76cbcd">InvalidJointID</a>);</div>
<div class="line"> </div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t(2));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t(1));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adfede6c462c7ebd2f3d75ec2878bbb73">GetJointRange</a>(world), 1u);</div>
<div class="line"> </div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a652406794226e2ebe8a0a9c7cf2d98ea">Clear</a>(world));</div>
<div class="line">    EXPECT_EQ(<a name="a39"></a><a class="code" href="namespaceplayrho_1_1d2.html#a61d7f65f10afdad013c11d866292ad12">GetShapeRange</a>(world), 0u);</div>
<div class="line">    EXPECT_EQ(<a name="a40"></a><a class="code" href="namespaceplayrho_1_1d2.html#ae97a6f878c88ff1c0609582303945bd2">GetBodyRange</a>(world), 0u);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adfede6c462c7ebd2f3d75ec2878bbb73">GetJointRange</a>(world), 0u);</div>
<div class="line">    EXPECT_EQ(<a name="a41"></a><a class="code" href="namespaceplayrho_1_1d2.html#a1e9f16b0b9ca81d3852d99bd3bf7ba94">GetContactRange</a>(world), 0u);</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t(0));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t(0));</div>
<div class="line"> </div>
<div class="line">    ASSERT_EQ(shapeListener.ids.size(), std::size_t(2));</div>
<div class="line">    EXPECT_EQ(shapeListener.ids.at(0), f0);</div>
<div class="line">    EXPECT_EQ(shapeListener.ids.at(1), f1);</div>
<div class="line"> </div>
<div class="line">    ASSERT_EQ(jointListener.ids.size(), std::size_t(1));</div>
<div class="line">    EXPECT_EQ(jointListener.ids.at(0), j0);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    EXPECT_LE(b2, b1);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> f2 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, Shape{DiskShapeConf{}});</div>
<div class="line">    EXPECT_EQ(f2, <a class="code" href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">ShapeID</a>(0));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, SetSubSteppingFreeFunction)</div>
<div class="line">{</div>
<div class="line">    World world;</div>
<div class="line">    ASSERT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#af8856e4e147c88bcacefa6b63aa750cd">GetSubStepping</a>(world));</div>
<div class="line">    EXPECT_NO_THROW(<a name="a42"></a><a class="code" href="namespaceplayrho_1_1d2.html#a7b8d4d16ed5f043b13407de3cd8f11f4">SetSubStepping</a>(world, <span class="keyword">true</span>));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#af8856e4e147c88bcacefa6b63aa750cd">GetSubStepping</a>(world));</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a7b8d4d16ed5f043b13407de3cd8f11f4">SetSubStepping</a>(world, <span class="keyword">false</span>));</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#af8856e4e147c88bcacefa6b63aa750cd">GetSubStepping</a>(world));</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a7b8d4d16ed5f043b13407de3cd8f11f4">SetSubStepping</a>(world, <span class="keyword">true</span>));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#af8856e4e147c88bcacefa6b63aa750cd">GetSubStepping</a>(world));</div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    stepConf.deltaTime = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1) / 100_Hz;</div>
<div class="line">    EXPECT_NO_THROW(<a name="a43"></a><a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#af8856e4e147c88bcacefa6b63aa750cd">GetSubStepping</a>(world));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, <a name="a44"></a><a class="code" href="namespaceplayrho_1_1d2.html#aac86950fdee2a34e82718966246905a3">IsStepComplete</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    ASSERT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#af8856e4e147c88bcacefa6b63aa750cd">GetSubStepping</a>(world));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#aac86950fdee2a34e82718966246905a3">IsStepComplete</a>(world));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a7b8d4d16ed5f043b13407de3cd8f11f4">SetSubStepping</a>(world, <span class="keyword">true</span>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#af8856e4e147c88bcacefa6b63aa750cd">GetSubStepping</a>(world));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#aac86950fdee2a34e82718966246905a3">IsStepComplete</a>(world));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    stepConf.deltaTime = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1) / 100_Hz;</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#af8856e4e147c88bcacefa6b63aa750cd">GetSubStepping</a>(world));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#aac86950fdee2a34e82718966246905a3">IsStepComplete</a>(world));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b0 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}</div>
<div class="line">                                     .UseType(<a name="a45"></a><a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>)</div>
<div class="line">                                     .UseLocation(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-2_m, 2_m})</div>
<div class="line">                                     .UseLinearAcceleration(<a name="a46"></a><a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">    ASSERT_NE(b0, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId0 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseDensity(1_kgpm2).UseRadius(1_m));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b0, shapeId0);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}</div>
<div class="line">                                     .UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>)</div>
<div class="line">                                     .UseLocation(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+2_m, 2_m})</div>
<div class="line">                                     .UseLinearAcceleration(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">    ASSERT_NE(b1, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId1 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseDensity(1_kgpm2).UseRadius(1_m));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b1, shapeId1);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> stabody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a name="a47"></a><a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16">BodyType::Static</a>));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId2 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, EdgeShapeConf{<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-10_m, 0_m}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+10_m, 0_m}});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, stabody, shapeId2);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> i = 0ull;</div>
<div class="line">    <span class="keywordflow">while</span> (<a class="code" href="namespaceplayrho_1_1d2.html#aac86950fdee2a34e82718966246905a3">IsStepComplete</a>(world) &amp;&amp; i &lt; 100000) {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">        ++i;</div>
<div class="line">    }</div>
<div class="line">    EXPECT_LT(i, 1000000ull);</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#aac86950fdee2a34e82718966246905a3">IsStepComplete</a>(world));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#aac86950fdee2a34e82718966246905a3">IsStepComplete</a>(world));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#aac86950fdee2a34e82718966246905a3">IsStepComplete</a>(world));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, CopyConstruction)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> copy = World{world};</div>
<div class="line">        EXPECT_EQ(<a name="a48"></a><a class="code" href="namespaceplayrho_1_1d2.html#aa5bd2b2d4ff4f88eef1db5f754dfa7c2">GetVertexRadiusInterval</a>(world), <a class="code" href="namespaceplayrho_1_1d2.html#aa5bd2b2d4ff4f88eef1db5f754dfa7c2">GetVertexRadiusInterval</a>(copy));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a72265a3c2d4511e74df6ab4d13112f6d">GetHeight</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world)), <a class="code" href="namespaceplayrho_1_1d2.html#a72265a3c2d4511e74df6ab4d13112f6d">GetHeight</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy)));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetLeafCount(), <a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy).GetLeafCount());</div>
<div class="line">        EXPECT_EQ(<a name="a49"></a><a class="code" href="namespaceplayrho_1_1d2.html#ab2389e08997d0d0e0ba03697eec17936">GetMaxImbalance</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world)), <a class="code" href="namespaceplayrho_1_1d2.html#ab2389e08997d0d0e0ba03697eec17936">GetMaxImbalance</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy)));</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseDensity(1_kgpm2).UseRadius(1_m));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b1, shapeId);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b2, shapeId);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Add another body on top of previous and that&#39;s not part of any joints to ensure at 1 contact</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b3 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b3, shapeId);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b4 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b4, shapeId);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b5 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b5, shapeId);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> rj1 = <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{RevoluteJointConf{b1, b2}});</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> rj2 = <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{RevoluteJointConf{b3, b4}});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{PrismaticJointConf{b1, b2}});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{<a name="a50"></a><a class="code" href="namespaceplayrho_1_1d2.html#a4ee7b170b4d490f78974c11f781b4778">GetPulleyJointConf</a>(world, b1, b2, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{},</div>
<div class="line">                                               <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}).UseRatio(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1))});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{DistanceJointConf{b4, b5}});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{<a name="a51"></a><a class="code" href="namespaceplayrho_1_1d2.html#a8617e3ffbdfb19c9387220bd54ab2816">GetWeldJointConf</a>(world, b4, b5)});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{FrictionJointConf{b4, b5}});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{RopeJointConf{b4, b5}});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{<a name="a52"></a><a class="code" href="namespaceplayrho_1_1d2.html#a9030301cdd51e2084c30689dc8ddb6f5">GetMotorJointConf</a>(world, b4, b5)});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{WheelJointConf{b4, b5}});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{TargetJointConf{b4}});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{<a name="a53"></a><a class="code" href="namespaceplayrho_1_1d2.html#a36b5ef1495440a134a304321d2e85e3d">GetGearJointConf</a>(world, rj1, rj2)});</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    ASSERT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho.html#a98ab78cb47da6f6d872d617cc66040a6">empty</a>());</div>
<div class="line"> </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> copy = World{world};</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#aa5bd2b2d4ff4f88eef1db5f754dfa7c2">GetVertexRadiusInterval</a>(world), <a class="code" href="namespaceplayrho_1_1d2.html#aa5bd2b2d4ff4f88eef1db5f754dfa7c2">GetVertexRadiusInterval</a>(copy));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> minJoints = std::min(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> worldJoints = <a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> copyJoints = <a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(copy);</div>
<div class="line">        <span class="keyword">auto</span> worldJointIter = worldJoints.begin();</div>
<div class="line">        <span class="keyword">auto</span> copyJointIter = copyJoints.begin();</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(minJoints){0}; i &lt; minJoints; ++i)</div>
<div class="line">        {</div>
<div class="line">            EXPECT_EQ(<a name="a54"></a><a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, *worldJointIter), <a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(copy, *copyJointIter));</div>
<div class="line">            ++worldJointIter;</div>
<div class="line">            ++copyJointIter;</div>
<div class="line">        }</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a72265a3c2d4511e74df6ab4d13112f6d">GetHeight</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world)), <a class="code" href="namespaceplayrho_1_1d2.html#a72265a3c2d4511e74df6ab4d13112f6d">GetHeight</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy)));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetLeafCount(), <a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy).GetLeafCount());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#ab2389e08997d0d0e0ba03697eec17936">GetMaxImbalance</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world)), <a class="code" href="namespaceplayrho_1_1d2.html#ab2389e08997d0d0e0ba03697eec17936">GetMaxImbalance</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy)));</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, CopyAssignment)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> copy = World{};</div>
<div class="line">        copy = world;</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#aa5bd2b2d4ff4f88eef1db5f754dfa7c2">GetVertexRadiusInterval</a>(world), <a class="code" href="namespaceplayrho_1_1d2.html#aa5bd2b2d4ff4f88eef1db5f754dfa7c2">GetVertexRadiusInterval</a>(copy));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a72265a3c2d4511e74df6ab4d13112f6d">GetHeight</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world)), <a class="code" href="namespaceplayrho_1_1d2.html#a72265a3c2d4511e74df6ab4d13112f6d">GetHeight</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy)));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetLeafCount(), <a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy).GetLeafCount());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#ab2389e08997d0d0e0ba03697eec17936">GetMaxImbalance</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world)), <a class="code" href="namespaceplayrho_1_1d2.html#ab2389e08997d0d0e0ba03697eec17936">GetMaxImbalance</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy)));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseDensity(1_kgpm2).UseRadius(1_m));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b1, shapeId);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b2, shapeId);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{RevoluteJointConf{b1, b2, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}}});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{<a name="a55"></a><a class="code" href="namespaceplayrho_1_1d2.html#a60b9a9ec9672825ae4fc6a33ff268cbe">GetPrismaticJointConf</a>(world, b1, b2, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a name="a56"></a><a class="code" href="classplayrho_1_1d2_1_1UnitVec.html#a989ef293213c6b3a4d1901533445cd85">UnitVec::GetRight</a>())});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{<a class="code" href="namespaceplayrho_1_1d2.html#a4ee7b170b4d490f78974c11f781b4778">GetPulleyJointConf</a>(world, b1, b2, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{},</div>
<div class="line">                                               <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}).UseRatio(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1))});</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> copy = World{};</div>
<div class="line">        copy = world;</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#aa5bd2b2d4ff4f88eef1db5f754dfa7c2">GetVertexRadiusInterval</a>(world), <a class="code" href="namespaceplayrho_1_1d2.html#aa5bd2b2d4ff4f88eef1db5f754dfa7c2">GetVertexRadiusInterval</a>(copy));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> minJoints = std::min(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> worldJoints = <a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> copyJoints = <a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(copy);</div>
<div class="line">        <span class="keyword">auto</span> worldJointIter = worldJoints.begin();</div>
<div class="line">        <span class="keyword">auto</span> copyJointIter = copyJoints.begin();</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(minJoints){0}; i &lt; minJoints; ++i)</div>
<div class="line">        {</div>
<div class="line">            EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, *worldJointIter), <a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(copy, *copyJointIter));</div>
<div class="line">            ++worldJointIter;</div>
<div class="line">            ++copyJointIter;</div>
<div class="line">        }</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a61d7f65f10afdad013c11d866292ad12">GetShapeRange</a>(world), <a class="code" href="namespaceplayrho_1_1d2.html#a61d7f65f10afdad013c11d866292ad12">GetShapeRange</a>(copy));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(copy).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a72265a3c2d4511e74df6ab4d13112f6d">GetHeight</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world)), <a class="code" href="namespaceplayrho_1_1d2.html#a72265a3c2d4511e74df6ab4d13112f6d">GetHeight</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy)));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetLeafCount(), <a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy).GetLeafCount());</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#ab2389e08997d0d0e0ba03697eec17936">GetMaxImbalance</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world)), <a class="code" href="namespaceplayrho_1_1d2.html#ab2389e08997d0d0e0ba03697eec17936">GetMaxImbalance</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(copy)));</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, MoveConstruction)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseDensity(1_kgpm2).UseRadius(1_m));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b1, shapeId);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b2, shapeId);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{RevoluteJointConf{b1, b2, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}}});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{<a class="code" href="namespaceplayrho_1_1d2.html#a60b9a9ec9672825ae4fc6a33ff268cbe">GetPrismaticJointConf</a>(world, b1, b2, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="classplayrho_1_1d2_1_1UnitVec.html#a989ef293213c6b3a4d1901533445cd85">UnitVec::GetRight</a>())});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{<a class="code" href="namespaceplayrho_1_1d2.html#a4ee7b170b4d490f78974c11f781b4778">GetPulleyJointConf</a>(world, b1, b2, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{},</div>
<div class="line">                                               <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}).UseRatio(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1))});</div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> other = World{std::move(world)};</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(other).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), 2u);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(other).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), 3u);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, MoveAssignment)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseDensity(1_kgpm2).UseRadius(1_m));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b1, shapeId);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b2, shapeId);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{RevoluteJointConf{b1, b2, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}}});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{<a class="code" href="namespaceplayrho_1_1d2.html#a60b9a9ec9672825ae4fc6a33ff268cbe">GetPrismaticJointConf</a>(world, b1, b2, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="classplayrho_1_1d2_1_1UnitVec.html#a989ef293213c6b3a4d1901533445cd85">UnitVec::GetRight</a>())});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{<a class="code" href="namespaceplayrho_1_1d2.html#a4ee7b170b4d490f78974c11f781b4778">GetPulleyJointConf</a>(world, b1, b2, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{},</div>
<div class="line">                                               <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}).UseRatio(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1))});</div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> other = World{};</div>
<div class="line">        other = std::move(world);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(other).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), 2u);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(other).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), 3u);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, CreateDestroyEmptyDynamicBody)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    EXPECT_EQ(<a name="a57"></a><a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body), 0_deg);</div>
<div class="line">    EXPECT_TRUE(<a name="a58"></a><a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body));</div>
<div class="line">    EXPECT_TRUE(<a name="a59"></a><a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, body));</div>
<div class="line">    EXPECT_FALSE(<a name="a60"></a><a class="code" href="namespaceplayrho_1_1d2.html#a8c4170f49badbf1881f371cfb5f466a7">IsImpenetrable</a>(world, body));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#afe762c434a20aa39abb7f121b9d89c03">GetShapes</a>(world, body).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t{0});</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(1));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> bodies1 = <a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world);</div>
<div class="line">    EXPECT_FALSE(bodies1.empty());</div>
<div class="line">    EXPECT_EQ(bodies1.size(), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(1));</div>
<div class="line">    EXPECT_NE(bodies1.begin(), bodies1.end());</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> first = bodies1.begin();</div>
<div class="line">    EXPECT_EQ(body, *first);</div>
<div class="line"> </div>
<div class="line">    <a name="a61"></a><a class="code" href="namespaceplayrho_1_1d2.html#a7df9661feac023ea0e4cbe6369943352">Destroy</a>(world, body);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> bodies2 = <a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world);</div>
<div class="line">    EXPECT_TRUE(bodies2.empty());</div>
<div class="line">    EXPECT_EQ(bodies2.size(), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, CreateDestroyDynamicBodyAndFixture)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Created this test after receiving issue #306:</span></div>
<div class="line">    <span class="comment">//   Rapid create/destroy between step() causes SEGFAULT</span></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> bodyId = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(bodyId, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, bodyId), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    EXPECT_TRUE(<a name="a62"></a><a class="code" href="namespaceplayrho_1_1d2.html#a139df81757401545db36e6fc6f030d75">IsAwake</a>(world, bodyId));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, bodyId));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, bodyId));</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a8c4170f49badbf1881f371cfb5f466a7">IsImpenetrable</a>(world, bodyId));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#afe762c434a20aa39abb7f121b9d89c03">GetShapes</a>(world, bodyId).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t{0});</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(1));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> bodies1 = <a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world);</div>
<div class="line">    EXPECT_FALSE(bodies1.empty());</div>
<div class="line">    EXPECT_EQ(bodies1.size(), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(1));</div>
<div class="line">    EXPECT_NE(bodies1.begin(), bodies1.end());</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> first = bodies1.begin();</div>
<div class="line">    EXPECT_EQ(bodyId, *first);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, bodyId, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{1_m}));</div>
<div class="line">    </div>
<div class="line">    EXPECT_EQ(<a name="a63"></a><a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t{0});</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#afe762c434a20aa39abb7f121b9d89c03">GetShapes</a>(world, bodyId).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), std::size_t{1});</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a7df9661feac023ea0e4cbe6369943352">Destroy</a>(world, bodyId); <span class="comment">// should clear fixtures for proxies!</span></div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, bodyId), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16">BodyType::Static</a>);</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a139df81757401545db36e6fc6f030d75">IsAwake</a>(world, bodyId));</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, bodyId));</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> bodies2 = <a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world);</div>
<div class="line">    EXPECT_TRUE(bodies2.empty());</div>
<div class="line">    EXPECT_EQ(bodies2.size(), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, CreateDestroyJoinedBodies)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> jointListener = PushBackListener&lt;JointID&gt;{};</div>
<div class="line">    <span class="keyword">auto</span> shapeListener = PushBackListener&lt;ShapeID&gt;{};</div>
<div class="line">    <span class="keyword">auto</span> associationListener = PushBackListener&lt;std::pair&lt;BodyID, ShapeID&gt;&gt;{};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7484e45a19ce38178de17a2f0bfdb519">GetJointCount</a>(world), <a class="code" href="namespaceplayrho.html#a3fff859979ed48e0d223d1584eb985c3">JointCounter</a>(0));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#aad9d71ed88d25ba53cc5795ef5c46767">SetJointDestructionListener</a>(world, std::ref(jointListener));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a7738575fcd8e208874a3cd3e32dffbf2">SetShapeDestructionListener</a>(world, std::ref(shapeListener));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a73d47c4e7db2126ca5bb6e3fd5aa7a2c">SetDetachListener</a>(world, std::ref(associationListener));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(1));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> bodies1 = <a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world);</div>
<div class="line">    EXPECT_FALSE(bodies1.empty());</div>
<div class="line">    EXPECT_EQ(bodies1.size(), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(1));</div>
<div class="line">    EXPECT_NE(bodies1.begin(), bodies1.end());</div>
<div class="line">    ASSERT_NE(body1, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    EXPECT_EQ(body1, *bodies1.begin());</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(2));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId1 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{1_m});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body1, shapeId1);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId2 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{1_m});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body2, shapeId2);</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(1));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> worldContacts = <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> c0 = worldContacts.begin();</div>
<div class="line">    <span class="keyword">auto</span> cid0 = std::get&lt;ContactID&gt;(*c0);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> contactBodyA = <a name="a64"></a><a class="code" href="namespaceplayrho_1_1d2.html#a700fc1baf4e0165912da41dae27dfc78">GetBodyA</a>(world, cid0);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> contactBodyB = <a name="a65"></a><a class="code" href="namespaceplayrho_1_1d2.html#a37729f6494a066607deb10ea5a57c449">GetBodyB</a>(world, cid0);</div>
<div class="line">    EXPECT_EQ(contactBodyA, body1);</div>
<div class="line">    EXPECT_EQ(contactBodyB, body2);</div>
<div class="line">    EXPECT_FALSE(<a name="a66"></a><a class="code" href="namespaceplayrho_1_1d2.html#a06bdf092ec9098a9c0277832ba0ddbc2">NeedsFiltering</a>(world, c0-&gt;second));</div>
<div class="line">    <span class="keyword">auto</span> contact0 = <a name="a67"></a><a class="code" href="namespaceplayrho_1_1d2.html#ab77e4986f15b40a9e31429c3f6be3b27">GetContact</a>(world, cid0);</div>
<div class="line">    <span class="keywordflow">if</span> (contact0.HasValidToi()) {</div>
<div class="line">        contact0.SetToi({});</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        contact0.SetToi(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0.5f));</div>
<div class="line">    }</div>
<div class="line">    EXPECT_THROW(<a name="a68"></a><a class="code" href="namespaceplayrho_1_1d2.html#a986132f0e473e4da3dfcd1b5ec1eb608">SetContact</a>(world, cid0, contact0), InvalidArgument);</div>
<div class="line">    contact0 = <a class="code" href="namespaceplayrho_1_1d2.html#ab77e4986f15b40a9e31429c3f6be3b27">GetContact</a>(world, cid0);</div>
<div class="line">    contact0.SetToiCount(contact0.GetToiCount() + 1u);</div>
<div class="line">    EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a986132f0e473e4da3dfcd1b5ec1eb608">SetContact</a>(world, cid0, contact0), InvalidArgument);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> joint = <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{DistanceJointConf{body1, body2}});</div>
<div class="line">    ASSERT_NE(joint, <a class="code" href="namespaceplayrho.html#a67d10419efd6effdd41617992a76cbcd">InvalidJointID</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7484e45a19ce38178de17a2f0bfdb519">GetJointCount</a>(world), <a class="code" href="namespaceplayrho.html#a3fff859979ed48e0d223d1584eb985c3">JointCounter</a>(1));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a06bdf092ec9098a9c0277832ba0ddbc2">NeedsFiltering</a>(world, c0-&gt;second));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a7df9661feac023ea0e4cbe6369943352">Destroy</a>(world, body1);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(1));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7484e45a19ce38178de17a2f0bfdb519">GetJointCount</a>(world), <a class="code" href="namespaceplayrho.html#a3fff859979ed48e0d223d1584eb985c3">JointCounter</a>(0));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> bodies0 = <a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world);</div>
<div class="line">    EXPECT_FALSE(bodies0.empty());</div>
<div class="line">    EXPECT_EQ(bodies0.size(), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(1));</div>
<div class="line">    EXPECT_NE(bodies0.begin(), bodies0.end());</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a7df9661feac023ea0e4cbe6369943352">Destroy</a>(world, body2);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    </div>
<div class="line">    ASSERT_EQ(associationListener.ids.size(), std::size_t(2));</div>
<div class="line">    EXPECT_EQ(associationListener.ids.at(0), std::make_pair(body1, shapeId1));</div>
<div class="line">    EXPECT_EQ(associationListener.ids.at(1), std::make_pair(body2, shapeId2));</div>
<div class="line"> </div>
<div class="line">    ASSERT_EQ(jointListener.ids.size(), std::size_t(1));</div>
<div class="line">    EXPECT_EQ(jointListener.ids.at(0), joint);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, CreateDestroyContactingBodies)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7484e45a19ce38178de17a2f0bfdb519">GetJointCount</a>(world), <a class="code" href="namespaceplayrho.html#a3fff859979ed48e0d223d1584eb985c3">JointCounter</a>(0));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>())<span class="keyword">&gt;</span>(0));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount())<span class="keyword">&gt;</span>(0));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> contacts = <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world);</div>
<div class="line">    ASSERT_TRUE(contacts.empty());</div>
<div class="line">    ASSERT_EQ(contacts.size(), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> l1 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> l2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>).UseLocation(l1));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>).UseLocation(l2));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(2));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>())<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount())<span class="keyword">&gt;</span>(0));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body1, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{1_m}.UseDensity(1_kgpm2)));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body2, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{1_m}.UseDensity(1_kgpm2)));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(<a class="code" href="namespaceplayrho_1_1d2.html#afe762c434a20aa39abb7f121b9d89c03">GetShapes</a>(world, body1)), 1u);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(<a class="code" href="namespaceplayrho_1_1d2.html#afe762c434a20aa39abb7f121b9d89c03">GetShapes</a>(world, body2)), 1u);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>())<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(<a name="a69"></a><a class="code" href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">GetAssociationCount</a>(world), std::size_t(2));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount())<span class="keyword">&gt;</span>(0));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> stats0 = <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>())<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount())<span class="keyword">&gt;</span>(3));</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(stats0.pre.proxiesMoved, <span class="keyword">static_cast&lt;</span>decltype(stats0.pre.proxiesMoved)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.pre.destroyed, <span class="keyword">static_cast&lt;</span>decltype(stats0.pre.destroyed)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.pre.added, <span class="keyword">static_cast&lt;</span>decltype(stats0.pre.added)<span class="keyword">&gt;</span>(1));</div>
<div class="line">    EXPECT_EQ(stats0.pre.ignored, <span class="keyword">static_cast&lt;</span>decltype(stats0.pre.ignored)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.pre.updated, <span class="keyword">static_cast&lt;</span>decltype(stats0.pre.updated)<span class="keyword">&gt;</span>(1));</div>
<div class="line">    EXPECT_EQ(stats0.pre.skipped, <span class="keyword">static_cast&lt;</span>decltype(stats0.pre.skipped)<span class="keyword">&gt;</span>(0));</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(stats0.reg.minSeparation, -2.0_m);</div>
<div class="line">    EXPECT_EQ(stats0.reg.maxIncImpulse, 0.0_Ns);</div>
<div class="line">    EXPECT_EQ(stats0.reg.islandsFound, <span class="keyword">static_cast&lt;</span>decltype(stats0.reg.islandsFound)<span class="keyword">&gt;</span>(1));</div>
<div class="line">    EXPECT_EQ(stats0.reg.islandsSolved, <span class="keyword">static_cast&lt;</span>decltype(stats0.reg.islandsSolved)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.reg.contactsAdded, <span class="keyword">static_cast&lt;</span>decltype(stats0.reg.contactsAdded)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.reg.bodiesSlept, <span class="keyword">static_cast&lt;</span>decltype(stats0.reg.bodiesSlept)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.reg.proxiesMoved, <span class="keyword">static_cast&lt;</span>decltype(stats0.reg.proxiesMoved)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.reg.sumPosIters, <span class="keyword">static_cast&lt;</span>decltype(stats0.reg.sumPosIters)<span class="keyword">&gt;</span>(3));</div>
<div class="line">    EXPECT_EQ(stats0.reg.sumVelIters, <span class="keyword">static_cast&lt;</span>decltype(stats0.reg.sumVelIters)<span class="keyword">&gt;</span>(1));</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(stats0.toi.minSeparation, std::numeric_limits&lt;Length&gt;::infinity());</div>
<div class="line">    EXPECT_EQ(stats0.toi.maxIncImpulse, 0.0_Ns);</div>
<div class="line">    EXPECT_EQ(stats0.toi.islandsFound, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.islandsFound)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.islandsSolved, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.islandsSolved)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.contactsFound, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.contactsFound)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.contactsAtMaxSubSteps, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.contactsAtMaxSubSteps)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.contactsUpdatedToi, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.contactsUpdatedToi)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.contactsUpdatedTouching, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.contactsUpdatedTouching)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.contactsSkippedTouching, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.contactsSkippedTouching)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.contactsAdded, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.contactsAdded)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.proxiesMoved, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.proxiesMoved)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.sumPosIters, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.sumPosIters)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.sumVelIters, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.sumVelIters)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.maxSimulContacts, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.maxSimulContacts)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.maxDistIters, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.maxDistIters)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.maxToiIters, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.maxToiIters)<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(stats0.toi.maxRootIters, <span class="keyword">static_cast&lt;</span>decltype(stats0.toi.maxRootIters)<span class="keyword">&gt;</span>(0));</div>
<div class="line"> </div>
<div class="line">    contacts = <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world);</div>
<div class="line">    EXPECT_FALSE(contacts.empty());</div>
<div class="line">    EXPECT_EQ(contacts.size(), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(1));</div>
<div class="line">    <span class="keywordflow">if</span> (contacts.size() == 1u) {</div>
<div class="line">        EXPECT_EQ(contacts.begin()-&gt;first.GetMin(),</div>
<div class="line">                  <span class="keyword">static_cast&lt;</span>decltype(contacts.<a name="a70"></a><a class="code" href="namespaceplayrho.html#a429625691c6a45944e55fe50f9a59199">begin</a>()-<span class="keyword">&gt;</span>first.GetMin())&gt;(0));</div>
<div class="line">        EXPECT_EQ(contacts.begin()-&gt;first.GetMax(),</div>
<div class="line">                  <span class="keyword">static_cast&lt;</span>decltype(contacts.<a class="code" href="namespaceplayrho.html#a429625691c6a45944e55fe50f9a59199">begin</a>()-<span class="keyword">&gt;</span>first.GetMax())&gt;(1));</div>
<div class="line">        EXPECT_EQ(<a name="a71"></a><a class="code" href="namespaceplayrho_1_1d2.html#a94a1320811507b6601ff8224e1469c23">GetShapeA</a>(world, contacts.begin()-&gt;second),</div>
<div class="line">                  *<a class="code" href="namespaceplayrho_1_1d2.html#afe762c434a20aa39abb7f121b9d89c03">GetShapes</a>(world, body1).<a class="code" href="namespaceplayrho.html#a429625691c6a45944e55fe50f9a59199">begin</a>());</div>
<div class="line">        EXPECT_EQ(<a name="a72"></a><a class="code" href="namespaceplayrho_1_1d2.html#ae5df527a800c51b570b382547d06dda4">GetShapeB</a>(world, contacts.begin()-&gt;second),</div>
<div class="line">                  *<a class="code" href="namespaceplayrho_1_1d2.html#afe762c434a20aa39abb7f121b9d89c03">GetShapes</a>(world, body2).<a class="code" href="namespaceplayrho.html#a429625691c6a45944e55fe50f9a59199">begin</a>());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a7df9661feac023ea0e4cbe6369943352">Destroy</a>(world, body1);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(1));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>())<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount())<span class="keyword">&gt;</span>(1));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">GetBodiesForProxies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>())<span class="keyword">&gt;</span>(0));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount())<span class="keyword">&gt;</span>(1));</div>
<div class="line">    contacts = <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world);</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a98ab78cb47da6f6d872d617cc66040a6">empty</a>(contacts));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(contacts), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a7df9661feac023ea0e4cbe6369943352">Destroy</a>(world, body2);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount(), <span class="keyword">static_cast&lt;</span>decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount())<span class="keyword">&gt;</span>(0));</div>
<div class="line">    contacts = <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world);</div>
<div class="line">    EXPECT_TRUE(contacts.empty());</div>
<div class="line">    EXPECT_EQ(contacts.size(), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">GetAssociationCount</a>(world), std::size_t(0));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, SetUnsetSetImpenetrable)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    EXPECT_THROW(<a name="a73"></a><a class="code" href="namespaceplayrho_1_1d2.html#aaf57ca63655e6eaeac4d9e65a8e7be4a">SetImpenetrable</a>(world, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>), std::out_of_range);</div>
<div class="line">    EXPECT_THROW(<a name="a74"></a><a class="code" href="namespaceplayrho_1_1d2.html#a2ba4e5cbd12444be971a3ef0a09e9931">UnsetImpenetrable</a>(world, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>), std::out_of_range);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#aaf57ca63655e6eaeac4d9e65a8e7be4a">SetImpenetrable</a>(world, body));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a8c4170f49badbf1881f371cfb5f466a7">IsImpenetrable</a>(world, body));</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a2ba4e5cbd12444be971a3ef0a09e9931">UnsetImpenetrable</a>(world, body));</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a8c4170f49badbf1881f371cfb5f466a7">IsImpenetrable</a>(world, body));</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#aaf57ca63655e6eaeac4d9e65a8e7be4a">SetImpenetrable</a>(world, body));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a8c4170f49badbf1881f371cfb5f466a7">IsImpenetrable</a>(world, body));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, <a name="a75"></a><a class="code" href="namespaceplayrho_1_1d2.html#a54802d32ec837cdf5669744c20dca3df">SetSleepingAllowed</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a54802d32ec837cdf5669744c20dca3df">SetSleepingAllowed</a>(world, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>, <span class="keyword">true</span>), std::out_of_range);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line"> </div>
<div class="line">    <a name="a76"></a><a class="code" href="namespaceplayrho_1_1d2.html#a2a12afea1828cb69ef94cbfa86018069">SetType</a>(world, body, <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16">BodyType::Static</a>);</div>
<div class="line">    ASSERT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body)));</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a54802d32ec837cdf5669744c20dca3df">SetSleepingAllowed</a>(world, body, <span class="keyword">true</span>));</div>
<div class="line">    EXPECT_TRUE(<a name="a77"></a><a class="code" href="namespaceplayrho_1_1d2.html#a1cde4db895479e9ddd34c70425811699">IsSleepingAllowed</a>(world, body));</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a54802d32ec837cdf5669744c20dca3df">SetSleepingAllowed</a>(world, body, <span class="keyword">false</span>));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a1cde4db895479e9ddd34c70425811699">IsSleepingAllowed</a>(world, body));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a2a12afea1828cb69ef94cbfa86018069">SetType</a>(world, body, <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body)));</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a54802d32ec837cdf5669744c20dca3df">SetSleepingAllowed</a>(world, body, <span class="keyword">true</span>));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a1cde4db895479e9ddd34c70425811699">IsSleepingAllowed</a>(world, body));</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a54802d32ec837cdf5669744c20dca3df">SetSleepingAllowed</a>(world, body, <span class="keyword">false</span>));</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a1cde4db895479e9ddd34c70425811699">IsSleepingAllowed</a>(world, body));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, GetSetAngle)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a name="a78"></a><a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a40c78b58b86002ee38fad2d3c9dd787e">BodyType::Kinematic</a>));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body), 0_deg);</div>
<div class="line">    ASSERT_EQ(<a name="a79"></a><a class="code" href="namespaceplayrho_1_1d2.html#a306635dbd11f92ad1020a386fce7b7c2">GetAngularVelocity</a>(world, body), 0_rpm);</div>
<div class="line">    EXPECT_NO_THROW(<a name="a80"></a><a class="code" href="namespaceplayrho_1_1d2.html#a804f65cef5ba33970fabd8af9d40cb93">SetAngle</a>(world, body, <a name="a81"></a><a class="code" href="namespaceplayrho.html#a3fe0bdbb0ea9c449b7504f7c75840993">Pi</a> * 0.5_rad));</div>
<div class="line">    EXPECT_NEAR(<span class="keywordtype">double</span>(<a name="a82"></a><a class="code" href="namespaceplayrho.html#a7aad07dca595ebb37551e793171c2cfa">StripUnit</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body))), <a class="code" href="namespaceplayrho.html#a3fe0bdbb0ea9c449b7504f7c75840993">Pi</a> * 0.5, 0.00001);</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a804f65cef5ba33970fabd8af9d40cb93">SetAngle</a>(world, body, <a class="code" href="namespaceplayrho.html#a3fe0bdbb0ea9c449b7504f7c75840993">Pi</a> * 2.1_rad));</div>
<div class="line">    EXPECT_NEAR(<span class="keywordtype">double</span>(<a class="code" href="namespaceplayrho.html#a7aad07dca595ebb37551e793171c2cfa">StripUnit</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body))), <a class="code" href="namespaceplayrho.html#a3fe0bdbb0ea9c449b7504f7c75840993">Pi</a> * 2.1, 0.00001);</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a804f65cef5ba33970fabd8af9d40cb93">SetAngle</a>(world, body, <a class="code" href="namespaceplayrho.html#a3fe0bdbb0ea9c449b7504f7c75840993">Pi</a> * 0_rad));</div>
<div class="line">    EXPECT_NO_THROW(<a name="a83"></a><a class="code" href="namespaceplayrho_1_1d2.html#adddd763be5890fad18f5a3dd9d2b4d38">SetVelocity</a>(world, body, 60_rpm));</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 105; ++i) {</div>
<div class="line">        EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world));</div>
<div class="line">    }</div>
<div class="line">    EXPECT_NEAR(<span class="keywordtype">double</span>(<a class="code" href="namespaceplayrho.html#a7aad07dca595ebb37551e793171c2cfa">StripUnit</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(<a name="a84"></a><a class="code" href="namespaceplayrho_1_1d2.html#a798bf0d73d9cdbbaad16af6fd13cfed0">GetTransformation</a>(world, body).q))), <span class="comment">//</span></div>
<div class="line">                <span class="keywordtype">double</span>(<a class="code" href="namespaceplayrho.html#a7aad07dca595ebb37551e793171c2cfa">StripUnit</a>(<a name="a85"></a><a class="code" href="namespaceplayrho_1_1d2.html#a5955bf7b1c0cdfa36d11adea236d9af4">GetNormalized</a>(<a name="a86"></a><a class="code" href="group__PhysicalQuantities.html#gabb35ed422281bfdf3c41a276958898fc">Angle</a>{60_rpm * 105 * (1_s / 60)}))), <span class="comment">//</span></div>
<div class="line">                0.001);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, <a name="a87"></a><a class="code" href="namespaceplayrho_1_1d2.html#a9901b5b3ddb898a60f216007adace0de">SetLinearDamping</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    <span class="keyword">auto</span> value = 1_Hz;</div>
<div class="line">    EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a9901b5b3ddb898a60f216007adace0de">SetLinearDamping</a>(world, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>, value), std::out_of_range);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    value = 2_Hz;</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a9901b5b3ddb898a60f216007adace0de">SetLinearDamping</a>(world, body, value));</div>
<div class="line">    EXPECT_EQ(<a name="a88"></a><a class="code" href="namespaceplayrho_1_1d2.html#a19b401f474facc647922e54a7aa60aa8">GetLinearDamping</a>(world, body), value);</div>
<div class="line">    value = 23_Hz;</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a9901b5b3ddb898a60f216007adace0de">SetLinearDamping</a>(world, body, value));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a19b401f474facc647922e54a7aa60aa8">GetLinearDamping</a>(world, body), value);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, <a name="a89"></a><a class="code" href="namespaceplayrho_1_1d2.html#a344a9753e8cd6fb046a57e82d2206d60">SetAngularDamping</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    <span class="keyword">auto</span> value = 1_Hz;</div>
<div class="line">    EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a344a9753e8cd6fb046a57e82d2206d60">SetAngularDamping</a>(world, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>, value), std::out_of_range);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    value = 2_Hz;</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a344a9753e8cd6fb046a57e82d2206d60">SetAngularDamping</a>(world, body, value));</div>
<div class="line">    EXPECT_EQ(<a name="a90"></a><a class="code" href="namespaceplayrho_1_1d2.html#a7543270614333c0aa69df56877a3a1bd">GetAngularDamping</a>(world, body), value);</div>
<div class="line">    value = 23_Hz;</div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a344a9753e8cd6fb046a57e82d2206d60">SetAngularDamping</a>(world, body, value));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7543270614333c0aa69df56877a3a1bd">GetAngularDamping</a>(world, body), value);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, SynchronizeProxies)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf).pre.proxiesMoved, <a name="a91"></a><a class="code" href="structplayrho_1_1PreStepStats.html#a3d2ba1ef027e1612d7631cc1a3c0de33">PreStepStats::counter_type</a>(0));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> bodyA = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, bodyA, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf(1_m)));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf).pre.proxiesMoved, <a class="code" href="structplayrho_1_1PreStepStats.html#a3d2ba1ef027e1612d7631cc1a3c0de33">PreStepStats::counter_type</a>(0));</div>
<div class="line">    <a name="a92"></a><a class="code" href="namespaceplayrho_1_1d2.html#a5e7d71d5a95963adfa0be724685f0c72">SetLocation</a>(world, bodyA, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{10_m, -4_m});</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf).pre.proxiesMoved, <a class="code" href="structplayrho_1_1PreStepStats.html#a3d2ba1ef027e1612d7631cc1a3c0de33">PreStepStats::counter_type</a>(1));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, SetTypeOfBody)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    <span class="keyword">auto</span> other = World{};</div>
<div class="line">    EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a2a12afea1828cb69ef94cbfa86018069">SetType</a>(other, body, <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16">BodyType::Static</a>), std::out_of_range);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a2a12afea1828cb69ef94cbfa86018069">SetType</a>(world, body, <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16">BodyType::Static</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16">BodyType::Static</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, <a class="code" href="namespaceplayrho_1_1d2.html#a52ca8acb99e3c3591d13ca912282470e">Query</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body));</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, body));</div>
<div class="line">    ASSERT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a8c4170f49badbf1881f371cfb5f466a7">IsImpenetrable</a>(world, body));</div>
<div class="line">    ASSERT_EQ(<a name="a93"></a><a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a name="a94"></a><a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), 0_m);</div>
<div class="line">    ASSERT_EQ(<a name="a95"></a><a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), 0_m);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a name="a96"></a><a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), 0_mps2);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), 0_mps2);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v1 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> conf = EdgeShapeConf{}.UseVertexRadius(1_m).UseDensity(1_kgpm2).Set(v1, v2);</div>
<div class="line">    ASSERT_EQ(<a name="a97"></a><a class="code" href="namespaceplayrho_1_1d2.html#afeeb64f8bbd439af0e350288e16da2e7">GetChildCount</a>(conf), <a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a>(1));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, Shape{conf});</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    stepConf.deltaTime = 0_s;</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line"> </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> foundOurs = 0;</div>
<div class="line">        <span class="keyword">auto</span> foundOthers = 0;</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a52ca8acb99e3c3591d13ca912282470e">Query</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world), <a class="code" href="namespaceplayrho_1_1d2.html#abfb3031d97cbdac7eb72cccf26e3c694">AABB</a>{v1, v2}, [&amp;](<a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a>, <a class="code" href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">ShapeID</a> f, <a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a> i) {</div>
<div class="line">            <span class="keywordflow">if</span> (f == shapeId &amp;&amp; i == 0)</div>
<div class="line">            {</div>
<div class="line">                ++foundOurs;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                ++foundOthers;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        });</div>
<div class="line">        EXPECT_EQ(foundOurs, 1);</div>
<div class="line">        EXPECT_EQ(foundOthers, 0);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, <a class="code" href="group__RayCastGroup.html#gaa2b257514c434e44a5ea5839c959bea9">RayCast</a>)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> p0 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-10_m, +3_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b0 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>).UseLocation(p0));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b0, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{1_m}));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> p1 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>).UseLocation(p1));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b1, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{0.1_m}));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16">BodyType::Static</a>).UseLocation(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-100_m, -100_m}));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, b2, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, EdgeShapeConf{<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-20_m, -20_m}}));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body));</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, body));</div>
<div class="line">    ASSERT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a8c4170f49badbf1881f371cfb5f466a7">IsImpenetrable</a>(world, body));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), 0_m);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), 0_m);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), 0_mps2);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), 0_mps2);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v1 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> conf = EdgeShapeConf{}.UseVertexRadius(1_m).UseDensity(1_kgpm2).Set(v1, v2);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shape = Shape{conf};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#afeeb64f8bbd439af0e350288e16da2e7">GetChildCount</a>(shape), <a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a>(1));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, shape);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    stepConf.deltaTime = 0_s;</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-2_m, 0_m};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p3 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+2_m, 0_m};</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> foundOurs = 0;</div>
<div class="line">        <span class="keyword">auto</span> foundOthers = 0;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> retval = <a class="code" href="group__RayCastGroup.html#gaa2b257514c434e44a5ea5839c959bea9">RayCast</a>(world, <a class="code" href="namespaceplayrho_1_1d2.html#adf053dc4cae3fabb24f6e3c8b8697ffb">RayCastInput</a>{p2, p3, UnitInterval&lt;Real&gt;{1}},</div>
<div class="line">                                    [&amp;](<a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a> b, <a class="code" href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">ShapeID</a> f, <a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a> i, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>, UnitVec) {</div>
<div class="line">            <span class="keywordflow">if</span> (b == body &amp;&amp; f == shapeId &amp;&amp; i == 0)</div>
<div class="line">            {</div>
<div class="line">                ++foundOurs;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                ++foundOthers;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106a4592f28dc9d11de3ce507bebafd9de16">RayCastOpcode::ResetRay</a>;</div>
<div class="line">        });</div>
<div class="line">        EXPECT_FALSE(retval);</div>
<div class="line">        EXPECT_EQ(foundOurs, 1);</div>
<div class="line">        EXPECT_EQ(foundOthers, 1);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-2_m, 0_m};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p3 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+2_m, 0_m};</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">auto</span> foundOurs = 0;</div>
<div class="line">        <span class="keyword">auto</span> foundOthers = 0;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> retval = <a class="code" href="group__RayCastGroup.html#gaa2b257514c434e44a5ea5839c959bea9">RayCast</a>(world, <a class="code" href="namespaceplayrho_1_1d2.html#adf053dc4cae3fabb24f6e3c8b8697ffb">RayCastInput</a>{p2, p3, UnitInterval&lt;Real&gt;{1}},</div>
<div class="line">                                    [&amp;](<a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a> b, <a class="code" href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">ShapeID</a> f, <a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a> i, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>, UnitVec) {</div>
<div class="line">            <span class="keywordflow">if</span> (b == body &amp;&amp; f == shapeId &amp;&amp; i == 0)</div>
<div class="line">            {</div>
<div class="line">                ++foundOurs;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                ++foundOthers;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a98"></a><a class="code" href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106a056fa3d840f48b7bfbbd68c19a4797b3">RayCastOpcode::Terminate</a>;</div>
<div class="line">        });</div>
<div class="line">        EXPECT_TRUE(retval);</div>
<div class="line">        EXPECT_EQ(foundOurs, 1);</div>
<div class="line">        EXPECT_EQ(foundOthers, 0);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-2_m, 0_m};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p3 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+2_m, 0_m};</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">auto</span> foundOurs = 0;</div>
<div class="line">        <span class="keyword">auto</span> foundOthers = 0;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> retval = <a class="code" href="group__RayCastGroup.html#gaa2b257514c434e44a5ea5839c959bea9">RayCast</a>(world, <a class="code" href="namespaceplayrho_1_1d2.html#adf053dc4cae3fabb24f6e3c8b8697ffb">RayCastInput</a>{p2, p3, UnitInterval&lt;Real&gt;{1}},</div>
<div class="line">                                    [&amp;](<a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a> b, <a class="code" href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">ShapeID</a> f, <a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a> i, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>, UnitVec) {</div>
<div class="line">            <span class="keywordflow">if</span> (b == body &amp;&amp; f == shapeId &amp;&amp; i == 0)</div>
<div class="line">            {</div>
<div class="line">                ++foundOurs;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                ++foundOthers;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a99"></a><a class="code" href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106aaf8767ee039cdc51717435bb815da593">RayCastOpcode::IgnoreFixture</a>;</div>
<div class="line">        });</div>
<div class="line">        EXPECT_FALSE(retval);</div>
<div class="line">        EXPECT_EQ(foundOurs, 1);</div>
<div class="line">        EXPECT_EQ(foundOthers, 1);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{ +5_m, 0_m};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p3 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+10_m, 0_m};</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">auto</span> foundOurs = 0;</div>
<div class="line">        <span class="keyword">auto</span> foundOthers = 0;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> retval = <a class="code" href="group__RayCastGroup.html#gaa2b257514c434e44a5ea5839c959bea9">RayCast</a>(world, <a class="code" href="namespaceplayrho_1_1d2.html#adf053dc4cae3fabb24f6e3c8b8697ffb">RayCastInput</a>{p2, p3, UnitInterval&lt;Real&gt;{1}},</div>
<div class="line">                                    [&amp;](<a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a> b, <a class="code" href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">ShapeID</a> f, <a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a> i, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>, UnitVec) {</div>
<div class="line">            <span class="keywordflow">if</span> (b == body &amp;&amp; f == shapeId &amp;&amp; i == 0)</div>
<div class="line">            {</div>
<div class="line">                ++foundOurs;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                ++foundOthers;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106aaf8767ee039cdc51717435bb815da593">RayCastOpcode::IgnoreFixture</a>;</div>
<div class="line">        });</div>
<div class="line">        EXPECT_FALSE(retval);</div>
<div class="line">        EXPECT_EQ(foundOurs, 0);</div>
<div class="line">        EXPECT_EQ(foundOthers, 0);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-2_m, 0_m};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p3 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+2_m, 0_m};</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">auto</span> foundOurs = 0;</div>
<div class="line">        <span class="keyword">auto</span> foundOthers = 0;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> retval = <a class="code" href="group__RayCastGroup.html#gaa2b257514c434e44a5ea5839c959bea9">RayCast</a>(world, <a class="code" href="namespaceplayrho_1_1d2.html#adf053dc4cae3fabb24f6e3c8b8697ffb">RayCastInput</a>{p2, p3, UnitInterval&lt;Real&gt;{1}},</div>
<div class="line">                                    [&amp;](<a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a> b, <a class="code" href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">ShapeID</a> f, <a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a> i, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>, UnitVec) {</div>
<div class="line">            <span class="keywordflow">if</span> (b == body &amp;&amp; f == shapeId &amp;&amp; i == 0)</div>
<div class="line">            {</div>
<div class="line">                ++foundOurs;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                ++foundOthers;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span> <a name="a100"></a><a class="code" href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106a8dcfe18b6245b17c9cd69d5af7ef1847">RayCastOpcode::ClipRay</a>;</div>
<div class="line">        });</div>
<div class="line">        EXPECT_TRUE(retval);</div>
<div class="line">        EXPECT_EQ(foundOurs, 1);</div>
<div class="line">        EXPECT_EQ(foundOthers, 0);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-3_m,  0_m};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p3 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+2_m, 10_m};</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">auto</span> foundOurs = 0;</div>
<div class="line">        <span class="keyword">auto</span> foundOthers = 0;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> retval = <a class="code" href="group__RayCastGroup.html#gaa2b257514c434e44a5ea5839c959bea9">RayCast</a>(world, <a class="code" href="namespaceplayrho_1_1d2.html#adf053dc4cae3fabb24f6e3c8b8697ffb">RayCastInput</a>{p2, p3, UnitInterval&lt;Real&gt;{1}},</div>
<div class="line">                                    [&amp;](<a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a> b, <a class="code" href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">ShapeID</a> f, <a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a> i, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>, UnitVec) {</div>
<div class="line">            <span class="keywordflow">if</span> (b == body &amp;&amp; f == shapeId &amp;&amp; i == 0)</div>
<div class="line">            {</div>
<div class="line">                ++foundOurs;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                ++foundOthers;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106a4592f28dc9d11de3ce507bebafd9de16">RayCastOpcode::ResetRay</a>;</div>
<div class="line">        });</div>
<div class="line">        EXPECT_FALSE(retval);</div>
<div class="line">        EXPECT_EQ(foundOurs, 0);</div>
<div class="line">        EXPECT_EQ(foundOthers, 0);</div>
<div class="line">    }</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> found = 0;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> rci = <a class="code" href="namespaceplayrho_1_1d2.html#adf053dc4cae3fabb24f6e3c8b8697ffb">RayCastInput</a>{<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-100_m, -101_m}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-120_m, -121_m}, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{0.9f}};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> retval = <a class="code" href="group__RayCastGroup.html#gaa2b257514c434e44a5ea5839c959bea9">RayCast</a>(world, rci,</div>
<div class="line">                                    [&amp;](<a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a>, <a class="code" href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">ShapeID</a>, <a class="code" href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">ChildCounter</a>, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>, UnitVec) {</div>
<div class="line">            ++found;</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106a056fa3d840f48b7bfbbd68c19a4797b3">RayCastOpcode::Terminate</a>;</div>
<div class="line">        });</div>
<div class="line">        EXPECT_FALSE(retval);</div>
<div class="line">        EXPECT_EQ(found, 0);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, ClearForcesFreeFunction)</div>
<div class="line">{</div>
<div class="line">    World world;</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>).UseLinearAcceleration(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body));</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, body));</div>
<div class="line">    ASSERT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a8c4170f49badbf1881f371cfb5f466a7">IsImpenetrable</a>(world, body));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v1 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> conf = EdgeShapeConf{}.UseVertexRadius(1_m).UseDensity(1_kgpm2).Set(v1, v2);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, conf));</div>
<div class="line"> </div>
<div class="line">    <a name="a101"></a><a class="code" href="namespaceplayrho_1_1d2.html#ac7a5e9073194a89035ad2f060435542b">ApplyForceToCenter</a>(world, body, <a name="a102"></a><a class="code" href="namespaceplayrho.html#a2d09dc7b51321c052b071485357ca1f9">Force2</a>(2_N, 4_N));</div>
<div class="line">    ASSERT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">    ASSERT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">    </div>
<div class="line">    <a name="a103"></a><a class="code" href="namespaceplayrho_1_1d2.html#a1af6a33d54c562234a4ba6f70f03cc62">ClearForces</a>(world);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), 0_mps2);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), 0_mps2);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, SetAccelerationsFunctionalFF)</div>
<div class="line">{</div>
<div class="line">    World world;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> a1 = Acceleration{</div>
<div class="line">        <a name="a104"></a><a class="code" href="namespaceplayrho.html#a5822921028100052d4c6dfb43c7f6c4b">LinearAcceleration2</a>{1_mps2, 2_mps2}, 2.1f * <a name="a105"></a><a class="code" href="group__PhysicalUnits.html#ga0da7c45fe3ebc86d397e684154033742">RadianPerSquareSecond</a></div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> a2 = a1 * 2;</div>
<div class="line">    ASSERT_EQ(a1.linear * 2, a2.linear);</div>
<div class="line">    ASSERT_EQ(a1.angular * 2, a2.angular);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(b1, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, b1));</div>
<div class="line">    <a name="a106"></a><a class="code" href="namespaceplayrho_1_1d2.html#a005d180107a41f007d4c495abdebd06f">SetAcceleration</a>(world, b1, a1);</div>
<div class="line">    ASSERT_EQ(<a name="a107"></a><a class="code" href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(world, b1), a1);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(b2, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, b2));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a005d180107a41f007d4c495abdebd06f">SetAcceleration</a>(world, b2, a2);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(world, b2), a2);</div>
<div class="line"> </div>
<div class="line">    <a name="a108"></a><a class="code" href="namespaceplayrho_1_1d2.html#ae23446b68b07e35cff2b642c5573acfe">SetAccelerations</a>(world, [](<span class="keyword">const</span> World&amp; world, <a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a> b) {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(world, b) * 2;</div>
<div class="line">    });</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(world, b1), a1 * 2);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(world, b2), a2 * 2);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, SetLinearAccelerationsFF)</div>
<div class="line">{</div>
<div class="line">    World world;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> a1 = Acceleration{</div>
<div class="line">        <a class="code" href="namespaceplayrho.html#a5822921028100052d4c6dfb43c7f6c4b">LinearAcceleration2</a>{1_mps2, 2_mps2}, 2.1f * <a class="code" href="group__PhysicalUnits.html#ga0da7c45fe3ebc86d397e684154033742">RadianPerSquareSecond</a></div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> a2 = a1 * 2;</div>
<div class="line">    ASSERT_EQ(a1.linear * 2, a2.linear);</div>
<div class="line">    ASSERT_EQ(a1.angular * 2, a2.angular);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(b1, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, b1));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a005d180107a41f007d4c495abdebd06f">SetAcceleration</a>(world, b1, a1);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(world, b1), a1);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(b2, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, b2));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a005d180107a41f007d4c495abdebd06f">SetAcceleration</a>(world, b2, a2);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(world, b2), a2);</div>
<div class="line"> </div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(world, b1), a1);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(world, b2), a2);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ae23446b68b07e35cff2b642c5573acfe">SetAccelerations</a>(world, a1.linear * 2);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(world, b1), (Acceleration{a1.linear * 2, a1.angular}));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(world, b2), (Acceleration{a1.linear * 2, a2.angular}));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, FindClosestBodyFF)</div>
<div class="line">{</div>
<div class="line">    World world;</div>
<div class="line">    ASSERT_EQ(<a name="a109"></a><a class="code" href="namespaceplayrho_1_1d2.html#a79b87dd5723bbca53647199735376788">FindClosestBody</a>(world, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}), <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseLocation(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{10_m, 10_m}));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a79b87dd5723bbca53647199735376788">FindClosestBody</a>(world, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0_m, 0_m}), b1);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseLocation(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{1_m, -2_m}));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a79b87dd5723bbca53647199735376788">FindClosestBody</a>(world, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0_m, 0_m}), b2);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b3 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseLocation(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-5_m, 4_m}));</div>
<div class="line">    EXPECT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#a79b87dd5723bbca53647199735376788">FindClosestBody</a>(world, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0_m, 0_m}), b3);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a79b87dd5723bbca53647199735376788">FindClosestBody</a>(world, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0_m, 0_m}), b2);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, GetAssociationCountFreeFunction)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">GetAssociationCount</a>(world), std::size_t(0));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v1 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeConf = EdgeShapeConf{}.UseVertexRadius(1_m).UseDensity(1_kgpm2).Set(v1, v2);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId1 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, shapeConf);</div>
<div class="line">    ASSERT_NE(shapeId1, <a class="code" href="namespaceplayrho.html#a7cf47dd833aad177ac33142cfc5e6bc3">InvalidShapeID</a>);</div>
<div class="line"> </div>
<div class="line">    ASSERT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId1));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">GetAssociationCount</a>(world), std::size_t(1));</div>
<div class="line"> </div>
<div class="line">    ASSERT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId1));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">GetAssociationCount</a>(world), std::size_t(2));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId2 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, shapeConf);</div>
<div class="line">    ASSERT_NE(shapeId2, <a class="code" href="namespaceplayrho.html#a7cf47dd833aad177ac33142cfc5e6bc3">InvalidShapeID</a>);</div>
<div class="line"> </div>
<div class="line">    ASSERT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId2));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">GetAssociationCount</a>(world), std::size_t(3));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, GetUsedShapesCountFreeFunction)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    ASSERT_EQ(<a name="a110"></a><a class="code" href="namespaceplayrho_1_1d2.html#a60f56df55fce1755d74eb063f79cac2a">GetUsedShapesCount</a>(world), std::size_t(0));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v1 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeConf = EdgeShapeConf{}.UseVertexRadius(1_m).UseDensity(1_kgpm2).Set(v1, v2);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId1 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, shapeConf);</div>
<div class="line">    ASSERT_NE(shapeId1, <a class="code" href="namespaceplayrho.html#a7cf47dd833aad177ac33142cfc5e6bc3">InvalidShapeID</a>);</div>
<div class="line">    ASSERT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId1));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a60f56df55fce1755d74eb063f79cac2a">GetUsedShapesCount</a>(world), std::size_t(1));</div>
<div class="line">    ASSERT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId1));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a60f56df55fce1755d74eb063f79cac2a">GetUsedShapesCount</a>(world), std::size_t(1));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId2 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, shapeConf);</div>
<div class="line">    ASSERT_NE(shapeId2, <a class="code" href="namespaceplayrho.html#a7cf47dd833aad177ac33142cfc5e6bc3">InvalidShapeID</a>);</div>
<div class="line">    ASSERT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId2));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a60f56df55fce1755d74eb063f79cac2a">GetUsedShapesCount</a>(world), std::size_t(2));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, <a class="code" href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">GetAssociationCount</a>)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">GetAssociationCount</a>(world), std::size_t(0));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v1 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, EdgeShapeConf{}</div>
<div class="line">        .UseVertexRadius(1_m).UseDensity(1_kgpm2).<a name="a111"></a><a class="code" href="namespaceplayrho_1_1d2.html#a9f3ae0c3965083b637c95a58b20bb340">Set</a>(v1, v2));</div>
<div class="line"> </div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">GetAssociationCount</a>(world), std::size_t(1));</div>
<div class="line"> </div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">GetAssociationCount</a>(world), std::size_t(2));</div>
<div class="line"> </div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">GetAssociationCount</a>(world), std::size_t(3));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, AwakenFreeFunction)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(0));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>));</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body));</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, body));</div>
<div class="line">    ASSERT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a8c4170f49badbf1881f371cfb5f466a7">IsImpenetrable</a>(world, body));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0) * <a name="a112"></a><a class="code" href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">MeterPerSquareSecond</a>);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0) * <a class="code" href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">MeterPerSquareSecond</a>);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v1 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, EdgeShapeConf{}.UseVertexRadius(1_m).UseDensity(1_kgpm2).<a class="code" href="namespaceplayrho_1_1d2.html#a9f3ae0c3965083b637c95a58b20bb340">Set</a>(v1, v2));</div>
<div class="line">    ASSERT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId));</div>
<div class="line">    </div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a139df81757401545db36e6fc6f030d75">IsAwake</a>(world, body));</div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    <span class="keywordflow">while</span> (<a class="code" href="namespaceplayrho_1_1d2.html#a139df81757401545db36e6fc6f030d75">IsAwake</a>(world, body))</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    ASSERT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a139df81757401545db36e6fc6f030d75">IsAwake</a>(world, body));</div>
<div class="line">    </div>
<div class="line">    <a name="a113"></a><a class="code" href="namespaceplayrho_1_1d2.html#a4834708af29bcc9ae39ebfc2b9f580f6">Awaken</a>(world);</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a139df81757401545db36e6fc6f030d75">IsAwake</a>(world, body));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, GetTouchingCountFreeFunction)</div>
<div class="line">{</div>
<div class="line">    World world;</div>
<div class="line">    EXPECT_EQ(<a name="a114"></a><a class="code" href="namespaceplayrho_1_1d2.html#a85a86553103a715dd904a4962d4f4403">GetTouchingCount</a>(world), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a85a86553103a715dd904a4962d4f4403">GetTouchingCount</a>(world), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line">    stepConf.deltaTime = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1) / 100_Hz;</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a85a86553103a715dd904a4962d4f4403">GetTouchingCount</a>(world), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(0));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> groundConf = EdgeShapeConf{}</div>
<div class="line">        .Set(<a name="a115"></a><a class="code" href="namespaceplayrho.html#ad93c0cd83df090aba6593ffac4b628ec">Vec2</a>(-40.0f, 0.0f) * <a name="a116"></a><a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, <a class="code" href="namespaceplayrho.html#ad93c0cd83df090aba6593ffac4b628ec">Vec2</a>(40.0f, 0.0f) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> ground = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, ground, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, groundConf));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> lowerBodyConf = BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>).UseLocation(<a class="code" href="namespaceplayrho.html#ad93c0cd83df090aba6593ffac4b628ec">Vec2</a>(0.0f, 0.5f) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> diskConf = DiskShapeConf{}.UseDensity(10_kgpm2);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> smallerDiskConf = DiskShapeConf(diskConf).UseRadius(0.5_m);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> lowerBody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, lowerBodyConf);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, lowerBody, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, smallerDiskConf));</div>
<div class="line">    </div>
<div class="line">    ASSERT_EQ(<a name="a117"></a><a class="code" href="namespaceplayrho_1_1d2.html#ab2ab9325a9628489049f16f50f1004b8">GetAwakeCount</a>(world), 1);</div>
<div class="line">    <span class="keywordflow">while</span> (<a class="code" href="namespaceplayrho_1_1d2.html#ab2ab9325a9628489049f16f50f1004b8">GetAwakeCount</a>(world) &gt; 0)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a85a86553103a715dd904a4962d4f4403">GetTouchingCount</a>(world), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(1));</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, ShiftOriginFreeFunction)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> origin = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{1_m, 1_m};</div>
<div class="line">    </div>
<div class="line">    ASSERT_NE(origin, location);</div>
<div class="line"> </div>
<div class="line">    World world;</div>
<div class="line">    EXPECT_NO_THROW(<a name="a118"></a><a class="code" href="namespaceplayrho_1_1d2.html#a4602fbbc1af40386700118e5ddda8b6a">ShiftOrigin</a>(world, origin));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> bodyConf = BodyConf{};</div>
<div class="line">    bodyConf.UseLocation(location);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, bodyConf);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body), location);</div>
<div class="line"> </div>
<div class="line">    EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a4602fbbc1af40386700118e5ddda8b6a">ShiftOrigin</a>(world, location));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body), origin);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, DynamicEdgeBodyHasCorrectMass)</div>
<div class="line">{</div>
<div class="line">    World world;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> bodyConf = BodyConf{};</div>
<div class="line">    bodyConf.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, bodyConf);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v1 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v2 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+1_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> conf = EdgeShapeConf{}.UseVertexRadius(1_m).UseDensity(1_kgpm2).Set(v1, v2);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shape = Shape{conf};</div>
<div class="line">    ASSERT_EQ(<a name="a119"></a><a class="code" href="namespaceplayrho_1_1d2.html#a066d3e1ae90fa58624f7f07f62eecaf3">GetVertexRadius</a>(shape, 0), 1_m);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, shape);</div>
<div class="line">    ASSERT_NE(shapeId, <a class="code" href="namespaceplayrho.html#a7cf47dd833aad177ac33142cfc5e6bc3">InvalidShapeID</a>);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId);</div>
<div class="line">    ASSERT_EQ(<a name="a120"></a><a class="code" href="namespaceplayrho_1_1d2.html#a1e3ed738b9082f9bfd3358a19d9aa97d">GetDensity</a>(world, shapeId), 1_kgpm2);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> circleMass = <a name="a121"></a><a class="code" href="group__PhysicalQuantities.html#gaaf74540633aeb472114381118842149e">Mass</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a1e3ed738b9082f9bfd3358a19d9aa97d">GetDensity</a>(world, shapeId) * (<a class="code" href="namespaceplayrho.html#a3fe0bdbb0ea9c449b7504f7c75840993">Pi</a> * <a name="a122"></a><a class="code" href="group__Math.html#gac7300e33771c076a6d7236d566b30207">Square</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a066d3e1ae90fa58624f7f07f62eecaf3">GetVertexRadius</a>(shape, 0)))};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> rectMass = <a class="code" href="group__PhysicalQuantities.html#gaaf74540633aeb472114381118842149e">Mass</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a1e3ed738b9082f9bfd3358a19d9aa97d">GetDensity</a>(world, shapeId) * (<a class="code" href="namespaceplayrho_1_1d2.html#a066d3e1ae90fa58624f7f07f62eecaf3">GetVertexRadius</a>(shape, 0) * 2 * <a name="a123"></a><a class="code" href="group__Math.html#gafe323c1c5ab88d30d18413a3c1f10abb">GetMagnitude</a>(v2 - v1))};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> totalMass = <a class="code" href="group__PhysicalQuantities.html#gaaf74540633aeb472114381118842149e">Mass</a>{circleMass + rectMass};</div>
<div class="line">    </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    EXPECT_NEAR(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a name="a124"></a><a class="code" href="namespaceplayrho_1_1d2.html#a628126b03bd99f5df5f08a047692b9da">GetInvMass</a>(world, body) * 1_kg}),</div>
<div class="line">                <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{1_kg / totalMass}),</div>
<div class="line">                0.000001);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, CreateAndDestroyJoint)</div>
<div class="line">{</div>
<div class="line">    World world;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    EXPECT_NE(body1, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    EXPECT_NE(body2, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(2));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7484e45a19ce38178de17a2f0bfdb519">GetJointCount</a>(world), <a class="code" href="namespaceplayrho.html#a3fff859979ed48e0d223d1584eb985c3">JointCounter</a>(0));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho.html#a98ab78cb47da6f6d872d617cc66040a6">empty</a>());</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> anchorA = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+0.4_m, -1.2_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> anchorB = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-2.3_m, +0.7_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> joint = <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{<a name="a125"></a><a class="code" href="namespaceplayrho_1_1d2.html#ab375b99ce3245ea19955018f6d6a6532">GetDistanceJointConf</a>(world, body1, body2,</div>
<div class="line">                                                                    anchorA, anchorB)});</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7484e45a19ce38178de17a2f0bfdb519">GetJointCount</a>(world), <a class="code" href="namespaceplayrho.html#a3fff859979ed48e0d223d1584eb985c3">JointCounter</a>(1));</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho.html#a98ab78cb47da6f6d872d617cc66040a6">empty</a>());</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> joints = <a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> first = *joints.begin();</div>
<div class="line">    EXPECT_EQ(joint, first);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, joint), GetTypeID&lt;DistanceJointConf&gt;());</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a700fc1baf4e0165912da41dae27dfc78">GetBodyA</a>(world, joint), body1);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a37729f6494a066607deb10ea5a57c449">GetBodyB</a>(world, joint), body2);</div>
<div class="line">    EXPECT_EQ(<a name="a126"></a><a class="code" href="namespaceplayrho_1_1d2.html#ad53a1e79d6e949a948293990837ba83f">GetLocalAnchorA</a>(world, joint), anchorA);</div>
<div class="line">    EXPECT_EQ(<a name="a127"></a><a class="code" href="namespaceplayrho_1_1d2.html#a27a8b26e2499ae4abb787373114ecd43">GetLocalAnchorB</a>(world, joint), anchorB);</div>
<div class="line">    EXPECT_FALSE(<a name="a128"></a><a class="code" href="namespaceplayrho_1_1d2.html#ad982ed0433982ac18703569f42f4037c">GetCollideConnected</a>(world, joint));</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a7df9661feac023ea0e4cbe6369943352">Destroy</a>(world, joint);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7484e45a19ce38178de17a2f0bfdb519">GetJointCount</a>(world), <a class="code" href="namespaceplayrho.html#a3fff859979ed48e0d223d1584eb985c3">JointCounter</a>(0));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">GetJoints</a>(world).<a class="code" href="namespaceplayrho.html#a98ab78cb47da6f6d872d617cc66040a6">empty</a>());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, <a name="a129"></a><a class="code" href="namespaceplayrho.html#a7b821c4b23566defba0fd2917d95f0ba">MaxBodies</a>)</div>
<div class="line">{</div>
<div class="line">    World world;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(<a class="code" href="namespaceplayrho.html#a7b821c4b23566defba0fd2917d95f0ba">MaxBodies</a>){0}; i &lt; <a class="code" href="namespaceplayrho.html#a7b821c4b23566defba0fd2917d95f0ba">MaxBodies</a>; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">        ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    }</div>
<div class="line">    {</div>
<div class="line">        EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world), LengthError);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, <a name="a130"></a><a class="code" href="namespaceplayrho.html#a69cde8c9e938d138a9a4ae8355501684">MaxJoints</a>)</div>
<div class="line">{</div>
<div class="line">    World world;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    ASSERT_NE(body1, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    ASSERT_NE(body2, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(<a class="code" href="namespaceplayrho.html#a69cde8c9e938d138a9a4ae8355501684">MaxJoints</a>){0}; i &lt; <a class="code" href="namespaceplayrho.html#a69cde8c9e938d138a9a4ae8355501684">MaxJoints</a>; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> joint = <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{RopeJointConf{body1, body2}});</div>
<div class="line">        ASSERT_NE(joint, <a class="code" href="namespaceplayrho.html#a67d10419efd6effdd41617992a76cbcd">InvalidJointID</a>);</div>
<div class="line">    }</div>
<div class="line">    {</div>
<div class="line">        EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{RopeJointConf{body1, body2}}), LengthError);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, StepZeroTimeDoesNothing)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    </div>
<div class="line">    BodyConf def;</div>
<div class="line">    def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{31.9_m, -19.24_m};</div>
<div class="line">    def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    def.linearAcceleration = <a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, def);</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body), def.location);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a name="a131"></a><a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{0.0f} * <a class="code" href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">MeterPerSquareSecond</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = 0_s;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> pos = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body);</div>
<div class="line">    <span class="keyword">auto</span> vel = <a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 100; ++i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, time_inc);</div>
<div class="line">        </div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">        </div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(def.location));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(pos));</div>
<div class="line">        pos = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body);</div>
<div class="line">        </div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">        EXPECT_TRUE(<a name="a132"></a><a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)) / 1_mps}, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(vel) / 1_mps}));</div>
<div class="line">        vel = <a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, GravitationalBodyMovement)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> a = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(-10);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> p0 = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0_m, 1_m};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> body_def = BodyConf{};</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    body_def.location = p0;</div>
<div class="line">    body_def.linearAcceleration = <a class="code" href="namespaceplayrho.html#a5822921028100052d4c6dfb43c7f6c4b">LinearAcceleration2</a>{0, a * <a class="code" href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">MeterPerSquareSecond</a>};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> t = .01_s;</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a8c4170f49badbf1881f371cfb5f466a7">IsImpenetrable</a>(world, body));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body), p0);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, t);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), a * (t * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{1}) * <a class="code" href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">MeterPerSquareSecond</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(p0));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(p0) + <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)) * t);</div>
<div class="line"> </div>
<div class="line">    p0 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, t);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), a * (t * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{2}) * <a class="code" href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">MeterPerSquareSecond</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(p0));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(p0) + <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)) * t);</div>
<div class="line">    </div>
<div class="line">    p0 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, t);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">    EXPECT_NEAR(<span class="keywordtype">double</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)) / 1_mps}),</div>
<div class="line">                <span class="keywordtype">double</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{a * (t * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{3}) / 1_s}), 0.00001);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(p0));</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(p0) + <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)) * t);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, <a name="a133"></a><a class="code" href="namespaceplayrho_1_1d2.html#a9737040be9601c29cd9a3e3ee5a0b7ce">ComputeMassData</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    <span class="keyword">auto</span> massData = <a name="a134"></a><a class="code" href="namespaceplayrho_1_1d2.html#a1afff43f96a91b8c26b8f0de7b9a71da">MassData</a>{};</div>
<div class="line"> </div>
<div class="line">    EXPECT_THROW(massData = <a class="code" href="namespaceplayrho_1_1d2.html#a9737040be9601c29cd9a3e3ee5a0b7ce">ComputeMassData</a>(world, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>), std::out_of_range);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">    EXPECT_NO_THROW(massData = <a class="code" href="namespaceplayrho_1_1d2.html#a9737040be9601c29cd9a3e3ee5a0b7ce">ComputeMassData</a>(world, body));</div>
<div class="line">    EXPECT_EQ(massData.center, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{});</div>
<div class="line">    EXPECT_EQ(massData.mass, 0_kg);</div>
<div class="line">    EXPECT_EQ(massData.I, <a name="a135"></a><a class="code" href="group__PhysicalQuantities.html#ga81349200b6a963bf87885ab7e89e981d">RotInertia</a>(0));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Creates a 4x2 rectangular shape with 8_m2 area of 8_kg</span></div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, PolygonShapeConf{2_m, 1_m}.UseDensity(1_kgpm2)));</div>
<div class="line">    EXPECT_NO_THROW(massData = <a class="code" href="namespaceplayrho_1_1d2.html#a9737040be9601c29cd9a3e3ee5a0b7ce">ComputeMassData</a>(world, body));</div>
<div class="line">    EXPECT_EQ(massData.center, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{});</div>
<div class="line">    EXPECT_EQ(massData.mass, 8_kg);</div>
<div class="line">    EXPECT_NEAR(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho.html#a7aad07dca595ebb37551e793171c2cfa">StripUnit</a>(massData.I)), 13.3333, 0.0001);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if defined(BODY_DOESNT_GROW_UNBOUNDED)</span></div>
<div class="line">TEST(World, BodyAngleDoesntGrowUnbounded)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}</div>
<div class="line">                                       .UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>)</div>
<div class="line">                                       .UseAngularVelocity(10_rad / <a name="a136"></a><a class="code" href="group__PhysicalUnits.html#ga6dacec03532687e9bac4ac6a882b35ad">Second</a>));</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body), 0_rad);</div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    <span class="keyword">auto</span> lastAngle = 0_rad;</div>
<div class="line">    <span class="keyword">auto</span> maxAngle = 0_rad;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 1000000; ++i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> angle = <a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body);</div>
<div class="line">        EXPECT_NE(angle, lastAngle);</div>
<div class="line">        ASSERT_LE(angle, 360_deg);</div>
<div class="line">        maxAngle = std::max(maxAngle, angle);</div>
<div class="line">        lastAngle = angle;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">TEST(World, BodyAccelPerSpecWithNoVelOrPosIterations)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    </div>
<div class="line">    BodyConf def;</div>
<div class="line">    def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{31.9_m, -19.24_m};</div>
<div class="line">    def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    def.linearAcceleration = <a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, def);</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body), def.location);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{0.0f} * <a class="code" href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">MeterPerSquareSecond</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = 0.01_s;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> pos = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body);</div>
<div class="line">    <span class="keyword">auto</span> vel = <a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 100; ++i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, time_inc, 0, 0);</div>
<div class="line">        </div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">        </div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(def.location));</div>
<div class="line">        EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(pos));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(pos) + ((<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(vel) + <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>) * time_inc) * time_inc));</div>
<div class="line">        pos = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body);</div>
<div class="line">        </div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">        EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(vel));</div>
<div class="line">        EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)) / 1_mps},</div>
<div class="line">                                <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(vel) + <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>) * time_inc) / 1_mps}));</div>
<div class="line">        vel = <a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, BodyAccelRevPerSpecWithNegativeTimeAndNoVelOrPosIterations)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    </div>
<div class="line">    BodyConf def;</div>
<div class="line">    def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{31.9_m, -19.24_m};</div>
<div class="line">    def.linearVelocity = <a name="a137"></a><a class="code" href="namespaceplayrho.html#a2faa31bff8794a0c4191d8b042f7deeb">LinearVelocity2</a>{0, -9.8_mps};</div>
<div class="line">    def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    def.linearAcceleration = <a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, def);</div>
<div class="line">    ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body), def.location);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), -9.8_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{0.0f} * <a class="code" href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">MeterPerSquareSecond</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = -0.01_s;</div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    stepConf.deltaTime = time_inc;</div>
<div class="line">    stepConf.dtRatio = -1;</div>
<div class="line">    stepConf.regPositionIters = 0;</div>
<div class="line">    stepConf.regVelocityIters = 0;</div>
<div class="line">    stepConf.toiPositionIters = 0;</div>
<div class="line">    stepConf.toiVelocityIters = 0;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> pos = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body);</div>
<div class="line">    <span class="keyword">auto</span> vel = <a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 99; ++i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">        </div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">GetLinearAcceleration</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>));</div>
<div class="line">        </div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(def.location));</div>
<div class="line">        EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(pos));</div>
<div class="line">        EXPECT_FLOAT_EQ(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)) / 1_m)),</div>
<div class="line">                        <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>((<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(pos) + ((<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(vel) + <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>) * time_inc) * time_inc)) / 1_m)));</div>
<div class="line">        pos = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body);</div>
<div class="line">        </div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), 0_mps);</div>
<div class="line">        EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(vel));</div>
<div class="line">        EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body)) / 1_mps},</div>
<div class="line">                                <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(vel) + <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>) * time_inc) / 1_mps}));</div>
<div class="line">        vel = <a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>MyContactListener</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">using</span> PreSolver = std::function&lt;void(<a name="a138"></a><a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> Manifold&amp;)&gt;;</div>
<div class="line">    <span class="keyword">using</span> PostSolver = std::function&lt;void(<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> ContactImpulsesList&amp;, <span class="keywordtype">unsigned</span>)&gt;;</div>
<div class="line">    <span class="keyword">using</span> Ender = std::function&lt;void(<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>)&gt;;</div>
<div class="line"> </div>
<div class="line">    MyContactListener(World&amp; w, PreSolver&amp;&amp; pre, PostSolver&amp;&amp; post, Ender&amp;&amp; <a name="a139"></a><a class="code" href="namespaceplayrho.html#a370e741c22960aad46732cdc0353f428">end</a>):</div>
<div class="line">        world(w), presolver(pre), postsolver(post), ender(<a class="code" href="namespaceplayrho.html#a370e741c22960aad46732cdc0353f428">end</a>) {}</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> BeginContact(<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> contact)</div>
<div class="line">    {</div>
<div class="line">        ++begin_contacts;</div>
<div class="line">        contacting = <span class="keyword">true</span>;</div>
<div class="line">        touching = <a name="a140"></a><a class="code" href="namespaceplayrho_1_1d2.html#a50f925cd4a62e0bdad087cba2561efba">IsTouching</a>(world, contact);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> bA = <a class="code" href="namespaceplayrho_1_1d2.html#a700fc1baf4e0165912da41dae27dfc78">GetBodyA</a>(world, contact);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> sA = <a class="code" href="namespaceplayrho_1_1d2.html#a94a1320811507b6601ff8224e1469c23">GetShapeA</a>(world, contact);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> bB = <a class="code" href="namespaceplayrho_1_1d2.html#a37729f6494a066607deb10ea5a57c449">GetBodyB</a>(world, contact);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> sB = <a class="code" href="namespaceplayrho_1_1d2.html#ae5df527a800c51b570b382547d06dda4">GetShapeB</a>(world, contact);</div>
<div class="line">        body_a[0] = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, bA);</div>
<div class="line">        body_b[0] = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, bB);</div>
<div class="line">        EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world), WrongState);</div>
<div class="line">        EXPECT_THROW(<a name="a141"></a><a class="code" href="namespaceplayrho_1_1d2.html#ae2bf839e74417fc9845d648c90f5b1cc">SetJoint</a>(world, <a class="code" href="namespaceplayrho.html#a67d10419efd6effdd41617992a76cbcd">InvalidJointID</a>, Joint{}), WrongState);</div>
<div class="line">        EXPECT_THROW(<a name="a142"></a><a class="code" href="namespaceplayrho_1_1d2.html#a089e703b548a6b5f8b02ceb661a40a1d">SetShape</a>(world, sA, Shape()), WrongState);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> typeA = <a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, bA);</div>
<div class="line">        <span class="keywordflow">if</span> (typeA != <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a40c78b58b86002ee38fad2d3c9dd787e">BodyType::Kinematic</a>)</div>
<div class="line">        {</div>
<div class="line">            EXPECT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a2a12afea1828cb69ef94cbfa86018069">SetType</a>(world, bA, typeA));</div>
<div class="line">            EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a2a12afea1828cb69ef94cbfa86018069">SetType</a>(world, bA, <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a40c78b58b86002ee38fad2d3c9dd787e">BodyType::Kinematic</a>), WrongState);</div>
<div class="line">        }</div>
<div class="line">        EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a7df9661feac023ea0e4cbe6369943352">Destroy</a>(world, bA), WrongState);</div>
<div class="line">        EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a7df9661feac023ea0e4cbe6369943352">Destroy</a>(world, sA), WrongState);</div>
<div class="line">        EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{DistanceJointConf{bA, bB}}), WrongState);</div>
<div class="line">        EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf), WrongState);</div>
<div class="line">        EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a4602fbbc1af40386700118e5ddda8b6a">ShiftOrigin</a>(world, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}), WrongState);</div>
<div class="line">        EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, Shape{DiskShapeConf{}}), WrongState);</div>
<div class="line">        EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, bA, sA), WrongState);</div>
<div class="line">        EXPECT_THROW(<a name="a143"></a><a class="code" href="namespaceplayrho_1_1d2.html#aa96788ab361740a16d316b821154ea9e">Detach</a>(world, bA, sA), WrongState);</div>
<div class="line">        EXPECT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#aa96788ab361740a16d316b821154ea9e">Detach</a>(world, bB, sB), WrongState);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> EndContact(<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> contact)</div>
<div class="line">    {</div>
<div class="line">        ++end_contacts;</div>
<div class="line">        contacting = <span class="keyword">false</span>;</div>
<div class="line">        touching = <a class="code" href="namespaceplayrho_1_1d2.html#a50f925cd4a62e0bdad087cba2561efba">IsTouching</a>(world, contact);</div>
<div class="line">        body_a[1] = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, <a class="code" href="namespaceplayrho_1_1d2.html#a700fc1baf4e0165912da41dae27dfc78">GetBodyA</a>(world, contact));</div>
<div class="line">        body_b[1] = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, <a class="code" href="namespaceplayrho_1_1d2.html#a37729f6494a066607deb10ea5a57c449">GetBodyB</a>(world, contact));</div>
<div class="line">        <span class="keywordflow">if</span> (ender)</div>
<div class="line">        {</div>
<div class="line">            ender(contact);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> PreSolve(<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> Manifold&amp; oldManifold)</div>
<div class="line">    {</div>
<div class="line">        ++pre_solves;</div>
<div class="line">        presolver(<span class="keywordtype">id</span>, oldManifold);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> PostSolve(<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> ContactImpulsesList&amp; impulses, <span class="keywordtype">unsigned</span> solved)</div>
<div class="line">    {</div>
<div class="line">        ++post_solves;</div>
<div class="line">        postsolver(<span class="keywordtype">id</span>, impulses, solved);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    World&amp; world;</div>
<div class="line">    <span class="keywordtype">unsigned</span> begin_contacts = 0;</div>
<div class="line">    <span class="keywordtype">unsigned</span> end_contacts = 0;</div>
<div class="line">    <span class="keywordtype">unsigned</span> pre_solves = 0;</div>
<div class="line">    <span class="keywordtype">unsigned</span> post_solves = 0;</div>
<div class="line">    <span class="keywordtype">bool</span> contacting = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> touching = <span class="keyword">false</span>;</div>
<div class="line">    <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a> body_a[2] = {<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}};</div>
<div class="line">    <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a> body_b[2] = {<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}};</div>
<div class="line">    PreSolver presolver;</div>
<div class="line">    PostSolver postsolver;</div>
<div class="line">    Ender ender;</div>
<div class="line">    <span class="keyword">const</span> StepConf stepConf{};</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">TEST(World, NoCorrectionsWithNoVelOrPosIterations)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> x = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(10); <span class="comment">// other test parameters tuned to this value being 10</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> presolved = <span class="keywordtype">unsigned</span>{0};</div>
<div class="line">    <span class="keyword">auto</span> postsolved = <span class="keywordtype">unsigned</span>{0};</div>
<div class="line">    World world{};</div>
<div class="line">    MyContactListener listener{</div>
<div class="line">        world,</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> Manifold&amp;) { ++presolved; },</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> ContactImpulsesList&amp;, unsigned) { ++postsolved; },</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>) {},</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a name="a144"></a><a class="code" href="namespaceplayrho_1_1d2.html#ab2d473e67d8c73d84b5bab36684b21e4">SetBeginContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.BeginContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a name="a145"></a><a class="code" href="namespaceplayrho_1_1d2.html#a0eb658b0c7360d020e51833df13fe966">SetEndContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.EndContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a name="a146"></a><a class="code" href="namespaceplayrho_1_1d2.html#a6cf097ec66665aaee2ee3f003bdd3c95">SetPreSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> Manifold&amp; manifold) {</div>
<div class="line">        listener.PreSolve(<span class="keywordtype">id</span>, manifold);</div>
<div class="line">    });</div>
<div class="line">    <a name="a147"></a><a class="code" href="namespaceplayrho_1_1d2.html#a6cdc554f84a577ddb26cc3f11db7948f">SetPostSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>,</div>
<div class="line">                                                  <span class="keyword">const</span> ContactImpulsesList&amp; impulses,</div>
<div class="line">                                                  <span class="keywordtype">unsigned</span> count){</div>
<div class="line">        listener.PostSolve(<span class="keywordtype">id</span>, impulses, count);</div>
<div class="line">    });</div>
<div class="line">    </div>
<div class="line">    ASSERT_EQ(listener.begin_contacts, <span class="keywordtype">unsigned</span>(0));</div>
<div class="line">    ASSERT_EQ(listener.end_contacts, <span class="keywordtype">unsigned</span>(0));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> body_def = BodyConf{};</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    body_def.bullet = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseRadius(1_m).UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1)).UseDensity(1_kgpm2));</div>
<div class="line">    </div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, 0_m};</div>
<div class="line">    body_def.linearVelocity = <a class="code" href="namespaceplayrho.html#a2faa31bff8794a0c4191d8b042f7deeb">LinearVelocity2</a>{+x * 1_mps, 0_mps};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body_a = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    ASSERT_NE(body_a, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body_a), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body_a));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, body_a));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body_a, shapeId);</div>
<div class="line">    </div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, 0_m};</div>
<div class="line">    body_def.linearVelocity = <a class="code" href="namespaceplayrho.html#a2faa31bff8794a0c4191d8b042f7deeb">LinearVelocity2</a>{-x * 1_mps, 0_mps};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body_b = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    ASSERT_NE(body_b, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body_b, shapeId);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body_b), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body_b));</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, body_b));</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_a)), +x * 1_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_a)), 0_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_b)), -x * 1_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_b)), 0_mps);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = .01_s;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> pos_a = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a);</div>
<div class="line">    <span class="keyword">auto</span> pos_b = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b);</div>
<div class="line">    ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(pos_a), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(pos_b));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> conf = StepConf{};</div>
<div class="line">    conf.deltaTime = time_inc;</div>
<div class="line">    conf.regPositionIters = 0;</div>
<div class="line">    conf.regVelocityIters = 0;</div>
<div class="line">    conf.toiPositionIters = 0;</div>
<div class="line">    conf.toiVelocityIters = 0;</div>
<div class="line">    conf.tolerance = <a name="a148"></a><a class="code" href="group__FixedMath.html#ga935fa93a69f58baf20b00e14461d51e7">nextafter</a>(<a class="code" href="namespaceplayrho.html#a7aad07dca595ebb37551e793171c2cfa">StripUnit</a>(conf.targetDepth), <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{0}) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> steps = <span class="keywordtype">unsigned</span>{0};</div>
<div class="line">    <span class="keywordflow">while</span> (<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(pos_a) &lt; (x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>) &amp;&amp; <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(pos_b) &gt; (-x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>))</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, conf);</div>
<div class="line">        ++steps;</div>
<div class="line">        </div>
<div class="line">        EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>},</div>
<div class="line">                                <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(pos_a) + x * time_inc * 1_mps) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)), 0_m);</div>
<div class="line">        EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>},</div>
<div class="line">                                <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(pos_b) - x * time_inc * 1_mps) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b)), 0_m);</div>
<div class="line"> </div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_a)), +x * 1_mps);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_a)), 0_mps);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_b)), -x * 1_mps);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_b)), 0_mps);</div>
<div class="line"> </div>
<div class="line">        pos_a = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a);</div>
<div class="line">        pos_b = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// d = v * t</span></div>
<div class="line">    <span class="comment">// d = 20, v = 10:</span></div>
<div class="line">    <span class="comment">// 20 = 10 * t, t = d/v = 20 / 10 = 2</span></div>
<div class="line">    <span class="comment">// steps = t / time_inc = 200</span></div>
<div class="line">    EXPECT_GE(steps, 199u);</div>
<div class="line">    EXPECT_LE(steps, 201u);</div>
<div class="line">    <span class="comment">//EXPECT_EQ(int64_t(steps), static_cast&lt;int64_t&gt;(round(((x * 2) / x) / time_inc)));</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, HeavyOnLight)</div>
<div class="line">{</div>
<div class="line">    constexpr <span class="keyword">auto</span> AngularSlop = (<a class="code" href="namespaceplayrho.html#a3fe0bdbb0ea9c449b7504f7c75840993">Pi</a> * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{2} * 1_rad) / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{180};</div>
<div class="line">    constexpr <span class="keyword">auto</span> LargerLinearSlop = <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">playrho::Meter</a> / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">playrho::Real</a>(200);</div>
<div class="line">    constexpr <span class="keyword">auto</span> SmallerLinearSlop = <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">playrho::Meter</a> / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">playrho::Real</a>(1000);</div>
<div class="line">    constexpr <span class="keyword">auto</span> MaxVertexRadius = <a name="a149"></a><a class="code" href="namespaceplayrho.html#a7beadf6067bdf66f48ee9b94c337d252">::playrho::DefaultMaxVertexRadius</a>;</div>
<div class="line">    constexpr <span class="keyword">auto</span> VertexRadius = Interval&lt;Positive&lt;Length&gt;&gt;{SmallerLinearSlop, MaxVertexRadius};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> bd = BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>).UseLinearAcceleration(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> upperBodyConf = BodyConf(bd).UseLocation(<a class="code" href="namespaceplayrho.html#ad93c0cd83df090aba6593ffac4b628ec">Vec2</a>(0.0f, 6.0f) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> lowerBodyConf = BodyConf(bd).UseLocation(<a class="code" href="namespaceplayrho.html#ad93c0cd83df090aba6593ffac4b628ec">Vec2</a>(0.0f, 0.5f) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> groundConf = EdgeShapeConf{}</div>
<div class="line">        .Set(<a class="code" href="namespaceplayrho.html#ad93c0cd83df090aba6593ffac4b628ec">Vec2</a>(-40.0f, 0.0f) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, <a class="code" href="namespaceplayrho.html#ad93c0cd83df090aba6593ffac4b628ec">Vec2</a>(40.0f, 0.0f) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> diskConf = DiskShapeConf{}.UseDensity(10_kgpm2);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> smallerDiskConf = DiskShapeConf(diskConf).UseRadius(0.5_m);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> biggerDiskConf = DiskShapeConf(diskConf).UseRadius(5.0_m);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> baseStepConf = []() {</div>
<div class="line">        <span class="keyword">auto</span> step = StepConf{};</div>
<div class="line">        step.deltaTime = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1) / 60_Hz;</div>
<div class="line">        <span class="keywordflow">return</span> step;</div>
<div class="line">    }();</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> largerStepConf = [=](StepConf step) {</div>
<div class="line">        step.linearSlop = LargerLinearSlop;</div>
<div class="line">        step.regMinSeparation = -LargerLinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(3);</div>
<div class="line">        step.toiMinSeparation = -LargerLinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1.5f);</div>
<div class="line">        step.targetDepth = LargerLinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(3);</div>
<div class="line">        step.tolerance = LargerLinearSlop / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(4);</div>
<div class="line">        step.maxLinearCorrection = LargerLinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(40);</div>
<div class="line">        step.maxAngularCorrection = AngularSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{4};</div>
<div class="line">        step.aabbExtension = LargerLinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(20);</div>
<div class="line">        step.maxTranslation = <a name="a150"></a><a class="code" href="group__PhysicalQuantities.html#ga8705f1923f7cff39bf09f6d01989770d">Length</a>{<a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a> * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(4)};</div>
<div class="line">        step.velocityThreshold = (<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{8} / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{10}) * 1_mps;</div>
<div class="line">        step.maxSubSteps = std::uint8_t{48};</div>
<div class="line">        <span class="keywordflow">return</span> step;</div>
<div class="line">    }(baseStepConf);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> smallerStepConf = [=](StepConf step) {</div>
<div class="line">        step.linearSlop = SmallerLinearSlop;</div>
<div class="line">        step.regMinSeparation = -SmallerLinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(3);</div>
<div class="line">        step.toiMinSeparation = -SmallerLinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1.5f);</div>
<div class="line">        step.targetDepth = SmallerLinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(3);</div>
<div class="line">        step.tolerance = SmallerLinearSlop / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(4);</div>
<div class="line">        step.maxLinearCorrection = SmallerLinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(40);</div>
<div class="line">        step.maxAngularCorrection = AngularSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{4};</div>
<div class="line">        step.aabbExtension = SmallerLinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(20);</div>
<div class="line">        step.maxTranslation = <a class="code" href="group__PhysicalQuantities.html#ga8705f1923f7cff39bf09f6d01989770d">Length</a>{<a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a> * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(4)};</div>
<div class="line">        step.velocityThreshold = (<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{8} / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{10}) * 1_mps;</div>
<div class="line">        step.maxSubSteps = std::uint8_t{48};</div>
<div class="line">        <span class="keywordflow">return</span> step;</div>
<div class="line">    }(baseStepConf);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create lower body, then upper body using the larger step conf</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> world = World{WorldConf{}.UseVertexRadius(VertexRadius)};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> ground = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, ground, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, groundConf));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> lowerBody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, lowerBodyConf);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> upperBody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, upperBodyConf);</div>
<div class="line">        ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, lowerBody)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody)));</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, lowerBody, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, smallerDiskConf));</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, upperBody, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, biggerDiskConf));</div>
<div class="line">        ASSERT_LT(<a name="a151"></a><a class="code" href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(world, lowerBody), <a class="code" href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(world, upperBody));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> upperBodysLowestPoint = <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody));</div>
<div class="line">        <span class="keyword">auto</span> numSteps = 0ul;</div>
<div class="line">        <span class="keywordflow">while</span> (<a class="code" href="namespaceplayrho_1_1d2.html#ab2ab9325a9628489049f16f50f1004b8">GetAwakeCount</a>(world) &gt; 0)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, largerStepConf);</div>
<div class="line">            upperBodysLowestPoint = std::min(upperBodysLowestPoint, <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody)));</div>
<div class="line">            ++numSteps;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// The least num steps is 145</span></div>
<div class="line">        <span class="keywordflow">switch</span> (<span class="keyword">sizeof</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">case</span> 4: EXPECT_EQ(numSteps, 145ul); <span class="keywordflow">break</span>; <span class="comment">// Effected by Contact IsActive cache errs</span></div>
<div class="line">            <span class="keywordflow">case</span> 8: EXPECT_EQ(numSteps, 145ul); <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 16: EXPECT_EQ(numSteps, 145ul); <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        EXPECT_NEAR(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(upperBodysLowestPoint / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>)), 5.9475154876708984, 0.001);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create upper body, then lower body using the larger step conf</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> world = World{WorldConf{}.UseVertexRadius(VertexRadius)};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> ground = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, ground, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, groundConf));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> upperBody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, upperBodyConf);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> lowerBody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, lowerBodyConf);</div>
<div class="line">        ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, lowerBody)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody)));</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, lowerBody, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, smallerDiskConf));</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, upperBody, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, biggerDiskConf));</div>
<div class="line">        ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(world, lowerBody), <a class="code" href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(world, upperBody));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> upperBodysLowestPoint = <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody));</div>
<div class="line">        <span class="keyword">auto</span> numSteps = 0ul;</div>
<div class="line">        <span class="keywordflow">while</span> (<a class="code" href="namespaceplayrho_1_1d2.html#ab2ab9325a9628489049f16f50f1004b8">GetAwakeCount</a>(world) &gt; 0)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, largerStepConf);</div>
<div class="line">            upperBodysLowestPoint = std::min(upperBodysLowestPoint, <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody)));</div>
<div class="line">            ++numSteps;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Here we see that creating the upper body after the lower body, results in</span></div>
<div class="line">        <span class="comment">// a different step count, and a higher count at that.</span></div>
<div class="line">        EXPECT_EQ(numSteps, 152ul);</div>
<div class="line">        EXPECT_NEAR(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(upperBodysLowestPoint / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>)), 5.9470911026000977, 0.001);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Create lower body, then upper body using the smaller step conf</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> world = World{WorldConf{}.UseVertexRadius(VertexRadius)};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> ground = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, ground, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, groundConf));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> lowerBody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, lowerBodyConf);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> upperBody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, upperBodyConf);</div>
<div class="line">        ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, lowerBody)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody)));</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, lowerBody, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, smallerDiskConf));</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, upperBody, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, biggerDiskConf));</div>
<div class="line">        ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(world, lowerBody), <a class="code" href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(world, upperBody));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> upperBodysLowestPoint = <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody));</div>
<div class="line">        <span class="keyword">auto</span> numSteps = 0ul;</div>
<div class="line">        <span class="keywordflow">while</span> (<a class="code" href="namespaceplayrho_1_1d2.html#ab2ab9325a9628489049f16f50f1004b8">GetAwakeCount</a>(world) &gt; 0)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, smallerStepConf);</div>
<div class="line">            upperBodysLowestPoint = std::min(upperBodysLowestPoint, <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody)));</div>
<div class="line">            ++numSteps;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// This here is the highest step count.</span></div>
<div class="line">        <span class="comment">// XXX Is this a bug or did the algorithm just work least well here?</span></div>
<div class="line">        <span class="keywordflow">switch</span> (<span class="keyword">sizeof</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">case</span> 4: EXPECT_EQ(numSteps, 736ul); <span class="keywordflow">break</span>; <span class="comment">// Effected by Contact IsActive cache errs</span></div>
<div class="line">            <span class="keywordflow">case</span> 8: EXPECT_EQ(numSteps, 736ul); <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 16: EXPECT_EQ(numSteps, 736ul); <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Here we see that the upper body at some point sunk into most of the lower body.</span></div>
<div class="line">        EXPECT_NEAR(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(upperBodysLowestPoint / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>)), 5.9473052024841309, 0.001);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Create upper body, then lower body using the smaller step conf</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> world = World{WorldConf{}.UseVertexRadius(VertexRadius)};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> ground = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, ground, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, groundConf));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> upperBody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, upperBodyConf);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> lowerBody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, lowerBodyConf);</div>
<div class="line">        ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, lowerBody)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody)));</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, lowerBody, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, smallerDiskConf));</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, upperBody, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, biggerDiskConf));</div>
<div class="line">        ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(world, lowerBody), <a class="code" href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(world, upperBody));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> upperBodysLowestPoint = <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody));</div>
<div class="line">        <span class="keyword">auto</span> numSteps = 0ul;</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#ab2ab9325a9628489049f16f50f1004b8">GetAwakeCount</a>(world), 2);</div>
<div class="line">        <span class="keywordflow">while</span> (<a class="code" href="namespaceplayrho_1_1d2.html#ab2ab9325a9628489049f16f50f1004b8">GetAwakeCount</a>(world) &gt; 0)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, smallerStepConf);</div>
<div class="line">            EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a85a86553103a715dd904a4962d4f4403">GetTouchingCount</a>(world), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(2));</div>
<div class="line">            upperBodysLowestPoint = std::min(upperBodysLowestPoint, <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody)));</div>
<div class="line">            ++numSteps;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Given that this section of code is one of the two sections that</span></div>
<div class="line">        <span class="comment">// uses the smaller linear slop, I expect this block of code&#39;s step</span></div>
<div class="line">        <span class="comment">// count to be higher than either block using the larger linear slop.</span></div>
<div class="line">        <span class="comment">// I guess a step count of some 3.5 times higher is reasonable for</span></div>
<div class="line">        <span class="comment">// the step conf that&#39;s five times smaller.</span></div>
<div class="line">        <span class="keywordflow">switch</span> (<span class="keyword">sizeof</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">case</span> 4: EXPECT_EQ(numSteps, 724ul); <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 8: EXPECT_EQ(numSteps, 724ul); <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 16: EXPECT_EQ(numSteps, 724ul); <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        EXPECT_NEAR(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(upperBodysLowestPoint / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>)), 5.9476470947265625, 0.001);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Create upper body, then lower body using the smaller step conf, and using sensors</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> world = World{WorldConf{}.UseVertexRadius(VertexRadius)};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> ground = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, ground, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, groundConf));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> upperBody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, upperBodyConf);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> lowerBody = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, lowerBodyConf);</div>
<div class="line">        ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, lowerBody)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, upperBody)));</div>
<div class="line">        </div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, lowerBody, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{smallerDiskConf}.UseIsSensor(<span class="keyword">true</span>)));</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, upperBody, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{biggerDiskConf}.UseIsSensor(<span class="keyword">true</span>)));</div>
<div class="line">        ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(world, lowerBody), <a class="code" href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(world, upperBody));</div>
<div class="line"> </div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#ab2ab9325a9628489049f16f50f1004b8">GetAwakeCount</a>(world), <a class="code" href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">BodyCounter</a>(2));</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, smallerStepConf);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a85a86553103a715dd904a4962d4f4403">GetTouchingCount</a>(world), <a class="code" href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">ContactCounter</a>(2));</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, PerfectlyOverlappedSameCirclesStayPut)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> radius = 1_m;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseRadius(radius).UseDensity(1_kgpm2).UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1)));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> body_def = BodyConf{};</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    body_def.bullet = <span class="keyword">false</span>;</div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0_m, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body1, shapeId);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1), body_def.location);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body2, shapeId);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2), body_def.location);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(.01);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 100; ++i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, 1_s * time_inc);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1), body_def.location);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2), body_def.location);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, PerfectlyOverlappedConcentricCirclesStayPut)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> radius1 = 1_m;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> radius2 = 0.6_m;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId1 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseDensity(1_kgpm2).UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1)).UseRadius(radius1));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId2 = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseDensity(1_kgpm2).UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1)).UseRadius(radius2));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> body_def = BodyConf{};</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    body_def.bullet = <span class="keyword">false</span>;</div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{};</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body1, shapeId1);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1), body_def.location);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body2, shapeId2);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2), body_def.location);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(.01);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 100; ++i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, 1_s * time_inc);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1), body_def.location);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2), body_def.location);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, ListenerCalledForCircleBodyWithinCircleBody)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    MyContactListener listener{</div>
<div class="line">        world,</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> Manifold&amp;) {},</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> ContactImpulsesList&amp;, unsigned) {},</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>) {},</div>
<div class="line">    };</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ab2d473e67d8c73d84b5bab36684b21e4">SetBeginContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.BeginContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a0eb658b0c7360d020e51833df13fe966">SetEndContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.EndContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a6cf097ec66665aaee2ee3f003bdd3c95">SetPreSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> Manifold&amp; manifold) {</div>
<div class="line">        listener.PreSolve(<span class="keywordtype">id</span>, manifold);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a6cdc554f84a577ddb26cc3f11db7948f">SetPostSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>,</div>
<div class="line">                                                  <span class="keyword">const</span> ContactImpulsesList&amp; impulses,</div>
<div class="line">                                                  <span class="keywordtype">unsigned</span> count){</div>
<div class="line">        listener.PostSolve(<span class="keywordtype">id</span>, impulses, count);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> body_def = BodyConf{};</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseDensity(1_kgpm2).UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1)).UseRadius(1_m));</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 2; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">        ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ASSERT_EQ(listener.begin_contacts, 0u);</div>
<div class="line">    ASSERT_EQ(listener.end_contacts, 0u);</div>
<div class="line">    ASSERT_EQ(listener.pre_solves, 0u);</div>
<div class="line">    ASSERT_EQ(listener.post_solves, 0u);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, 1_s);</div>
<div class="line"> </div>
<div class="line">    EXPECT_NE(listener.begin_contacts, 0u);</div>
<div class="line">    EXPECT_EQ(listener.end_contacts, 0u);</div>
<div class="line">    EXPECT_NE(listener.pre_solves, 0u);</div>
<div class="line">    EXPECT_NE(listener.post_solves, 0u);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, ListenerCalledForSquareBodyWithinSquareBody)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    MyContactListener listener{</div>
<div class="line">        world,</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> Manifold&amp;) {},</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> ContactImpulsesList&amp;, unsigned) {},</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>) {},</div>
<div class="line">    };</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ab2d473e67d8c73d84b5bab36684b21e4">SetBeginContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.BeginContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a0eb658b0c7360d020e51833df13fe966">SetEndContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.EndContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a6cf097ec66665aaee2ee3f003bdd3c95">SetPreSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> Manifold&amp; manifold) {</div>
<div class="line">        listener.PreSolve(<span class="keywordtype">id</span>, manifold);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a6cdc554f84a577ddb26cc3f11db7948f">SetPostSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>,</div>
<div class="line">                                                  <span class="keyword">const</span> ContactImpulsesList&amp; impulses,</div>
<div class="line">                                                  <span class="keywordtype">unsigned</span> count){</div>
<div class="line">        listener.PostSolve(<span class="keywordtype">id</span>, impulses, count);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> body_def = BodyConf{};</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{};</div>
<div class="line">    <span class="keyword">auto</span> conf = PolygonShapeConf{};</div>
<div class="line">    conf.UseVertexRadius(1_m);</div>
<div class="line">    conf.SetAsBox(2_m, 2_m);</div>
<div class="line">    conf.UseDensity(1_kgpm2);</div>
<div class="line">    conf.UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, conf);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 2; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">        ASSERT_NE(body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    ASSERT_EQ(listener.begin_contacts, 0u);</div>
<div class="line">    ASSERT_EQ(listener.end_contacts, 0u);</div>
<div class="line">    ASSERT_EQ(listener.pre_solves, 0u);</div>
<div class="line">    ASSERT_EQ(listener.post_solves, 0u);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, 1_s);</div>
<div class="line">    </div>
<div class="line">    EXPECT_NE(listener.begin_contacts, 0u);</div>
<div class="line">    EXPECT_EQ(listener.end_contacts, 0u);</div>
<div class="line">    EXPECT_NE(listener.pre_solves, 0u);</div>
<div class="line">    EXPECT_NE(listener.post_solves, 0u);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, DropDisks)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> diskRadius = 0.5_m;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> numDisks = <span class="keyword">static_cast&lt;</span>std::uint16_t<span class="keyword">&gt;</span>(10000u);</div>
<div class="line">    <span class="keyword">auto</span> world = World{};</div>
<div class="line">    <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho.html#a7cf47dd833aad177ac33142cfc5e6bc3">InvalidShapeID</a>;</div>
<div class="line">    ASSERT_NO_THROW(shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, Shape{DiskShapeConf{}.UseRadius(diskRadius)}));</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(numDisks){0}; i &lt; numDisks; ++i) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> x = i * diskRadius * 4;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{x, 0_m};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, <a name="_a152"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">playrho::d2::BodyConf</a>{}</div>
<div class="line">                                           .<a name="a153"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a49ce681752862a2f5466df143cd8a0f0">UseType</a>(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">playrho::BodyType::Dynamic</a>)</div>
<div class="line">                                           .UseLocation(location)</div>
<div class="line">                                           .UseLinearAcceleration(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">playrho::d2::EarthlyGravity</a>));</div>
<div class="line">        ASSERT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body, shapeId));</div>
<div class="line">    }</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world)), numDisks);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount(), 0u);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCapacity(), 4096u);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> stepConf = <a name="_a154"></a><a class="code" href="structplayrho_1_1StepConf.html">playrho::StepConf</a>{};</div>
<div class="line">    <span class="keyword">auto</span> stats = StepStats{};</div>
<div class="line">    ASSERT_NO_THROW(stats = <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf));</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount(), 19999u);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCapacity(), 32768u);</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(stats.reg.islandsFound, numDisks);</div>
<div class="line">    EXPECT_EQ(stats.reg.islandsSolved, numDisks);</div>
<div class="line">    EXPECT_EQ(stats.reg.maxIslandBodies, 1u);</div>
<div class="line">    EXPECT_EQ(stats.reg.proxiesMoved, 0u);</div>
<div class="line">    EXPECT_EQ(stats.reg.contactsAdded, 0u);</div>
<div class="line">    EXPECT_EQ(stats.reg.maxIncImpulse, <a name="a155"></a><a class="code" href="group__PhysicalQuantities.html#gad36b742307f9f19c2c8c95e9372a3613">Momentum</a>(0));</div>
<div class="line">    EXPECT_EQ(stats.reg.minSeparation, std::numeric_limits&lt;Length&gt;::infinity());</div>
<div class="line">    EXPECT_EQ(stats.reg.bodiesSlept, 0u);</div>
<div class="line">    EXPECT_EQ(stats.reg.sumPosIters, numDisks);</div>
<div class="line">    EXPECT_EQ(stats.reg.sumVelIters, numDisks);</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(stats.toi.minSeparation, std::numeric_limits&lt;Length&gt;::infinity());</div>
<div class="line">    EXPECT_EQ(stats.toi.maxIncImpulse, <a class="code" href="group__PhysicalQuantities.html#gad36b742307f9f19c2c8c95e9372a3613">Momentum</a>(0));</div>
<div class="line">    EXPECT_EQ(stats.toi.islandsFound, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.islandsSolved, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.contactsFound, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.contactsAdded, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.proxiesMoved, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.sumPosIters, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.sumVelIters, 0u);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(numDisks){0}; i &lt; numDisks; ++i) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> body = <a name="a156"></a><a class="code" href="namespaceplayrho_1_1d2.html#aaa29799a42054beffb9328eb8c651ed1">GetBody</a>(world, <a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a>(i));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(body.GetVelocity().linear), 0_mps);</div>
<div class="line">        EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(body.GetVelocity().linear), 0_mps);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 1; i &lt; 8; ++i) {</div>
<div class="line">        EXPECT_NO_THROW(stats = <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf));</div>
<div class="line">        SCOPED_TRACE(std::string(<span class="stringliteral">&quot;#-steps is &quot;</span>) + std::to_string(i));</div>
<div class="line">        EXPECT_EQ(stats.reg.proxiesMoved, 0u);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    EXPECT_NO_THROW(stats = <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf));</div>
<div class="line">    EXPECT_EQ(stats.reg.proxiesMoved, numDisks);</div>
<div class="line">    EXPECT_EQ(stats.toi.islandsFound, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.islandsSolved, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.contactsFound, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.contactsAdded, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.proxiesMoved, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.sumPosIters, 0u);</div>
<div class="line">    EXPECT_EQ(stats.toi.sumVelIters, 0u);</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCount(), 19999u);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(world).GetNodeCapacity(), 32768u);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, PartiallyOverlappedSameCirclesSeparate)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> radius = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1);</div>
<div class="line">    </div>
<div class="line">    World world{};</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> body_def = BodyConf{};</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    body_def.bullet = <span class="keyword">false</span>; <span class="comment">// separation is faster if true.</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shape = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseDensity(1_kgpm2).UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1)).UseRadius(radius * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>));</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1pos = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{(-radius/4) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, 0_m};</div>
<div class="line">    body_def.location = body1pos;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body1, shape);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1), body_def.location);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2pos = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{(+radius/4) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, 0_m};</div>
<div class="line">    body_def.location = body2pos;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body2, shape);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2), body_def.location);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> position_diff = body2pos - body1pos;</div>
<div class="line">    <span class="keyword">auto</span> distance = <a class="code" href="group__Math.html#gafe323c1c5ab88d30d18413a3c1f10abb">GetMagnitude</a>(position_diff);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> angle = <a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(position_diff);</div>
<div class="line">    ASSERT_EQ(angle, 0_deg);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> lastpos1 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1);</div>
<div class="line">    <span class="keyword">auto</span> lastpos2 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = .01_s;</div>
<div class="line">    StepConf step;</div>
<div class="line">    step.deltaTime = time_inc;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Solver won&#39;t separate more than -step.linearSlop.</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> full_separation = radius * 2_m - <a class="code" href="group__PhysicalQuantities.html#ga8705f1923f7cff39bf09f6d01989770d">Length</a>{step.linearSlop};</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 100; ++i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, step);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> new_pos_diff = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2) - <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> new_distance = <a class="code" href="group__Math.html#gafe323c1c5ab88d30d18413a3c1f10abb">GetMagnitude</a>(new_pos_diff);</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{new_distance / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{full_separation / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}) || new_distance &gt; full_separation)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        ASSERT_GE(new_distance, distance);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (new_distance == distance)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// position resolution has come to tolerance</span></div>
<div class="line">            ASSERT_GE(new_distance, radius * 2_m - <a class="code" href="group__PhysicalQuantities.html#ga8705f1923f7cff39bf09f6d01989770d">Length</a>{step.linearSlop} * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{4});</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="comment">// new_distance &gt; distance</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (<a name="a157"></a><a class="code" href="group__FixedMath.html#gaf6191f040980675d9a5c71bd53c79060">cos</a>(angle) != 0)</div>
<div class="line">            {</div>
<div class="line">                EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(lastpos1));</div>
<div class="line">                EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(lastpos2));</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (<a name="a158"></a><a class="code" href="group__FixedMath.html#ga0daabd6eacf8702561639d394e3efe6e">sin</a>(angle) != 0)</div>
<div class="line">            {</div>
<div class="line">                EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(lastpos1));</div>
<div class="line">                EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(lastpos2));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        ASSERT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1), lastpos1);</div>
<div class="line">        ASSERT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2), lastpos2);</div>
<div class="line">        </div>
<div class="line">        lastpos1 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1);</div>
<div class="line">        lastpos2 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2);</div>
<div class="line"> </div>
<div class="line">        ASSERT_NE(new_pos_diff, position_diff);</div>
<div class="line">        position_diff = new_pos_diff;</div>
<div class="line"> </div>
<div class="line">        ASSERT_NE(new_distance, distance);</div>
<div class="line">        distance = new_distance;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// angle of the delta of their positions should stay the same as they move away</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> new_angle = <a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(new_pos_diff);</div>
<div class="line">        EXPECT_EQ(angle, new_angle);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, PerfectlyOverlappedSameSquaresSeparateHorizontally)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shape = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, PolygonShapeConf{}.UseDensity(1_kgpm2).UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1)).SetAsBox(1_m, 1_m));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> body_def = BodyConf{};</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    body_def.bullet = <span class="keyword">false</span>;</div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{};</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body1, shape);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1), body_def.location);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body2, shape);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2), body_def.location);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> lastpos1 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1);</div>
<div class="line">    <span class="keyword">auto</span> lastpos2 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = .01_s;</div>
<div class="line">    stepConf.deltaTime = time_inc;</div>
<div class="line">    stepConf.maxLinearCorrection = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{0.0001f * 40} * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 100; ++i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// body1 moves left only</span></div>
<div class="line">        EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(lastpos1));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(lastpos1));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// body2 moves right only</span></div>
<div class="line">        EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(lastpos2));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(lastpos2));</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// body1 and body2 move away from each other equally.</span></div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1)), -<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2)));</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1)), -<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2)));</div>
<div class="line">        </div>
<div class="line">        lastpos1 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1);</div>
<div class="line">        lastpos2 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, PartiallyOverlappedSquaresSeparateProperly)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Sets up 2 equally sized squares - body A and body B - where body A is to the right of body B</span></div>
<div class="line"><span class="comment">     * but they partially overlap. Position solver code should move body A to the right more and</span></div>
<div class="line"><span class="comment">     * move body B to the left more till they&#39;re almost separated.</span></div>
<div class="line"><span class="comment">     *</span></div>
<div class="line"><span class="comment">     * This tests at a high level what the position solver code does with overlapping shapes.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line"> </div>
<div class="line">    World world{};</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> body_def = BodyConf{};</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    body_def.bullet = <span class="keyword">false</span>; <span class="comment">// separation is faster if true.</span></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> half_dim = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(64); <span class="comment">// 1 causes additional y-axis separation</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shape = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, PolygonShapeConf{}.UseDensity(1_kgpm2).UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1)).SetAsBox(half_dim * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, half_dim * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1pos = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(half_dim/2) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, 0_m}; <span class="comment">// 0 causes additional y-axis separation</span></div>
<div class="line">    body_def.location = body1pos;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body1, shape);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1), body1pos);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2pos = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(half_dim/2) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, 0_m}; <span class="comment">// 0 causes additional y-axis separation</span></div>
<div class="line">    body_def.location = body2pos;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2 = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body2, shape);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2), body2pos);</div>
<div class="line"> </div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body1), 0_deg);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body2), 0_deg);</div>
<div class="line">    <span class="keyword">auto</span> last_angle_1 = <a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body1);</div>
<div class="line">    <span class="keyword">auto</span> last_angle_2 = <a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body2);</div>
<div class="line"> </div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">GetBodies</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), 2u);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), 0u);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> position_diff = body1pos - body2pos;</div>
<div class="line">    <span class="keyword">auto</span> distance = <a class="code" href="group__Math.html#gafe323c1c5ab88d30d18413a3c1f10abb">GetMagnitude</a>(position_diff);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> angle = <a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(position_diff);</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{angle / 1_rad}, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{0}));</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> lastpos1 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1);</div>
<div class="line">    <span class="keyword">auto</span> lastpos2 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> velocity_iters = 10u;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> position_iters = 10u;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(.01);</div>
<div class="line">    StepConf step;</div>
<div class="line">    step.deltaTime = 1_s * time_inc;</div>
<div class="line">    <span class="comment">// Solver won&#39;t separate more than -step.linearSlop.</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> full_separation = half_dim * 2_m - <a class="code" href="group__PhysicalQuantities.html#ga8705f1923f7cff39bf09f6d01989770d">Length</a>{step.linearSlop};</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 100; ++i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, 1_s * time_inc, velocity_iters, position_iters);</div>
<div class="line">        </div>
<div class="line">        ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(), decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>())(1));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> count = decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>())(0);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> contacts = <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world);</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; contact: contacts)</div>
<div class="line">        {</div>
<div class="line">            ++count;</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> c = contact.second;</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> body_a = <a class="code" href="namespaceplayrho_1_1d2.html#a700fc1baf4e0165912da41dae27dfc78">GetBodyA</a>(world, c);</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> body_b = <a class="code" href="namespaceplayrho_1_1d2.html#a37729f6494a066607deb10ea5a57c449">GetBodyB</a>(world, c);</div>
<div class="line">            EXPECT_EQ(body_a, body1);</div>
<div class="line">            EXPECT_EQ(body_b, body2);</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> manifold = <a name="a159"></a><a class="code" href="namespaceplayrho_1_1d2.html#a4744f578a96c67e8929c84c7b32e27e7">GetManifold</a>(world, c);</div>
<div class="line">            EXPECT_EQ(manifold.GetType(), <a name="a160"></a><a class="code" href="classplayrho_1_1d2_1_1Manifold.html#a7ff238fab84e4d9dc478205840bd2b4aa8553bfcf72ca701046534f9db05a698a">Manifold::e_faceA</a>);</div>
<div class="line">            EXPECT_EQ(manifold.GetPointCount(), <a name="a161"></a><a class="code" href="classplayrho_1_1d2_1_1Manifold.html#ae524c7d0bb1f9596dac79dc02e2e4cf2">Manifold::size_type</a>(2));</div>
<div class="line">        }</div>
<div class="line">        ASSERT_EQ(count, decltype(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world).<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>())(1));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> v1 = <a name="a162"></a><a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, body1);</div>
<div class="line">        EXPECT_EQ(v1.angular, 0_deg / 1_s);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(v1.linear), 0_mps);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(v1.linear), 0_mps);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> v2 = <a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, body2);</div>
<div class="line">        EXPECT_EQ(v2.angular, 0_deg / 1_s);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(v2.linear), 0_mps);</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(v2.linear), 0_mps);</div>
<div class="line"> </div>
<div class="line">        EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body1) / 1_rad}, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{last_angle_1 / 1_rad}));</div>
<div class="line">        EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body2) / 1_rad}, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{last_angle_2 / 1_rad}));</div>
<div class="line">        last_angle_1 = <a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body1);</div>
<div class="line">        last_angle_2 = <a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, body2);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> new_pos_diff = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1) - <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> new_distance = <a class="code" href="group__Math.html#gafe323c1c5ab88d30d18413a3c1f10abb">GetMagnitude</a>(new_pos_diff);</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{new_distance / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{full_separation / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}) || new_distance &gt; full_separation)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> (new_distance == distance)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group__FixedMath.html#gaf6191f040980675d9a5c71bd53c79060">cos</a>(angle) != 0)</div>
<div class="line">            {</div>
<div class="line">                EXPECT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(lastpos1));</div>
<div class="line">                EXPECT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(lastpos2));</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group__FixedMath.html#ga0daabd6eacf8702561639d394e3efe6e">sin</a>(angle) != 0)</div>
<div class="line">            {</div>
<div class="line">                EXPECT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(lastpos1));</div>
<div class="line">                EXPECT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2)), <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(lastpos2));</div>
<div class="line">            }</div>
<div class="line">            ASSERT_GE(new_distance, 2_m);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        ASSERT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1), lastpos1);</div>
<div class="line">        ASSERT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2), lastpos2);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// The body 1 moves right only.</span></div>
<div class="line">        EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(lastpos1));</div>
<div class="line">        EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(lastpos1) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// The body 2 moves left only.</span></div>
<div class="line">        EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2)), <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(lastpos2));</div>
<div class="line">        EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(lastpos2) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}));</div>
<div class="line"> </div>
<div class="line">        lastpos1 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body1);</div>
<div class="line">        lastpos2 = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body2);</div>
<div class="line">        </div>
<div class="line">        ASSERT_NE(new_pos_diff, position_diff);</div>
<div class="line">        position_diff = new_pos_diff;</div>
<div class="line">        </div>
<div class="line">        ASSERT_NE(new_distance, distance);</div>
<div class="line">        distance = new_distance;</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> new_angle = <a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(new_pos_diff);</div>
<div class="line">        EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{angle / 1_rad}, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{new_angle / 1_rad}));</div>
<div class="line">        </div>
<div class="line">        angle = new_angle;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, CollidingDynamicBodies)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> radius = 1_m;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> x = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(10); <span class="comment">// other test parameters tuned to this value being 10</span></div>
<div class="line">    <span class="keyword">auto</span> body_def = BodyConf{};</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line"> </div>
<div class="line">    World world{};</div>
<div class="line">    MyContactListener listener{</div>
<div class="line">        world,</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> Manifold&amp;) {},</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> ContactImpulsesList&amp;, unsigned) {},</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>) {},</div>
<div class="line">    };</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ab2d473e67d8c73d84b5bab36684b21e4">SetBeginContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.BeginContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a0eb658b0c7360d020e51833df13fe966">SetEndContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.EndContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a6cf097ec66665aaee2ee3f003bdd3c95">SetPreSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> Manifold&amp; manifold) {</div>
<div class="line">        listener.PreSolve(<span class="keywordtype">id</span>, manifold);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a6cdc554f84a577ddb26cc3f11db7948f">SetPostSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>,</div>
<div class="line">                                                  <span class="keyword">const</span> ContactImpulsesList&amp; impulses,</div>
<div class="line">                                                  <span class="keywordtype">unsigned</span> count){</div>
<div class="line">        listener.PostSolve(<span class="keywordtype">id</span>, impulses, count);</div>
<div class="line">    });</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shape = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, DiskShapeConf{}.UseDensity(1_kgpm2).UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1)).UseRadius(radius));</div>
<div class="line"> </div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-(x + 1) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, 0_m};</div>
<div class="line">    body_def.linearVelocity = <a class="code" href="namespaceplayrho.html#a2faa31bff8794a0c4191d8b042f7deeb">LinearVelocity2</a>{+x * 1_mps, 0_mps};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body_a = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    ASSERT_NE(body_a, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body_a), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body_a));</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, body_a));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body_a, shape);</div>
<div class="line"> </div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+(x + 1) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, 0_m};</div>
<div class="line">    body_def.linearVelocity = <a class="code" href="namespaceplayrho.html#a2faa31bff8794a0c4191d8b042f7deeb">LinearVelocity2</a>{-x * 1_mps, 0_mps};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body_b = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    ASSERT_NE(body_b, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">GetType</a>(world, body_b), <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>);</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body_b));</div>
<div class="line">    ASSERT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">IsAccelerable</a>(world, body_b));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, body_b, shape);</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_a)), +x * 1_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_a)), 0_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_b)), -x * 1_mps);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_b)), 0_mps);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_collision = 1.0099994_s; <span class="comment">// only valid for x &gt;= around 4.214</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = 0.01_s;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> elapsed_time = 0_s;</div>
<div class="line">    <span class="keywordflow">for</span> (;;) {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, time_inc);</div>
<div class="line">        elapsed_time += time_inc;</div>
<div class="line">        <span class="keywordflow">if</span> (listener.contacting || elapsed_time &gt;= 600_s) {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    EXPECT_LT(elapsed_time, 600_s);</div>
<div class="line">    EXPECT_TRUE(listener.contacting);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Call SetSensor to add some unit test coverage of these methods.</span></div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world, body_a).<a class="code" href="namespaceplayrho.html#a98ab78cb47da6f6d872d617cc66040a6">empty</a>());</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; ci: <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world, body_a))</div>
<div class="line">    {</div>
<div class="line">        EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a06bdf092ec9098a9c0277832ba0ddbc2">NeedsFiltering</a>(world, std::get&lt;ContactID&gt;(ci)));</div>
<div class="line">        EXPECT_TRUE(<a name="a163"></a><a class="code" href="namespaceplayrho_1_1d2.html#a09cc9e0e457c86495cee4d26e3370bc5">NeedsUpdating</a>(world, std::get&lt;ContactID&gt;(ci)));</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">auto</span> filter = <a name="a164"></a><a class="code" href="namespaceplayrho_1_1d2.html#aa0a2c5e5746924e329cdf96e36fe56c0">GetFilterData</a>(world, shape);</div>
<div class="line">    filter.categoryBits = ~filter.categoryBits;</div>
<div class="line">    EXPECT_NO_THROW(<a name="a165"></a><a class="code" href="namespaceplayrho_1_1d2.html#af219909208e61cf0efe0317d56c34b8c">SetFilterData</a>(world, shape, filter));</div>
<div class="line">    EXPECT_FALSE(<a name="a166"></a><a class="code" href="namespaceplayrho_1_1d2.html#a758f0ba36affe9a3aba066285cf710d7">IsSensor</a>(world, shape));</div>
<div class="line">    <a name="a167"></a><a class="code" href="namespaceplayrho_1_1d2.html#afa56209557eb58f52a1599176b169b5b">SetSensor</a>(world, shape, <span class="keyword">true</span>);</div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a758f0ba36affe9a3aba066285cf710d7">IsSensor</a>(world, shape));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#afa56209557eb58f52a1599176b169b5b">SetSensor</a>(world, shape, <span class="keyword">false</span>);</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a758f0ba36affe9a3aba066285cf710d7">IsSensor</a>(world, shape));</div>
<div class="line">    EXPECT_FALSE(<a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world, body_a).<a class="code" href="namespaceplayrho.html#a98ab78cb47da6f6d872d617cc66040a6">empty</a>());</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; ci: <a class="code" href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">GetContacts</a>(world, body_a))</div>
<div class="line">    {</div>
<div class="line">        EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a06bdf092ec9098a9c0277832ba0ddbc2">NeedsFiltering</a>(world, std::get&lt;ContactID&gt;(ci)));</div>
<div class="line">        EXPECT_TRUE(<a class="code" href="namespaceplayrho_1_1d2.html#a09cc9e0e457c86495cee4d26e3370bc5">NeedsUpdating</a>(world, std::get&lt;ContactID&gt;(ci)));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_contacting = elapsed_time;</div>
<div class="line"> </div>
<div class="line">    EXPECT_TRUE(listener.touching);</div>
<div class="line">    EXPECT_NEAR(<span class="keywordtype">double</span>(time_contacting / 1_s), <span class="keywordtype">double</span>(time_collision / 1_s), 0.02);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)), 0_m);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b)), 0_m);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> tolerance = x / 100;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// x position for body1 depends on restitution but it should be around -1</span></div>
<div class="line">    EXPECT_GE(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(-1) - tolerance);</div>
<div class="line">    EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(-1) + tolerance);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// x position for body2 depends on restitution but it should be around +1</span></div>
<div class="line">    EXPECT_LE(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(+1) + tolerance);</div>
<div class="line">    EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(+1) - tolerance);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// and their deltas from -1 and +1 should be about equal.</span></div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)) + 1_m) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>},</div>
<div class="line">                            <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{(1_m - <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b))) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}));</div>
<div class="line"> </div>
<div class="line">    EXPECT_GE(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(listener.body_a[0]), -1_m);</div>
<div class="line">    EXPECT_LE(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(listener.body_b[0]), +1_m);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (;;)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, time_inc);</div>
<div class="line">        elapsed_time += time_inc;</div>
<div class="line">        <span class="keywordflow">if</span> (!listener.contacting &amp;&amp; !listener.touching)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    EXPECT_FALSE(listener.touching);</div>
<div class="line"> </div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<span class="keywordtype">double</span>(elapsed_time / 1_s), <span class="keywordtype">double</span>((time_contacting + time_inc) / 1_s)));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// collision should be fully resolved now...</span></div>
<div class="line">    EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)), -1_m);</div>
<div class="line">    EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b)), +1_m);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// and their deltas from -1 and +1 should be about equal.</span></div>
<div class="line">    EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)) + 1_m) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>},</div>
<div class="line">                            <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{(1_m - <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b))) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}));</div>
<div class="line"> </div>
<div class="line">    EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(listener.body_a[1]), -1_m);</div>
<div class="line">    EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(listener.body_b[1]), +1_m);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// confirm conservation of momentum:</span></div>
<div class="line">    <span class="comment">// velocities should now be same magnitude but in opposite directions</span></div>
<div class="line">    EXPECT_NEAR(<span class="keywordtype">double</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_a)) / 1_mps}),</div>
<div class="line">                <span class="keywordtype">double</span>(-x), 0.0001);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_a)), 0_mps);</div>
<div class="line">    EXPECT_NEAR(<span class="keywordtype">double</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_b)) / 1_mps}),</div>
<div class="line">                <span class="keywordtype">double</span>(+x), 0.0001);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, body_b)), 0_mps);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World_Longer, TilesComesToRest)</div>
<div class="line">{</div>
<div class="line">    constexpr <span class="keyword">auto</span> LinearSlop = <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a> / 1000;</div>
<div class="line">    constexpr <span class="keyword">auto</span> AngularSlop = (<a class="code" href="namespaceplayrho.html#a3fe0bdbb0ea9c449b7504f7c75840993">Pi</a> * 2 * 1_rad) / 180;</div>
<div class="line">    constexpr <span class="keyword">auto</span> MinVertexRadius = LinearSlop * 2;</div>
<div class="line">    constexpr <span class="keyword">auto</span> MaxVertexRadius = <a class="code" href="namespaceplayrho.html#a7beadf6067bdf66f48ee9b94c337d252">::playrho::DefaultMaxVertexRadius</a>;</div>
<div class="line">    constexpr <span class="keyword">auto</span> VertexRadius = Interval&lt;Positive&lt;Length&gt;&gt;{MinVertexRadius, MaxVertexRadius};</div>
<div class="line">    <span class="keyword">auto</span> conf = PolygonShapeConf{}.UseVertexRadius(MinVertexRadius);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> world = std::make_unique&lt;World&gt;(WorldConf{}.UseVertexRadius(VertexRadius));</div>
<div class="line">    constexpr <span class="keyword">auto</span> e_count = 36;</div>
<div class="line">    <span class="keyword">auto</span> createdBodyCount = 0ul;</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> a = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{0.5f};</div>
<div class="line">        <span class="comment">//const auto ground = CreateBody(*world, BodyConf{}.UseLocation(Length2{0, -a * Meter}));</span></div>
<div class="line">        <span class="keyword">auto</span> ground = Body(BodyConf{}.UseLocation(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0, -a * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}));</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> N = 200;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> M = 10;</div>
<div class="line">        <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a> position;</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(position) = 0.0_m;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> j = 0; j &lt; M; ++j) {</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(position) = -N * a * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>;</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; N; ++i) {</div>
<div class="line">                conf.SetAsBox(a * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, a * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, position, 0_deg);</div>
<div class="line">                ground.Attach(<a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(*world, conf));</div>
<div class="line">                <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(position) += 2.0f * a * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>;</div>
<div class="line">            }</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(position) -= 2.0f * a * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>;</div>
<div class="line">        }</div>
<div class="line">        ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">size</a>(ground.GetShapes()), 2000u);</div>
<div class="line">        ASSERT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(*world, ground));</div>
<div class="line">        ++createdBodyCount;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> a = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{0.5f};</div>
<div class="line">        conf.UseDensity(5_kgpm2);</div>
<div class="line">        conf.SetAsBox(a * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, a * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> shapeId = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(*world, Shape(conf));</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a> x(-7.0_m, 0.75_m);</div>
<div class="line">        <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a> y;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> deltaX = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>(0.5625_m, 1.25_m);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> deltaY = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>(1.125_m, 0.0_m);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; e_count; ++i) {</div>
<div class="line">            y = x;</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span> j = i; j &lt; e_count; ++j) {</div>
<div class="line">                <span class="keyword">auto</span> body = Body{BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>).UseLocation(y).UseLinearAcceleration(<a class="code" href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">EarthlyGravity</a>)};</div>
<div class="line">                ASSERT_NO_THROW(body.Attach(shapeId));</div>
<div class="line">                ASSERT_NO_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(*world, body));</div>
<div class="line">                ++createdBodyCount;</div>
<div class="line">                y += deltaY;</div>
<div class="line">            }</div>
<div class="line">            x += deltaX;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(createdBodyCount, 667u);</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">GetBodyCount</a>(*world), 667u);</div>
<div class="line"> </div>
<div class="line">    StepConf step;</div>
<div class="line">    step.deltaTime = 1_s / 60;</div>
<div class="line">    step.linearSlop = LinearSlop;</div>
<div class="line">    step.regMinSeparation = -LinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(3);</div>
<div class="line">    step.toiMinSeparation = -LinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1.5f);</div>
<div class="line">    step.targetDepth = LinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(3);</div>
<div class="line">    step.tolerance = LinearSlop / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(4);</div>
<div class="line">    step.maxLinearCorrection = LinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(40);</div>
<div class="line">    step.maxAngularCorrection = AngularSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{4};</div>
<div class="line">    step.aabbExtension = LinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(20);</div>
<div class="line">    step.maxTranslation = <a class="code" href="group__PhysicalQuantities.html#ga8705f1923f7cff39bf09f6d01989770d">Length</a>{<a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a> * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(4)};</div>
<div class="line">    step.velocityThreshold = (<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{8} / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{10}) * 1_mps;</div>
<div class="line">    step.maxSubSteps = std::uint8_t{48};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> numSteps = 0ul;</div>
<div class="line">    <span class="keyword">auto</span> sumRegPosIters = 0ul;</div>
<div class="line">    <span class="keyword">auto</span> sumRegVelIters = 0ul;</div>
<div class="line">    <span class="keyword">auto</span> sumToiPosIters = 0ul;</div>
<div class="line">    <span class="keyword">auto</span> sumToiVelIters = 0ul;</div>
<div class="line">    <span class="comment">//const auto start_time = std::chrono::high_resolution_clock::now();</span></div>
<div class="line">    <span class="keyword">auto</span> lastStats = StepStats{};</div>
<div class="line">    <span class="keyword">auto</span> firstStepWithZeroMoved = std::optional&lt;unsigned long&gt;{};</div>
<div class="line">    <span class="keyword">auto</span> totalBodiesSlept = 0ul;</div>
<div class="line">    <span class="keyword">auto</span> awakeCount = 0ul;</div>
<div class="line">    constexpr <span class="keyword">auto</span> maxSteps = 3000ul;</div>
<div class="line">    <span class="keywordflow">while</span> ((awakeCount = <a class="code" href="namespaceplayrho_1_1d2.html#ab2ab9325a9628489049f16f50f1004b8">GetAwakeCount</a>(*world)) &gt; 0 &amp;&amp; numSteps &lt; maxSteps) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> stats = <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(*world, step);</div>
<div class="line">        sumRegPosIters += stats.reg.sumPosIters;</div>
<div class="line">        sumRegVelIters += stats.reg.sumVelIters;</div>
<div class="line">        sumToiPosIters += stats.toi.sumPosIters;</div>
<div class="line">        sumToiVelIters += stats.toi.sumVelIters;</div>
<div class="line">        lastStats = stats;</div>
<div class="line">        <span class="keywordflow">if</span> (stats.reg.proxiesMoved == 0u &amp;&amp; stats.toi.proxiesMoved == 0u) {</div>
<div class="line">            firstStepWithZeroMoved = numSteps;</div>
<div class="line">        }</div>
<div class="line">        EXPECT_GT(stats.reg.islandsFound, 0u);</div>
<div class="line">        totalBodiesSlept += stats.reg.bodiesSlept;</div>
<div class="line">        ++numSteps;</div>
<div class="line">    }</div>
<div class="line">    ASSERT_LT(numSteps, maxSteps);</div>
<div class="line">    <span class="keywordflow">switch</span> (<span class="keyword">sizeof</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>)) {</div>
<div class="line">    <span class="keywordflow">case</span> 4u:</div>
<div class="line"><span class="preprocessor">#if defined(__core2__)</span></div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a1e9f16b0b9ca81d3852d99bd3bf7ba94">GetContactRange</a>(*world), 1447u);</div>
<div class="line">        EXPECT_EQ(totalBodiesSlept, createdBodyCount + 1u);</div>
<div class="line">        EXPECT_TRUE(firstStepWithZeroMoved);</div>
<div class="line">        <span class="keywordflow">if</span> (firstStepWithZeroMoved) {</div>
<div class="line">            EXPECT_EQ(*firstStepWithZeroMoved, 1798u);</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#elif defined(_WIN64)</span></div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a1e9f16b0b9ca81d3852d99bd3bf7ba94">GetContactRange</a>(*world), 1448u);</div>
<div class="line">        EXPECT_EQ(totalBodiesSlept, 667u);</div>
<div class="line">        EXPECT_TRUE(firstStepWithZeroMoved);</div>
<div class="line">        <span class="keywordflow">if</span> (firstStepWithZeroMoved) {</div>
<div class="line">            EXPECT_EQ(*firstStepWithZeroMoved, 1812u);</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#elif defined(_WIN32)</span></div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a1e9f16b0b9ca81d3852d99bd3bf7ba94">GetContactRange</a>(*world), 1448u);</div>
<div class="line">        EXPECT_EQ(totalBodiesSlept, 671u);</div>
<div class="line">        EXPECT_TRUE(firstStepWithZeroMoved);</div>
<div class="line">        <span class="keywordflow">if</span> (firstStepWithZeroMoved) {</div>
<div class="line">            EXPECT_EQ(*firstStepWithZeroMoved, 1801u);</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#elif defined(__amd64__) </span><span class="comment">// includes __k8__</span></div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a1e9f16b0b9ca81d3852d99bd3bf7ba94">GetContactRange</a>(*world), 1448u);</div>
<div class="line">        EXPECT_EQ(totalBodiesSlept, 667u);</div>
<div class="line">        EXPECT_TRUE(firstStepWithZeroMoved);</div>
<div class="line">        <span class="keywordflow">if</span> (firstStepWithZeroMoved) {</div>
<div class="line">            EXPECT_EQ(*firstStepWithZeroMoved, 1800u);</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#elif defined(__arm64__) </span><span class="comment">// At least for Apple Silicon</span></div>
<div class="line">        EXPECT_GE(<a class="code" href="namespaceplayrho_1_1d2.html#a1e9f16b0b9ca81d3852d99bd3bf7ba94">GetContactRange</a>(*world), 1447u);</div>
<div class="line">        EXPECT_LE(<a class="code" href="namespaceplayrho_1_1d2.html#a1e9f16b0b9ca81d3852d99bd3bf7ba94">GetContactRange</a>(*world), 1451u);</div>
<div class="line">        EXPECT_GE(totalBodiesSlept, 667u);</div>
<div class="line">        EXPECT_LE(totalBodiesSlept, 670u);</div>
<div class="line">        EXPECT_TRUE(firstStepWithZeroMoved);</div>
<div class="line">        <span class="keywordflow">if</span> (firstStepWithZeroMoved) {</div>
<div class="line"><span class="preprocessor">#if defined(PLAYRHO_USE_BOOST_UNITS)</span></div>
<div class="line">            EXPECT_GE(*firstStepWithZeroMoved, 1797u);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">            EXPECT_GE(*firstStepWithZeroMoved, 1798u);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">            EXPECT_LE(*firstStepWithZeroMoved, 1812u);</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#else </span><span class="comment">// unrecognized arch; just check results are within range of others</span></div>
<div class="line">        EXPECT_GE(<a class="code" href="namespaceplayrho_1_1d2.html#a1e9f16b0b9ca81d3852d99bd3bf7ba94">GetContactRange</a>(*world), 1447u);</div>
<div class="line">        EXPECT_LE(<a class="code" href="namespaceplayrho_1_1d2.html#a1e9f16b0b9ca81d3852d99bd3bf7ba94">GetContactRange</a>(*world), 1450u);</div>
<div class="line">        EXPECT_GE(totalBodiesSlept, 667u);</div>
<div class="line">        EXPECT_LE(totalBodiesSlept, 668u);</div>
<div class="line">        EXPECT_TRUE(firstStepWithZeroMoved);</div>
<div class="line">        <span class="keywordflow">if</span> (firstStepWithZeroMoved) {</div>
<div class="line">            EXPECT_GE(*firstStepWithZeroMoved, 1798u);</div>
<div class="line">            EXPECT_LE(*firstStepWithZeroMoved, 1812u);</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> 8u:</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a1e9f16b0b9ca81d3852d99bd3bf7ba94">GetContactRange</a>(*world), 1447u);</div>
<div class="line"><span class="preprocessor">#if defined(__GNUC__) &amp;&amp; defined(__clang__) &amp;&amp; !defined(__core2__) &amp;&amp; !defined(__arm64__)</span></div>
<div class="line">        EXPECT_EQ(totalBodiesSlept, createdBodyCount);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">        EXPECT_EQ(totalBodiesSlept, createdBodyCount + 3u);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        EXPECT_TRUE(firstStepWithZeroMoved);</div>
<div class="line">        <span class="keywordflow">if</span> (firstStepWithZeroMoved) {</div>
<div class="line"><span class="preprocessor">#if defined(__core2__) || defined(__arm64__) || (defined(__GNUC__) &amp;&amp; !defined(__clang__))</span></div>
<div class="line">            EXPECT_EQ(*firstStepWithZeroMoved, 1827u);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">            EXPECT_EQ(*firstStepWithZeroMoved, 1792u);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">GetTree</a>(*world).<a name="a168"></a><a class="code" href="classplayrho_1_1d2_1_1DynamicTree.html#a211b3f8b163604b56db4fa3887fc2f43">GetNodeCount</a>(), 5331u);</div>
<div class="line">    <span class="comment">//const auto end_time = std::chrono::high_resolution_clock::now();</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">//const std::chrono::duration&lt;double&gt; elapsed_time = end_time - start_time;</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// seeing e_count=20 times around:</span></div>
<div class="line">    <span class="comment">//   0.447077s with Real=float and NDEBUG defined.</span></div>
<div class="line">    <span class="comment">//   6.45222s with Real=float and NDEBUG not defined.</span></div>
<div class="line">    <span class="comment">//   0.456306s with Real=double and NDEBUG defined.</span></div>
<div class="line">    <span class="comment">//   6.74324s with Real=double and NDEBUG not defined.</span></div>
<div class="line">    <span class="comment">// seeing e_count=24 times around:</span></div>
<div class="line">    <span class="comment">//   0.956078s with Real=float and NDEBUG defined.</span></div>
<div class="line">    <span class="comment">//   0.989387s with Real=double and NDEBUG defined.</span></div>
<div class="line">    <span class="comment">// seeing e_count=30 times around:</span></div>
<div class="line">    <span class="comment">//   2.35464s with Real=float and NDEBUG defined.</span></div>
<div class="line">    <span class="comment">//   2.51661s with Real=double and NDEBUG defined.</span></div>
<div class="line">    <span class="comment">// seeing e_count=36 times around:</span></div>
<div class="line">    <span class="comment">//   4.163s with Real=float and NDEBUG defined.</span></div>
<div class="line">    <span class="comment">//   5.374s with Real=double and NDEBUG defined.</span></div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(awakeCount, 0u);</div>
<div class="line">    <span class="keywordflow">if</span> (awakeCount == 0u) {</div>
<div class="line"><span class="preprocessor">#if defined(_WIN32) || defined(PLAYRHO_USE_BOOST_UNITS) </span><span class="comment">// odd</span></div>
<div class="line">        EXPECT_EQ(lastStats.reg.proxiesMoved, 1u);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">        EXPECT_EQ(lastStats.reg.proxiesMoved, 0u);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        EXPECT_EQ(lastStats.toi.proxiesMoved, 0u);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// The final stats seem dependent on the host the test is run on.</span></div>
<div class="line">    <span class="comment">// Presume that this is most closely associated with the actual CPU/FPU.</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Note about commit 6b16f3722d5daac80ebaefd1dfda424939498dd4:</span></div>
<div class="line">    <span class="comment">//   Changed the order in which bodies get added to the world body list</span></div>
<div class="line">    <span class="comment">//   from being added to the front of the list to being added to the back</span></div>
<div class="line">    <span class="comment">//   of the list. Adding bodies to the front of World::m_bodies list</span></div>
<div class="line">    <span class="comment">//   resulted in the world index of bodies changing as new bodies got added.</span></div>
<div class="line">    <span class="comment">//   This wasn&#39;t the desired behavior. Time trials of this test with bodies</span></div>
<div class="line">    <span class="comment">//   being added to the back of the m_bodies list also got faster than</span></div>
<div class="line">    <span class="comment">//   when bodies were getting added to the front of the list.</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Note about commit 04f9188c47961cafe76c55eb6b766a608593ee08:</span></div>
<div class="line">    <span class="comment">//   Changed the way velocity constraint resolution was done. Added a check</span></div>
<div class="line">    <span class="comment">//   to see if any changes to velocity were introduced. If not, new code</span></div>
<div class="line">    <span class="comment">//   does an early exit from its velocityIters looping.</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Note about commit d361c51d6aca13079e9d44b701715e62cec18a63:</span></div>
<div class="line">    <span class="comment">//   Changes were introduced that modified the way manifold calculations are done.</span></div>
<div class="line">    <span class="comment">//   While many of the following counts appear to have increased, this new</span></div>
<div class="line">    <span class="comment">//   mechanism for manifold calculations has benefits like no longer needing</span></div>
<div class="line">    <span class="comment">//   &quot;ghost-vertices&quot; to avoid sticking of things like boxes being dragged across</span></div>
<div class="line">    <span class="comment">//   a floor made up of chained edges nor rectangles. As to why the new manifold</span></div>
<div class="line">    <span class="comment">//   calculating method makes the counts change, that&#39;s not clear to me since</span></div>
<div class="line">    <span class="comment">//   it doesn&#39;t seem that the changes to the manifold calculation would be seen in</span></div>
<div class="line">    <span class="comment">//   this test. That some of these counts actually became lower (in the Core-2 case)</span></div>
<div class="line">    <span class="comment">//   suggests that the change to these counts has more to do with differences in</span></div>
<div class="line">    <span class="comment">//   floating point hardware than in the modifications actually adversely impacting</span></div>
<div class="line">    <span class="comment">//   the algorithmic efficiency of the code.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line"><span class="preprocessor">#if defined(__core2__)</span></div>
<div class="line">    <span class="keywordflow">switch</span> (<span class="keyword">sizeof</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>))</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">case</span>  4:</div>
<div class="line">        {</div>
<div class="line"><span class="preprocessor">#ifndef __FAST_MATH__</span></div>
<div class="line">            EXPECT_EQ(numSteps, 1799ul);</div>
<div class="line">            EXPECT_EQ(sumRegPosIters, 36515ul);</div>
<div class="line">            EXPECT_EQ(sumRegVelIters, 46956ul);</div>
<div class="line">            EXPECT_EQ(sumToiPosIters, 44131ul);</div>
<div class="line">            EXPECT_EQ(sumToiVelIters, 114088ul);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">            EXPECT_EQ(numSteps, 1003ul);</div>
<div class="line">            EXPECT_EQ(sumRegPosIters, 52909ul);</div>
<div class="line">            EXPECT_EQ(sumRegVelIters, 103896ul);</div>
<div class="line">            EXPECT_EQ(sumToiPosIters, 20616ul);</div>
<div class="line">            EXPECT_EQ(sumToiVelIters, 30175ul);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">case</span>  8:</div>
<div class="line">        {</div>
<div class="line">            EXPECT_EQ(numSteps,         1828ul);</div>
<div class="line">            EXPECT_EQ(sumRegPosIters,  36540ul);</div>
<div class="line">            EXPECT_EQ(sumRegVelIters,  47173ul);</div>
<div class="line">            EXPECT_EQ(sumToiPosIters,  44005ul);</div>
<div class="line">            EXPECT_EQ(sumToiVelIters, 114357ul);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">case</span> 16:</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">        {</div>
<div class="line">            FAIL(); <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#elif defined(__k8__)</span></div>
<div class="line">    <span class="keywordflow">switch</span> (<span class="keyword">sizeof</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>))</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">case</span>  4:</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// From commits after 507a7c15c</span></div>
<div class="line">            EXPECT_EQ(numSteps,         1801ul);</div>
<div class="line">            EXPECT_EQ(sumRegPosIters,  36518ul);</div>
<div class="line">            EXPECT_EQ(sumRegVelIters,  46948ul);</div>
<div class="line">            EXPECT_EQ(sumToiPosIters,  44170ul);</div>
<div class="line">            EXPECT_EQ(sumToiVelIters, 114108ul);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">case</span>  8:</div>
<div class="line">        {</div>
<div class="line">            EXPECT_EQ(numSteps,         1828ul);</div>
<div class="line">            EXPECT_EQ(sumRegPosIters,  36540ul);</div>
<div class="line">            EXPECT_EQ(sumRegVelIters,  47173ul);</div>
<div class="line">            EXPECT_EQ(sumToiPosIters,  44005ul);</div>
<div class="line"><span class="preprocessor">#ifdef NDEBUG </span><span class="comment">// odd, that this changes results - is there compiler &quot;as-if&quot; rule violation?</span></div>
<div class="line">            EXPECT_EQ(sumToiVelIters, 114399ul);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">            EXPECT_EQ(sumToiVelIters, 114406ul);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#elif defined(_WIN64) </span><span class="comment">// This is likely wrong as the results are more likely arch dependent</span></div>
<div class="line">    EXPECT_EQ(numSteps, 1814ul);</div>
<div class="line">    EXPECT_EQ(sumRegPosIters, 36530ul);</div>
<div class="line">    EXPECT_EQ(sumRegVelIters, 47061ul);</div>
<div class="line">    EXPECT_EQ(sumToiPosIters, 43786ul);</div>
<div class="line">    EXPECT_EQ(sumToiVelIters, 112952ul);</div>
<div class="line"><span class="preprocessor">#elif defined(_WIN32)</span></div>
<div class="line">    EXPECT_EQ(numSteps, 1803ul);</div>
<div class="line">    EXPECT_EQ(sumRegPosIters, 36528ul);</div>
<div class="line">    EXPECT_EQ(sumRegVelIters, 46981ul);</div>
<div class="line">    EXPECT_EQ(sumToiPosIters, 43684ul);</div>
<div class="line">    EXPECT_EQ(sumToiVelIters, 112778ul);</div>
<div class="line"><span class="preprocessor">#elif defined(__arm64__)</span></div>
<div class="line">    <span class="comment">// At least for Apple Silicon...</span></div>
<div class="line">    <span class="keywordflow">switch</span> (<span class="keyword">sizeof</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>))</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">case</span> 4u:</div>
<div class="line"><span class="preprocessor">#if defined(__clang_major__) &amp;&amp; (__clang_major__ &gt;= 14)</span></div>
<div class="line"><span class="preprocessor">#if defined(PLAYRHO_USE_BOOST_UNITS)</span></div>
<div class="line">            EXPECT_EQ(numSteps, 1800ul);</div>
<div class="line">            EXPECT_EQ(sumRegPosIters, 36516ul);</div>
<div class="line">            EXPECT_EQ(sumRegVelIters, 46948ul);</div>
<div class="line">            EXPECT_EQ(sumToiPosIters, 44022ul);</div>
<div class="line">            EXPECT_EQ(sumToiVelIters, 113284ul);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">            EXPECT_EQ(numSteps, 1804ul);</div>
<div class="line">            EXPECT_EQ(sumRegPosIters, 36527ul);</div>
<div class="line">            EXPECT_EQ(sumRegVelIters, 46979ul);</div>
<div class="line">            EXPECT_EQ(sumToiPosIters, 43806ul);</div>
<div class="line">            EXPECT_EQ(sumToiVelIters, 112175ul);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">            EXPECT_EQ(numSteps, 1799ul);</div>
<div class="line">            EXPECT_EQ(sumRegPosIters, 36512ul);</div>
<div class="line">            EXPECT_EQ(sumRegVelIters, 46940ul);</div>
<div class="line">            EXPECT_EQ(sumToiPosIters, 44021ul);</div>
<div class="line">            EXPECT_EQ(sumToiVelIters, 113137ul);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 8u:</div>
<div class="line">            EXPECT_EQ(numSteps, 1828ul);</div>
<div class="line">            EXPECT_EQ(sumRegPosIters, 36540ul);</div>
<div class="line">            EXPECT_EQ(sumRegVelIters, 47173ul);</div>
<div class="line">            EXPECT_EQ(sumToiPosIters, 44005ul);</div>
<div class="line"><span class="preprocessor">#if defined(__clang_major__) &amp;&amp; (__clang_major__ &gt;= 14) &amp;&amp; !defined(PLAYRHO_USE_BOOST_UNITS)</span></div>
<div class="line">            EXPECT_EQ(sumToiVelIters, 114308ul);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">            EXPECT_EQ(sumToiVelIters, 114196ul);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">    <span class="comment">// These will likely fail and need to be tweaked for the particular hardware...</span></div>
<div class="line">    EXPECT_EQ(numSteps, 1814ul);</div>
<div class="line">    EXPECT_EQ(sumRegPosIters, 36600ul);</div>
<div class="line">    EXPECT_EQ(sumRegVelIters, 264096ul);</div>
<div class="line">    EXPECT_EQ(sumToiPosIters, 45022ul);</div>
<div class="line">    EXPECT_EQ(sumToiVelIters, 148560ul);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">//std::cout &lt;&lt; &quot;Time: &quot; &lt;&lt; elapsed_time.count() &lt;&lt; &quot;s&quot; &lt;&lt; std::endl;</span></div>
<div class="line">    <span class="comment">// EXPECT_LT(elapsed_time.count(), 7.0);</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World, SpeedingBulletBallWontTunnel)</div>
<div class="line">{</div>
<div class="line">    constexpr <span class="keyword">auto</span> LinearSlop = <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">playrho::Meter</a> / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">playrho::Real</a>(1000);</div>
<div class="line">    constexpr <span class="keyword">auto</span> AngularSlop = (<a class="code" href="namespaceplayrho.html#a3fe0bdbb0ea9c449b7504f7c75840993">Pi</a> * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{2} * 1_rad) / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{180};</div>
<div class="line">    constexpr <span class="keyword">auto</span> VertexRadius = <a class="code" href="group__PhysicalQuantities.html#ga8705f1923f7cff39bf09f6d01989770d">playrho::Length</a>{LinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">playrho::Real</a>(2)};</div>
<div class="line">    constexpr <span class="keyword">auto</span> MaxVertexRadius = <a class="code" href="namespaceplayrho.html#a7beadf6067bdf66f48ee9b94c337d252">::playrho::DefaultMaxVertexRadius</a>;</div>
<div class="line">    constexpr <span class="keyword">auto</span> RadiusRange = Interval&lt;Positive&lt;Length&gt;&gt;{VertexRadius, MaxVertexRadius};</div>
<div class="line">    World world{WorldConf{}.UseVertexRadius(RadiusRange)};</div>
<div class="line">    MyContactListener listener{</div>
<div class="line">        world,</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> Manifold&amp;) {},</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>, <span class="keyword">const</span> ContactImpulsesList&amp;, unsigned) {},</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a>) {},</div>
<div class="line">    };</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ab2d473e67d8c73d84b5bab36684b21e4">SetBeginContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.BeginContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a0eb658b0c7360d020e51833df13fe966">SetEndContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.EndContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a6cf097ec66665aaee2ee3f003bdd3c95">SetPreSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> Manifold&amp; manifold) {</div>
<div class="line">        listener.PreSolve(<span class="keywordtype">id</span>, manifold);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a6cdc554f84a577ddb26cc3f11db7948f">SetPostSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>,</div>
<div class="line">                                                  <span class="keyword">const</span> ContactImpulsesList&amp; impulses,</div>
<div class="line">                                                  <span class="keywordtype">unsigned</span> count){</div>
<div class="line">        listener.PostSolve(<span class="keywordtype">id</span>, impulses, count);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    ASSERT_EQ(listener.begin_contacts, <span class="keywordtype">unsigned</span>{0});</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> left_edge_x = -0.1_m;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> right_edge_x = +0.1_m;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> edgeConf = EdgeShapeConf{}</div>
<div class="line">        .UseVertexRadius(VertexRadius)</div>
<div class="line">        .UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1))</div>
<div class="line">        .Set(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0_m, +10_m}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0_m, -10_m});</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> edge_shape = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, edgeConf);</div>
<div class="line"> </div>
<div class="line">    BodyConf body_def;</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16">BodyType::Static</a>;</div>
<div class="line"> </div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{left_edge_x, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> left_wall_body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    ASSERT_NE(left_wall_body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, left_wall_body, edge_shape);</div>
<div class="line"> </div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{right_edge_x, 0_m};</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> right_wall_body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    ASSERT_NE(right_wall_body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, right_wall_body, edge_shape);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> begin_x = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0);</div>
<div class="line"> </div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{begin_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, 0_m};</div>
<div class="line">    body_def.bullet = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> ball_body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    ASSERT_NE(ball_body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> ball_radius = 0.01_m;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> circle_shape = Shape(DiskShapeConf{}.UseDensity(1_kgpm2).UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1)).UseRadius(ball_radius));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, ball_body, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, circle_shape));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> <a name="a169"></a><a class="code" href="namespaceplayrho_1_1detail.html#a07bf078d023635979d9fd9bda324a16e">velocity</a> = <a class="code" href="namespaceplayrho.html#a2faa31bff8794a0c4191d8b042f7deeb">LinearVelocity2</a>{+1_mps, 0_mps};</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#adddd763be5890fad18f5a3dd9d2b4d38">SetVelocity</a>(world, ball_body, Velocity{<a class="code" href="namespaceplayrho_1_1detail.html#a07bf078d023635979d9fd9bda324a16e">velocity</a>, 0_deg / 1_s});</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = .01_s;</div>
<div class="line">    <span class="keyword">auto</span> step = StepConf{};</div>
<div class="line">    step.deltaTime = time_inc;</div>
<div class="line">    step.linearSlop = LinearSlop;</div>
<div class="line">    step.regMinSeparation = -LinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(3);</div>
<div class="line">    step.toiMinSeparation = -LinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1.5f);</div>
<div class="line">    step.targetDepth = LinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(3);</div>
<div class="line">    step.tolerance = LinearSlop / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(4);</div>
<div class="line">    step.maxLinearCorrection = LinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(40);</div>
<div class="line">    step.maxAngularCorrection = AngularSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{4};</div>
<div class="line">    step.aabbExtension = LinearSlop * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(20);</div>
<div class="line">    step.velocityThreshold = (<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{8} / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{10}) * 1_mps;</div>
<div class="line">    step.maxSubSteps = std::uint8_t{48};</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, step);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> max_velocity = step.maxTranslation / time_inc;</div>
<div class="line"> </div>
<div class="line">    ASSERT_EQ(listener.begin_contacts, <span class="keywordtype">unsigned</span>{0});</div>
<div class="line"> </div>
<div class="line">    EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, begin_x);</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(world, ball_body), <a class="code" href="namespaceplayrho_1_1detail.html#a07bf078d023635979d9fd9bda324a16e">velocity</a>);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> max_travel = <span class="keywordtype">unsigned</span>{10000};</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> increments = <span class="keywordtype">int</span>{1};</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> laps = <span class="keywordtype">int</span>{1}; laps &lt; 100; ++laps)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// traveling to the right</span></div>
<div class="line">        listener.begin_contacts = 0;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> travel_r = <span class="keywordtype">unsigned</span>{0}; ; ++travel_r)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (travel_r == max_travel)</div>
<div class="line">            {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;begin_contacts=&quot;</span> &lt;&lt; listener.begin_contacts &lt;&lt; std::endl;</div>
<div class="line">                ASSERT_LT(travel_r, max_travel);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> last_contact_count = listener.begin_contacts;</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, step);</div>
<div class="line"> </div>
<div class="line">            EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)), right_edge_x - (ball_radius/<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{2}));</div>
<div class="line">            EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)), left_edge_x + (ball_radius/<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{2}));</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).linear) &gt;= max_velocity)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (listener.begin_contacts % 2 != 0) <span class="comment">// direction switched</span></div>
<div class="line">            {</div>
<div class="line">                EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).linear), 0_mps);</div>
<div class="line">                <span class="keywordflow">break</span>; <span class="comment">// going left now</span></div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (listener.begin_contacts &gt; last_contact_count)</div>
<div class="line">            {</div>
<div class="line">                ++increments;</div>
<div class="line">                <a class="code" href="namespaceplayrho_1_1d2.html#adddd763be5890fad18f5a3dd9d2b4d38">SetVelocity</a>(world, ball_body, Velocity{</div>
<div class="line">                    <a class="code" href="namespaceplayrho.html#a2faa31bff8794a0c4191d8b042f7deeb">LinearVelocity2</a>{</div>
<div class="line">                        <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a><span class="keyword">&gt;</span>(increments) * <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1detail.html#a07bf078d023635979d9fd9bda324a16e">velocity</a>),</div>
<div class="line">                        <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).linear)</div>
<div class="line">                    }, <a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).<a name="a170"></a><a class="code" href="structplayrho_1_1d2_1_1Velocity.html#accc1d801801fb20a83fb5451ad8dd46d">angular</a>});</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).linear) / 1_mps},</div>
<div class="line">                                        <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<span class="keyword">static_cast&lt;</span><a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a><span class="keyword">&gt;</span>(increments) * <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1detail.html#a07bf078d023635979d9fd9bda324a16e">velocity</a>) / 1_mps}));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// traveling to the left</span></div>
<div class="line">        listener.begin_contacts = 0;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> travel_l = <span class="keywordtype">unsigned</span>{0}; ; ++travel_l)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (travel_l == max_travel)</div>
<div class="line">            {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;begin_contacts=&quot;</span> &lt;&lt; listener.begin_contacts &lt;&lt; std::endl;</div>
<div class="line">                ASSERT_LT(travel_l, max_travel);</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> last_contact_count = listener.begin_contacts;</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, step);</div>
<div class="line">            </div>
<div class="line">            EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)), right_edge_x - (ball_radius/<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{2}));</div>
<div class="line">            EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)), left_edge_x + (ball_radius/<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{2}));</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).linear) &lt;= -max_velocity)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (listener.begin_contacts % 2 != 0) <span class="comment">// direction switched</span></div>
<div class="line">            {</div>
<div class="line">                EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).linear), 0_mps);</div>
<div class="line">                <span class="keywordflow">break</span>; <span class="comment">// going right now</span></div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (listener.begin_contacts &gt; last_contact_count)</div>
<div class="line">            {</div>
<div class="line">                ++increments;</div>
<div class="line">                <a class="code" href="namespaceplayrho_1_1d2.html#adddd763be5890fad18f5a3dd9d2b4d38">SetVelocity</a>(world, ball_body, Velocity{</div>
<div class="line">                    <a class="code" href="namespaceplayrho.html#a2faa31bff8794a0c4191d8b042f7deeb">LinearVelocity2</a>{</div>
<div class="line">                        -<span class="keyword">static_cast&lt;</span><a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a><span class="keyword">&gt;</span>(increments) * <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1detail.html#a07bf078d023635979d9fd9bda324a16e">velocity</a>),</div>
<div class="line">                        <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).linear)</div>
<div class="line">                    }, <a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).<a class="code" href="structplayrho_1_1d2_1_1Velocity.html#accc1d801801fb20a83fb5451ad8dd46d">angular</a>});</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                EXPECT_TRUE(<a class="code" href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">AlmostEqual</a>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).linear) / 1_mps},</div>
<div class="line">                                        <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{-<span class="keyword">static_cast&lt;</span><a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a><span class="keyword">&gt;</span>(increments) * <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1detail.html#a07bf078d023635979d9fd9bda324a16e">velocity</a>) / 1_mps}));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        ++increments;</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#adddd763be5890fad18f5a3dd9d2b4d38">SetVelocity</a>(world, ball_body, Velocity{</div>
<div class="line">            <a class="code" href="namespaceplayrho.html#a2faa31bff8794a0c4191d8b042f7deeb">LinearVelocity2</a>{</div>
<div class="line">                <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a><span class="keyword">&gt;</span>(increments) * <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1detail.html#a07bf078d023635979d9fd9bda324a16e">velocity</a>),</div>
<div class="line">                <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).linear)</div>
<div class="line">            }, <a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).<a class="code" href="structplayrho_1_1d2_1_1Velocity.html#accc1d801801fb20a83fb5451ad8dd46d">angular</a>});</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST(World_Longer, TargetJointWontCauseTunnelling)</div>
<div class="line">{</div>
<div class="line">    World world{};</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> half_box_width = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0.2);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> left_edge_x = -half_box_width;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> right_edge_x = +half_box_width;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> half_box_height = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0.2);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> btm_edge_y = -half_box_height;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> top_edge_y = +half_box_height;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#abfb3031d97cbdac7eb72cccf26e3c694">AABB</a> container_aabb;</div>
<div class="line"> </div>
<div class="line">    BodyConf body_def;</div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16">BodyType::Static</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> edgeConf = EdgeShapeConf{};</div>
<div class="line">    edgeConf.UseFriction(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0.4f));</div>
<div class="line">    edgeConf.UseRestitution(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0.94f)); <span class="comment">// changes where bodies will be after collision</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Setup vertical bounderies</span></div>
<div class="line">    edgeConf.Set(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0, +half_box_height * 2_m}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0, -half_box_height * 2_m});</div>
<div class="line"> </div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{left_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, 0_m};</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> left_wall_body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">        ASSERT_NE(left_wall_body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, left_wall_body, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, edgeConf));</div>
<div class="line">        <a name="a171"></a><a class="code" href="namespaceplayrho_1_1detail.html#aa5638faaf78557603c3e60b945f0c415">Include</a>(container_aabb, <a name="a172"></a><a class="code" href="namespaceplayrho_1_1d2.html#a48a5c3ca651b9b1a16314b65124c415e">ComputeAABB</a>(world, left_wall_body));</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{right_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, 0_m};</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> right_wall_body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">        ASSERT_NE(right_wall_body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, right_wall_body, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, edgeConf));</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1detail.html#aa5638faaf78557603c3e60b945f0c415">Include</a>(container_aabb, <a class="code" href="namespaceplayrho_1_1d2.html#a48a5c3ca651b9b1a16314b65124c415e">ComputeAABB</a>(world, right_wall_body));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Setup horizontal bounderies</span></div>
<div class="line">    edgeConf.Set(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-half_box_width * 2_m, 0_m}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{+half_box_width * 2_m, 0_m});</div>
<div class="line">    </div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0, btm_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>};</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> btm_wall_body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">        ASSERT_NE(btm_wall_body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, btm_wall_body, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, edgeConf));</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1detail.html#aa5638faaf78557603c3e60b945f0c415">Include</a>(container_aabb, <a class="code" href="namespaceplayrho_1_1d2.html#a48a5c3ca651b9b1a16314b65124c415e">ComputeAABB</a>(world, btm_wall_body));</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{0, top_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>};</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> top_wall_body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">        ASSERT_NE(top_wall_body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, top_wall_body, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, edgeConf));</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1detail.html#aa5638faaf78557603c3e60b945f0c415">Include</a>(container_aabb, <a class="code" href="namespaceplayrho_1_1d2.html#a48a5c3ca651b9b1a16314b65124c415e">ComputeAABB</a>(world, top_wall_body));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    body_def.type = <a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>;</div>
<div class="line">    body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{};</div>
<div class="line">    body_def.bullet = <span class="keyword">true</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> ball_body = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">    ASSERT_NE(ball_body, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)), 0_m);</div>
<div class="line">    ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)), 0_m);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> ball_radius = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(half_box_width / 4) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> object_shape = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, PolygonShapeConf{}.UseDensity(10_kgpm2).SetAsBox(ball_radius, ball_radius));</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, ball_body, object_shape);</div>
<div class="line"> </div>
<div class="line">    constexpr <span class="keyword">auto</span> numBodies = 1u;</div>
<div class="line">    <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a> last_opos[numBodies];</div>
<div class="line">    <a class="code" href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">BodyID</a> bodies[numBodies];</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(numBodies){0}; i &lt; numBodies; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> angle = i * 2 * <a class="code" href="namespaceplayrho.html#a3fe0bdbb0ea9c449b7504f7c75840993">Pi</a> / numBodies;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> x = ball_radius * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(2.1) * <a class="code" href="group__FixedMath.html#gaf6191f040980675d9a5c71bd53c79060">cos</a>(angle);</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> y = ball_radius * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(2.1) * <a class="code" href="group__FixedMath.html#ga0daabd6eacf8702561639d394e3efe6e">sin</a>(angle);</div>
<div class="line">        body_def.location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{x, y};</div>
<div class="line">        bodies[i] = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, body_def);</div>
<div class="line">        ASSERT_NE(bodies[i], <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">        ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, bodies[i])), x);</div>
<div class="line">        ASSERT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, bodies[i])), y);</div>
<div class="line">        last_opos[i] = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, bodies[i]);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, bodies[i], object_shape);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> spare_body = [&amp;](){</div>
<div class="line">        BodyConf bodyConf;</div>
<div class="line">        bodyConf.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16">BodyType::Static</a>);</div>
<div class="line">        bodyConf.UseEnabled(<span class="keyword">false</span>);</div>
<div class="line">        bodyConf.UseLocation(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-ball_radius / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{2}, +ball_radius / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{2}});</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, bodyConf);</div>
<div class="line">    }();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> target_joint = [&amp;]() {</div>
<div class="line">        TargetJointConf mjd;</div>
<div class="line">        mjd.bodyA = spare_body;</div>
<div class="line">        mjd.bodyB = ball_body;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> ball_body_pos = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body);</div>
<div class="line">        mjd.target = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(ball_body_pos) - ball_radius / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{2},</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(ball_body_pos) + ball_radius / <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{2}</div>
<div class="line">        };</div>
<div class="line">        mjd.maxForce = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1000) * <a class="code" href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(world, ball_body) * <a class="code" href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">MeterPerSquareSecond</a>;</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">CreateJoint</a>(world, Joint{mjd});</div>
<div class="line">    }();</div>
<div class="line">    ASSERT_NE(target_joint, <a class="code" href="namespaceplayrho.html#a67d10419efd6effdd41617992a76cbcd">InvalidJointID</a>);</div>
<div class="line"> </div>
<div class="line">    <a name="a173"></a><a class="code" href="namespaceplayrho_1_1d2.html#a60201ffd45e0d810ff5d4fb90fd0bc4b">SetAwake</a>(world, ball_body);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> max_x = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0);</div>
<div class="line">    <span class="keyword">auto</span> min_x = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0);</div>
<div class="line">    <span class="keyword">auto</span> max_y = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0);</div>
<div class="line">    <span class="keyword">auto</span> min_y = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> max_velocity = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//const auto time_inc = Real(.0043268126901); // numBodies = 6, somewhat dependent on fixture density (10 or less?).</span></div>
<div class="line">    <span class="comment">//const auto time_inc = Real(.0039224); // numBodies = 4, maybe dependent on fixture density</span></div>
<div class="line">    <span class="comment">//const auto time_inc = Real(.003746); // numBodies = 2, maybe dependent on fixture density</span></div>
<div class="line">    <span class="comment">//const auto time_inc = Real(.0036728129); // numBodies = 1, maybe dependent on fixture density</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> time_inc = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(.00367281295); <span class="comment">// numBodies = 1, maybe dependent on fixture density</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> angle = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0);</div>
<div class="line">    <span class="keyword">auto</span> anglular_speed = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0.01); <span class="comment">// radians / timestep</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> anglular_accel = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1.002);</div>
<div class="line">    <span class="keyword">auto</span> distance = half_box_width / 2;</div>
<div class="line">    <span class="keyword">auto</span> distance_speed = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0.003); <span class="comment">// meters / timestep</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> distance_accel = <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1.001);</div>
<div class="line"> </div>
<div class="line">    MyContactListener listener{world,</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> contact, <span class="keyword">const</span> Manifold&amp; old_manifold)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// PreSolve...</span></div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> new_manifold = <a class="code" href="namespaceplayrho_1_1d2.html#a4744f578a96c67e8929c84c7b32e27e7">GetManifold</a>(world, contact);</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> pointStates = <a name="a174"></a><a class="code" href="namespaceplayrho_1_1d2.html#ae48de2e5ef109c667912e5db7b170d94">GetPointStates</a>(old_manifold, new_manifold);</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> oldPointCount = old_manifold.GetPointCount();</div>
<div class="line">            <span class="keywordflow">switch</span> (oldPointCount)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">case</span> 0:</div>
<div class="line">                    ASSERT_EQ(pointStates.state1[0], <a name="a175"></a><a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    ASSERT_EQ(pointStates.state1[1], <a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> 1:</div>
<div class="line">                    ASSERT_NE(pointStates.state1[0], <a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    ASSERT_EQ(pointStates.state1[1], <a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> 2:</div>
<div class="line">                    ASSERT_NE(pointStates.state1[0], <a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    ASSERT_NE(pointStates.state1[1], <a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    ASSERT_LE(oldPointCount, 2);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> newPointCount = new_manifold.GetPointCount();</div>
<div class="line">            <span class="keywordflow">switch</span> (newPointCount)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">case</span> 0:</div>
<div class="line">                    ASSERT_EQ(pointStates.state2[0], <a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    ASSERT_EQ(pointStates.state2[1], <a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> 1:</div>
<div class="line">                    ASSERT_NE(pointStates.state2[0], <a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    ASSERT_EQ(pointStates.state2[1], <a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> 2:</div>
<div class="line">                    ASSERT_NE(pointStates.state2[0], <a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    ASSERT_NE(pointStates.state2[1], <a class="code" href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">PointState::Null</a>);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    ASSERT_LE(newPointCount, 2);</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            ASSERT_THROW(<a class="code" href="namespaceplayrho_1_1d2.html#a7df9661feac023ea0e4cbe6369943352">Destroy</a>(world, target_joint), WrongState);</div>
<div class="line">        },</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> contact, <span class="keyword">const</span> ContactImpulsesList&amp; impulse, <span class="keywordtype">unsigned</span> solved)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> body_a = <a class="code" href="namespaceplayrho_1_1d2.html#a700fc1baf4e0165912da41dae27dfc78">GetBodyA</a>(world, contact);</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> body_b = <a class="code" href="namespaceplayrho_1_1d2.html#a37729f6494a066607deb10ea5a57c449">GetBodyB</a>(world, contact);</div>
<div class="line"> </div>
<div class="line">            ASSERT_NE(body_a, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line">            ASSERT_NE(body_b, <a class="code" href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">InvalidBodyID</a>);</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">auto</span> fail_count = <span class="keywordtype">unsigned</span>{0};</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; body: {body_a, body_b})</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (!<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body))</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">continue</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keyword">const</span> <span class="keyword">auto</span> bpos = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body);</div>
<div class="line">                <span class="keyword">const</span> <span class="keyword">auto</span> lt = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{right_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, top_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>} - bpos;</div>
<div class="line">                <span class="keyword">const</span> <span class="keyword">auto</span> gt = bpos - <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{left_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, btm_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>};</div>
<div class="line">                </div>
<div class="line">                <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(lt) &lt;= 0_m || <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(lt) &lt;= 0_m || <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(gt) &lt;= 0_m || <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(gt) &lt;= 0_m)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">if</span> (!<a name="a176"></a><a class="code" href="namespaceplayrho_1_1d2.html#ad5a1ff6589dc30ed3f9f7ee881f17bb2">TestOverlap</a>(container_aabb, <a class="code" href="namespaceplayrho_1_1d2.html#a48a5c3ca651b9b1a16314b65124c415e">ComputeAABB</a>(world, body)))</div>
<div class="line">                    {</div>
<div class="line">                        <span class="comment">// Check if body gets out of bounds and no longer even overlapping</span></div>
<div class="line">                        <span class="comment">// container!</span></div>
<div class="line">                        EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), right_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">                        EXPECT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), top_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">                        EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), left_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">                        EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)), btm_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">                        ++fail_count;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (fail_count &gt; 0)</div>
<div class="line">            {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; angl=&quot;</span> &lt;&lt; angle;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; ctoi=&quot;</span> &lt;&lt; 0 + <a name="a177"></a><a class="code" href="namespaceplayrho_1_1d2.html#aeef0047d9c45e36b6db6bbdd0ead0569">GetToiCount</a>(world, contact);</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; solv=&quot;</span> &lt;&lt; 0 + solved;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; targ=(&quot;</span> &lt;&lt; distance * <a class="code" href="group__FixedMath.html#gaf6191f040980675d9a5c71bd53c79060">cos</a>(angle) &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; distance * <a class="code" href="group__FixedMath.html#ga0daabd6eacf8702561639d394e3efe6e">sin</a>(angle) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; maxv=&quot;</span> &lt;&lt; max_velocity;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; rang=(&quot;</span> &lt;&lt; min_x &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; min_y &lt;&lt; <span class="stringliteral">&quot;)-(&quot;</span> &lt;&lt; max_x &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; max_y &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; bpos=(&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)) &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">                std::cout &lt;&lt; std::endl;</div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(impulse.GetCount()){0}; i &lt; impulse.GetCount(); ++i)</div>
<div class="line">                {</div>
<div class="line">                    std::cout &lt;&lt; <span class="stringliteral">&quot; i#&quot;</span> &lt;&lt; (0 + i) &lt;&lt; <span class="stringliteral">&quot;={n&quot;</span> &lt;&lt; impulse.GetEntryNormal(i) &lt;&lt; <span class="stringliteral">&quot;,t&quot;</span> &lt;&lt; impulse.GetEntryTanget(i) &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line">                }</div>
<div class="line">                std::cout &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; bodyA=(&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)) &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">                <span class="keywordflow">if</span> (body_a == ball_body) std::cout &lt;&lt; <span class="stringliteral">&quot; ball&quot;</span>;</div>
<div class="line">                <span class="keywordflow">if</span> (!<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body_a)) std::cout &lt;&lt; <span class="stringliteral">&quot; wall&quot;</span>;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a name="a178"></a><a class="code" href="namespaceplayrho.html#a4b3ffaf4d26f2f410c72befd4f9b0ec6">to_underlying</a>(body_a);</div>
<div class="line">                std::cout &lt;&lt; std::endl;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; bodyB=(&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b)) &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b)) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">                <span class="keywordflow">if</span> (body_b == ball_body) std::cout &lt;&lt; <span class="stringliteral">&quot; ball&quot;</span>;</div>
<div class="line">                <span class="keywordflow">if</span> (!<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body_b)) std::cout &lt;&lt; <span class="stringliteral">&quot; wall&quot;</span>;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho.html#a4b3ffaf4d26f2f410c72befd4f9b0ec6">to_underlying</a>(body_b);</div>
<div class="line">                std::cout &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">                <span class="comment">//GTEST_FATAL_FAILURE_(&quot;&quot;);                </span></div>
<div class="line">            }</div>
<div class="line">        },</div>
<div class="line">        [&amp;](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> contact) {</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> body_a = <a class="code" href="namespaceplayrho_1_1d2.html#a700fc1baf4e0165912da41dae27dfc78">GetBodyA</a>(world, contact);</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> body_b = <a class="code" href="namespaceplayrho_1_1d2.html#a37729f6494a066607deb10ea5a57c449">GetBodyB</a>(world, contact);</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">auto</span> escaped = <span class="keyword">false</span>;</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; body: {body_a, body_b})</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (!<a class="code" href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">IsSpeedable</a>(world, body))</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">continue</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)) &gt;= right_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>)</div>
<div class="line">                {</div>
<div class="line">                    escaped = <span class="keyword">true</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)) &gt;= top_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>)</div>
<div class="line">                {</div>
<div class="line">                    escaped = <span class="keyword">true</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)) &lt;= left_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>)</div>
<div class="line">                {</div>
<div class="line">                    escaped = <span class="keyword">true</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body)) &lt;= btm_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>)</div>
<div class="line">                {</div>
<div class="line">                    escaped = <span class="keyword">true</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (escaped &amp;&amp; !<a class="code" href="namespaceplayrho_1_1d2.html#a50f925cd4a62e0bdad087cba2561efba">IsTouching</a>(world, contact))</div>
<div class="line">            {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Escaped at EndContact[&quot;</span> &lt;&lt; &amp;contact &lt;&lt; <span class="stringliteral">&quot;]:&quot;</span>;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; toiSteps=&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho_1_1d2.html#aeef0047d9c45e36b6db6bbdd0ead0569">GetToiCount</a>(world, contact));</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; toiValid=&quot;</span> &lt;&lt; <a name="a179"></a><a class="code" href="namespaceplayrho_1_1d2.html#a7b93e5c7f12212cbd45e9cb755e11461">HasValidToi</a>(world, contact);</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; a[&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho.html#a4b3ffaf4d26f2f410c72befd4f9b0ec6">to_underlying</a>(body_a) &lt;&lt; <span class="stringliteral">&quot;]@(&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)) &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_a)) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; b[&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho.html#a4b3ffaf4d26f2f410c72befd4f9b0ec6">to_underlying</a>(body_b) &lt;&lt; <span class="stringliteral">&quot;]@(&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b)) &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, body_b)) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">                std::cout &lt;&lt; std::endl;</div>
<div class="line">                <span class="comment">//exit(1);</span></div>
<div class="line">            }</div>
<div class="line">        },</div>
<div class="line">    };</div>
<div class="line">    ASSERT_EQ(listener.begin_contacts, <span class="keywordtype">unsigned</span>{0});</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#ab2d473e67d8c73d84b5bab36684b21e4">SetBeginContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.BeginContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a0eb658b0c7360d020e51833df13fe966">SetEndContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>) {</div>
<div class="line">        listener.EndContact(<span class="keywordtype">id</span>);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a6cf097ec66665aaee2ee3f003bdd3c95">SetPreSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> Manifold&amp; manifold) {</div>
<div class="line">        listener.PreSolve(<span class="keywordtype">id</span>, manifold);</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a6cdc554f84a577ddb26cc3f11db7948f">SetPostSolveContactListener</a>(world, [&amp;listener](<a class="code" href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">ContactID</a> <span class="keywordtype">id</span>,</div>
<div class="line">                                                  <span class="keyword">const</span> ContactImpulsesList&amp; impulses,</div>
<div class="line">                                                  <span class="keywordtype">unsigned</span> count){</div>
<div class="line">        listener.PostSolve(<span class="keywordtype">id</span>, impulses, count);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> outer = <span class="keywordtype">unsigned</span>{0}; outer &lt; 2000; ++outer)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> last_pos = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body);</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> loops = <span class="keywordtype">unsigned</span>{0};; ++loops)</div>
<div class="line">        {</div>
<div class="line">            <a name="a180"></a><a class="code" href="namespaceplayrho_1_1d2.html#a76c03d6b21297cb6e1249df1624bfe93">SetTarget</a>(world, target_joint, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{distance * <a class="code" href="group__FixedMath.html#gaf6191f040980675d9a5c71bd53c79060">cos</a>(angle) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, distance * <a class="code" href="group__FixedMath.html#ga0daabd6eacf8702561639d394e3efe6e">sin</a>(angle) * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>});</div>
<div class="line">            angle += anglular_speed;</div>
<div class="line">            distance += distance_speed;</div>
<div class="line"> </div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, 1_s * time_inc, 8, 3);</div>
<div class="line">            </div>
<div class="line">            ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)), right_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">            ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)), top_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">            ASSERT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)), left_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">            ASSERT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)), btm_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(numBodies){0}; i &lt; numBodies; ++i)</div>
<div class="line">            {</div>
<div class="line">                ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, bodies[i])), right_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">                ASSERT_LT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, bodies[i])), top_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">                ASSERT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, bodies[i])), left_edge_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">                ASSERT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, bodies[i])), btm_edge_y * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            max_x = std::max(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}, max_x);</div>
<div class="line">            min_x = std::min(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}, min_x);</div>
<div class="line"> </div>
<div class="line">            max_y = std::max(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}, max_y);</div>
<div class="line">            min_y = std::min(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)) / <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>}, min_y);</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> linVel = <a class="code" href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">GetVelocity</a>(world, ball_body).<a name="a181"></a><a class="code" href="structplayrho_1_1d2_1_1Velocity.html#afc8399d7200b4299a0e21cc184db0f0e">linear</a>;</div>
<div class="line">            max_velocity = std::max(<a class="code" href="group__Math.html#gafe323c1c5ab88d30d18413a3c1f10abb">GetMagnitude</a>(<a name="a182"></a><a class="code" href="namespaceplayrho_1_1d2.html#a5341790c7d8beeb73ac576c1af2c4189">GetVec2</a>(linVel)), max_velocity);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (loops &gt; 50)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a name="a183"></a><a class="code" href="namespaceplayrho_1_1d2.html#a44e13140e7670e778d7a18229aabcadf">GetTarget</a>(world, target_joint)) &lt; 0_m)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)) &gt;= <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(last_pos))</div>
<div class="line">                        <span class="keywordflow">break</span>;                    </div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)) &lt;= <a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(last_pos))</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a44e13140e7670e778d7a18229aabcadf">GetTarget</a>(world, target_joint)) &lt; 0_m)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)) &gt;= <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(last_pos))</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body)) &lt;= <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(last_pos))</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            last_pos = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body);</div>
<div class="line">        }</div>
<div class="line">        anglular_speed *= anglular_accel;</div>
<div class="line">        distance_speed *= distance_accel;</div>
<div class="line"> </div>
<div class="line">        ASSERT_NE(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, ball_body), (<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{}));</div>
<div class="line"><span class="preprocessor">#if 0</span></div>
<div class="line">        <span class="keywordflow">if</span> (outer &gt; 100)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(numBodies){0}; i &lt; numBodies; ++i)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// a sanity check to ensure the other bodies are getting moved</span></div>
<div class="line">                EXPECT_NE(last_opos[i], <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, bodies[i]));</div>
<div class="line">                last_opos[i] = <a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, bodies[i]);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#if 0</span></div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;angle=&quot;</span> &lt;&lt; angle;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot; target=(&quot;</span> &lt;&lt; distance * <a class="code" href="group__FixedMath.html#gaf6191f040980675d9a5c71bd53c79060">cos</a>(angle) &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; distance * <a class="code" href="group__FixedMath.html#ga0daabd6eacf8702561639d394e3efe6e">sin</a>(angle) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot; maxvel=&quot;</span> &lt;&lt; max_velocity;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot; range=(&quot;</span> &lt;&lt; min_x &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; min_y &lt;&lt; <span class="stringliteral">&quot;)-(&quot;</span> &lt;&lt; max_x &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; max_y &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">    std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> target0 = <a class="code" href="namespaceplayrho_1_1d2.html#a44e13140e7670e778d7a18229aabcadf">GetTarget</a>(world, target_joint);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shift = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{2_m, 2_m};</div>
<div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a4602fbbc1af40386700118e5ddda8b6a">ShiftOrigin</a>(world, shift);</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> target1 = <a class="code" href="namespaceplayrho_1_1d2.html#a44e13140e7670e778d7a18229aabcadf">GetTarget</a>(world, target_joint);</div>
<div class="line">    EXPECT_EQ(target0 - shift, target1);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="keyword">class </span>VerticalStackTest: <span class="keyword">public</span> ::testing::TestWithParam&lt;Real&gt;</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> SetUp()</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> hw_ground = 40.0_m;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> ground = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world);</div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, ground, <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, EdgeShapeConf{}.Set(<a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{-hw_ground, 0_m}, <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{hw_ground, 0_m})));</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> numboxes = boxes.size();</div>
<div class="line">        original_x = GetParam();</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> boxShape = <a class="code" href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">CreateShape</a>(world, PolygonShapeConf{}.UseDensity(1_kgpm2).UseFriction(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0.3f)).SetAsBox(hdim, hdim));</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(numboxes){0}; i &lt; numboxes; ++i)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// (hdim + 0.05f) + (hdim * 2 + 0.1f) * i</span></div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> location = <a class="code" href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">Length2</a>{original_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>, (i + <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{1}) * hdim * <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>{4}};</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> box = <a class="code" href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">CreateBody</a>(world, BodyConf{}.UseType(<a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>).UseLocation(location));</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">Attach</a>(world, box, boxShape);</div>
<div class="line">            boxes[i] = box;</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <a class="code" href="namespaceplayrho_1_1d2.html#ae23446b68b07e35cff2b642c5573acfe">SetAccelerations</a>(world, Acceleration{<a class="code" href="namespaceplayrho.html#a5822921028100052d4c6dfb43c7f6c4b">LinearAcceleration2</a>{</div>
<div class="line">            <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0) * <a class="code" href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">MeterPerSquareSecond</a>, -<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(10) * <a class="code" href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">MeterPerSquareSecond</a></div>
<div class="line">        }, 0 * <a class="code" href="group__PhysicalUnits.html#ga0da7c45fe3ebc86d397e684154033742">RadianPerSquareSecond</a>});</div>
<div class="line">        <span class="keyword">auto</span> stepConf = StepConf{};</div>
<div class="line">        stepConf.deltaTime = 1_s / 60;</div>
<div class="line">        <span class="keywordflow">while</span> (loopsTillSleeping &lt; maxLoops)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">Step</a>(world, stepConf);</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="namespaceplayrho_1_1d2.html#ab2ab9325a9628489049f16f50f1004b8">GetAwakeCount</a>(world) == 0)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            ++loopsTillSleeping;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    World world{};</div>
<div class="line">    std::size_t loopsTillSleeping = 0;</div>
<div class="line">    <span class="keyword">const</span> std::size_t maxLoops = 10000;</div>
<div class="line">    std::vector&lt;BodyID&gt; boxes{10};</div>
<div class="line">    <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a> original_x = 0;</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="group__PhysicalQuantities.html#ga8705f1923f7cff39bf09f6d01989770d">Length</a> hdim = 0.1_m;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">TEST_P(VerticalStackTest, EndsBeforeMaxLoops)</div>
<div class="line">{</div>
<div class="line">    EXPECT_LT(loopsTillSleeping, maxLoops);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST_P(VerticalStackTest, BoxesAtOriginalX)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; box: boxes)</div>
<div class="line">    {</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">GetX</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, box)), original_x * <a class="code" href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">Meter</a>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST_P(VerticalStackTest, EachBoxAboveLast)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> lasty = 0_m;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; box: boxes)</div>
<div class="line">    {</div>
<div class="line">        EXPECT_GT(<a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, box)), lasty + hdim);</div>
<div class="line">        lasty = <a class="code" href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">GetY</a>(<a class="code" href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(world, box));</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">TEST_P(VerticalStackTest, EachBodyLevel)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; box: boxes)</div>
<div class="line">    {</div>
<div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">GetAngle</a>(world, box), 0_deg);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> std::string test_suffix_generator(::testing::TestParamInfo&lt;Real&gt; param_info)</div>
<div class="line">{</div>
<div class="line">    std::stringstream strbuf;</div>
<div class="line">    strbuf &lt;&lt; param_info.index;</div>
<div class="line">    <span class="keywordflow">return</span> strbuf.str();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">static ::testing::internal::ParamGenerator&lt;VerticalStackTest::ParamType&gt; gtest_WorldVerticalStackTest_EvalGenerator_();</div>
<div class="line">static ::std::string gtest_WorldVerticalStackTest_EvalGenerateName_(const ::testing::TestParamInfo&lt;VerticalStackTest::ParamType&gt;&amp; info);</div>
<div class="line"> </div>
<div class="line">INSTANTIATE_TEST_CASE_P(World, VerticalStackTest, ::testing::Values(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0), <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(5)), test_suffix_generator);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="ttc" id="aBodyConf_8hpp_html"><div class="ttname"><a href="BodyConf_8hpp.html">BodyConf.hpp</a></div><div class="ttdoc">Declarations of BodyConf class and free functions associated with it.</div></div>
<div class="ttc" id="aBody_8hpp_html"><div class="ttname"><a href="Body_8hpp.html">Body.hpp</a></div><div class="ttdoc">Declarations of the Body class, and functions associated with it.</div></div>
<div class="ttc" id="aContactImpulsesList_8hpp_html"><div class="ttname"><a href="ContactImpulsesList_8hpp.html">ContactImpulsesList.hpp</a></div><div class="ttdoc">Definition of the ContactImpulsesList class and closely related code.</div></div>
<div class="ttc" id="aContact_8hpp_html"><div class="ttname"><a href="Contact_8hpp.html">Contact.hpp</a></div><div class="ttdoc">Definition of the Contact class and closely related code.</div></div>
<div class="ttc" id="aDiskShapeConf_8hpp_html"><div class="ttname"><a href="DiskShapeConf_8hpp.html">DiskShapeConf.hpp</a></div><div class="ttdoc">Definition of the DiskShapeConf class and closely related code.</div></div>
<div class="ttc" id="aDistanceJointConf_8hpp_html"><div class="ttname"><a href="DistanceJointConf_8hpp.html">DistanceJointConf.hpp</a></div><div class="ttdoc">Definition of the DistanceJointConf class and closely related code.</div></div>
<div class="ttc" id="aDynamicTree_8hpp_html"><div class="ttname"><a href="DynamicTree_8hpp.html">DynamicTree.hpp</a></div><div class="ttdoc">Declaration of the DynamicTree class.</div></div>
<div class="ttc" id="aEdgeShapeConf_8hpp_html"><div class="ttname"><a href="EdgeShapeConf_8hpp.html">EdgeShapeConf.hpp</a></div><div class="ttdoc">Definition of the EdgeShapeConf class and closely related code.</div></div>
<div class="ttc" id="aFrictionJointConf_8hpp_html"><div class="ttname"><a href="FrictionJointConf_8hpp.html">FrictionJointConf.hpp</a></div><div class="ttdoc">Definition of the FrictionJointConf class and closely related code.</div></div>
<div class="ttc" id="aGearJointConf_8hpp_html"><div class="ttname"><a href="GearJointConf_8hpp.html">GearJointConf.hpp</a></div><div class="ttdoc">Definition of the GearJointConf class and closely related code.</div></div>
<div class="ttc" id="aJoint_8hpp_html"><div class="ttname"><a href="Joint_8hpp.html">Joint.hpp</a></div><div class="ttdoc">Definition of the Joint class and closely related code.</div></div>
<div class="ttc" id="aLengthError_8hpp_html"><div class="ttname"><a href="LengthError_8hpp.html">LengthError.hpp</a></div><div class="ttdoc">Definition of the LengthError class.</div></div>
<div class="ttc" id="aManifold_8hpp_html"><div class="ttname"><a href="Manifold_8hpp.html">Manifold.hpp</a></div><div class="ttdoc">Definition of the Manifold class and closely related code.</div></div>
<div class="ttc" id="aMotorJointConf_8hpp_html"><div class="ttname"><a href="MotorJointConf_8hpp.html">MotorJointConf.hpp</a></div><div class="ttdoc">Definition of the MotorJointConf class and closely related code.</div></div>
<div class="ttc" id="aPointStates_8hpp_html"><div class="ttname"><a href="PointStates_8hpp.html">PointStates.hpp</a></div><div class="ttdoc">Structures and functions used for computing before and after like point oriented collision response s...</div></div>
<div class="ttc" id="aPolygonShapeConf_8hpp_html"><div class="ttname"><a href="PolygonShapeConf_8hpp.html">PolygonShapeConf.hpp</a></div><div class="ttdoc">Definition of the PolygonShapeConf class and closely related code.</div></div>
<div class="ttc" id="aPrismaticJointConf_8hpp_html"><div class="ttname"><a href="PrismaticJointConf_8hpp.html">PrismaticJointConf.hpp</a></div><div class="ttdoc">Definition of the PrismaticJointConf class and closely related code.</div></div>
<div class="ttc" id="aPulleyJointConf_8hpp_html"><div class="ttname"><a href="PulleyJointConf_8hpp.html">PulleyJointConf.hpp</a></div><div class="ttdoc">Definition of the PulleyJointConf class and closely related code.</div></div>
<div class="ttc" id="aRayCastOutput_8hpp_html"><div class="ttname"><a href="RayCastOutput_8hpp.html">RayCastOutput.hpp</a></div><div class="ttdoc">Declaration of the RayCastOutput structure and related free functions.</div></div>
<div class="ttc" id="aRevoluteJointConf_8hpp_html"><div class="ttname"><a href="RevoluteJointConf_8hpp.html">RevoluteJointConf.hpp</a></div><div class="ttdoc">Definition of the RevoluteJointConf class and closely related code.</div></div>
<div class="ttc" id="aRopeJointConf_8hpp_html"><div class="ttname"><a href="RopeJointConf_8hpp.html">RopeJointConf.hpp</a></div><div class="ttdoc">Definition of the RopeJointConf class and closely related code.</div></div>
<div class="ttc" id="aStepConf_8hpp_html"><div class="ttname"><a href="StepConf_8hpp.html">StepConf.hpp</a></div><div class="ttdoc">Declarations of the StepConf class, and free functions associated with it.</div></div>
<div class="ttc" id="aTargetJointConf_8hpp_html"><div class="ttname"><a href="TargetJointConf_8hpp.html">TargetJointConf.hpp</a></div><div class="ttdoc">Definition of the TargetJointConf class and closely related code.</div></div>
<div class="ttc" id="aWeldJointConf_8hpp_html"><div class="ttname"><a href="WeldJointConf_8hpp.html">WeldJointConf.hpp</a></div><div class="ttdoc">Definition of the WeldJointConf class and closely related code.</div></div>
<div class="ttc" id="aWheelJointConf_8hpp_html"><div class="ttname"><a href="WheelJointConf_8hpp.html">WheelJointConf.hpp</a></div><div class="ttdoc">Definition of the WheelJointConf class and closely related code.</div></div>
<div class="ttc" id="aWorldBody_8hpp_html"><div class="ttname"><a href="WorldBody_8hpp.html">WorldBody.hpp</a></div><div class="ttdoc">Declarations of free functions of World for bodies identified by BodyID.</div></div>
<div class="ttc" id="aWorldContact_8hpp_html"><div class="ttname"><a href="WorldContact_8hpp.html">WorldContact.hpp</a></div><div class="ttdoc">Declarations of free functions of World for contacts identified by ContactID.</div></div>
<div class="ttc" id="aWorldJoint_8hpp_html"><div class="ttname"><a href="WorldJoint_8hpp.html">WorldJoint.hpp</a></div><div class="ttdoc">Declarations of free functions of World for joints identified by JointID.</div></div>
<div class="ttc" id="aWorldMisc_8hpp_html"><div class="ttname"><a href="WorldMisc_8hpp.html">WorldMisc.hpp</a></div><div class="ttdoc">Declarations of free functions of World for unidentified information.</div></div>
<div class="ttc" id="aWorldShape_8hpp_html"><div class="ttname"><a href="WorldShape_8hpp.html">WorldShape.hpp</a></div><div class="ttdoc">Declarations of free functions of World for shapes identified by ShapeID.</div></div>
<div class="ttc" id="aWorld_8hpp_html"><div class="ttname"><a href="World_8hpp.html">World.hpp</a></div><div class="ttdoc">Definitions of the World class and closely related code.</div></div>
<div class="ttc" id="aWrongState_8hpp_html"><div class="ttname"><a href="WrongState_8hpp.html">WrongState.hpp</a></div><div class="ttdoc">Definition of the WrongState class.</div></div>
<div class="ttc" id="aclassplayrho_1_1d2_1_1DynamicTree_html_a211b3f8b163604b56db4fa3887fc2f43"><div class="ttname"><a href="classplayrho_1_1d2_1_1DynamicTree.html#a211b3f8b163604b56db4fa3887fc2f43">playrho::d2::DynamicTree::GetNodeCount</a></div><div class="ttdeci">Size GetNodeCount() const noexcept</div><div class="ttdoc">Gets the current count of allocated nodes.</div><div class="ttdef"><b>Definition:</b> DynamicTree.hpp:498</div></div>
<div class="ttc" id="aclassplayrho_1_1d2_1_1Manifold_html_a7ff238fab84e4d9dc478205840bd2b4aa8553bfcf72ca701046534f9db05a698a"><div class="ttname"><a href="classplayrho_1_1d2_1_1Manifold.html#a7ff238fab84e4d9dc478205840bd2b4aa8553bfcf72ca701046534f9db05a698a">playrho::d2::Manifold::e_faceA</a></div><div class="ttdeci">@ e_faceA</div><div class="ttdef"><b>Definition:</b> Manifold.hpp:108</div></div>
<div class="ttc" id="aclassplayrho_1_1d2_1_1Manifold_html_ae524c7d0bb1f9596dac79dc02e2e4cf2"><div class="ttname"><a href="classplayrho_1_1d2_1_1Manifold.html#ae524c7d0bb1f9596dac79dc02e2e4cf2">playrho::d2::Manifold::size_type</a></div><div class="ttdeci">std::remove_const_t&lt; decltype(MaxManifoldPoints)&gt; size_type</div><div class="ttdoc">Size type.</div><div class="ttdef"><b>Definition:</b> Manifold.hpp:74</div></div>
<div class="ttc" id="aclassplayrho_1_1d2_1_1UnitVec_html_a989ef293213c6b3a4d1901533445cd85"><div class="ttname"><a href="classplayrho_1_1d2_1_1UnitVec.html#a989ef293213c6b3a4d1901533445cd85">playrho::d2::UnitVec::GetRight</a></div><div class="ttdeci">static constexpr UnitVec GetRight() noexcept</div><div class="ttdoc">Gets the right-ward oriented unit vector.</div><div class="ttdef"><b>Definition:</b> UnitVec.hpp:74</div></div>
<div class="ttc" id="ad2_2RayCastInput_8hpp_html"><div class="ttname"><a href="d2_2RayCastInput_8hpp.html">RayCastInput.hpp</a></div><div class="ttdoc">Alias for the 2-D RayCastInput struct.</div></div>
<div class="ttc" id="agroup__FixedMath_html_ga0daabd6eacf8702561639d394e3efe6e"><div class="ttname"><a href="group__FixedMath.html#ga0daabd6eacf8702561639d394e3efe6e">playrho::sin</a></div><div class="ttdeci">Fixed&lt; BT, FB &gt; sin(Fixed&lt; BT, FB &gt; arg)</div><div class="ttdoc">Computes the sine of the argument for Fixed types.</div><div class="ttdef"><b>Definition:</b> FixedMath.hpp:452</div></div>
<div class="ttc" id="agroup__FixedMath_html_ga935fa93a69f58baf20b00e14461d51e7"><div class="ttname"><a href="group__FixedMath.html#ga935fa93a69f58baf20b00e14461d51e7">playrho::nextafter</a></div><div class="ttdeci">Fixed&lt; BT, FB &gt; nextafter(Fixed&lt; BT, FB &gt; from, Fixed&lt; BT, FB &gt; to) noexcept</div><div class="ttdoc">Next after function for Fixed types.</div><div class="ttdef"><b>Definition:</b> FixedMath.hpp:370</div></div>
<div class="ttc" id="agroup__FixedMath_html_gaf6191f040980675d9a5c71bd53c79060"><div class="ttname"><a href="group__FixedMath.html#gaf6191f040980675d9a5c71bd53c79060">playrho::cos</a></div><div class="ttdeci">Fixed&lt; BT, FB &gt; cos(Fixed&lt; BT, FB &gt; arg)</div><div class="ttdoc">Computes the cosine of the argument for Fixed types.</div><div class="ttdef"><b>Definition:</b> FixedMath.hpp:461</div></div>
<div class="ttc" id="agroup__Math_html_gac7300e33771c076a6d7236d566b30207"><div class="ttname"><a href="group__Math.html#gac7300e33771c076a6d7236d566b30207">playrho::Square</a></div><div class="ttdeci">constexpr auto Square(TYPE t) noexcept -&gt; decltype(t *t)</div><div class="ttdoc">Squares the given value.</div><div class="ttdef"><b>Definition:</b> Math.hpp:119</div></div>
<div class="ttc" id="agroup__Math_html_gafe323c1c5ab88d30d18413a3c1f10abb"><div class="ttname"><a href="group__Math.html#gafe323c1c5ab88d30d18413a3c1f10abb">playrho::GetMagnitude</a></div><div class="ttdeci">auto GetMagnitude(const T &amp;value) noexcept(noexcept(sqrt(GetMagnitudeSquared(value)))) -&gt; decltype(sqrt(GetMagnitudeSquared(value)))</div><div class="ttdoc">Gets the magnitude of the given value.</div><div class="ttdef"><b>Definition:</b> Math.hpp:287</div></div>
<div class="ttc" id="agroup__PhysicalQuantities_html_ga81349200b6a963bf87885ab7e89e981d"><div class="ttname"><a href="group__PhysicalQuantities.html#ga81349200b6a963bf87885ab7e89e981d">playrho::RotInertia</a></div><div class="ttdeci">detail::moment_of_inertia RotInertia</div><div class="ttdoc">Rotational inertia quantity.</div><div class="ttdef"><b>Definition:</b> Units.hpp:350</div></div>
<div class="ttc" id="agroup__PhysicalQuantities_html_ga8705f1923f7cff39bf09f6d01989770d"><div class="ttname"><a href="group__PhysicalQuantities.html#ga8705f1923f7cff39bf09f6d01989770d">playrho::Length</a></div><div class="ttdeci">detail::length Length</div><div class="ttdoc">Length quantity.</div><div class="ttdef"><b>Definition:</b> Units.hpp:234</div></div>
<div class="ttc" id="agroup__PhysicalQuantities_html_gaaf74540633aeb472114381118842149e"><div class="ttname"><a href="group__PhysicalQuantities.html#gaaf74540633aeb472114381118842149e">playrho::Mass</a></div><div class="ttdeci">detail::mass Mass</div><div class="ttdoc">Mass quantity.</div><div class="ttdef"><b>Definition:</b> Units.hpp:260</div></div>
<div class="ttc" id="agroup__PhysicalQuantities_html_gabb35ed422281bfdf3c41a276958898fc"><div class="ttname"><a href="group__PhysicalQuantities.html#gabb35ed422281bfdf3c41a276958898fc">playrho::Angle</a></div><div class="ttdeci">detail::plane_angle Angle</div><div class="ttdoc">Angle quantity.</div><div class="ttdef"><b>Definition:</b> Units.hpp:291</div></div>
<div class="ttc" id="agroup__PhysicalQuantities_html_gad36b742307f9f19c2c8c95e9372a3613"><div class="ttname"><a href="group__PhysicalQuantities.html#gad36b742307f9f19c2c8c95e9372a3613">playrho::Momentum</a></div><div class="ttdeci">detail::momentum Momentum</div><div class="ttdoc">Momentum quantity.</div><div class="ttdef"><b>Definition:</b> Units.hpp:369</div></div>
<div class="ttc" id="agroup__PhysicalUnits_html_ga0bc87db1f0fbc1b5f1ae9b44c66b6e82"><div class="ttname"><a href="group__PhysicalUnits.html#ga0bc87db1f0fbc1b5f1ae9b44c66b6e82">playrho::MeterPerSquareSecond</a></div><div class="ttdeci">constexpr auto MeterPerSquareSecond</div><div class="ttdoc">Meter per square second unit of linear acceleration.</div><div class="ttdef"><b>Definition:</b> Units.hpp:421</div></div>
<div class="ttc" id="agroup__PhysicalUnits_html_ga0da7c45fe3ebc86d397e684154033742"><div class="ttname"><a href="group__PhysicalUnits.html#ga0da7c45fe3ebc86d397e684154033742">playrho::RadianPerSquareSecond</a></div><div class="ttdeci">constexpr auto RadianPerSquareSecond</div><div class="ttdoc">Radian per square second unit of angular acceleration.</div><div class="ttdef"><b>Definition:</b> Units.hpp:468</div></div>
<div class="ttc" id="agroup__PhysicalUnits_html_ga6dacec03532687e9bac4ac6a882b35ad"><div class="ttname"><a href="group__PhysicalUnits.html#ga6dacec03532687e9bac4ac6a882b35ad">playrho::Second</a></div><div class="ttdeci">constexpr auto Second</div><div class="ttdoc">Second unit of time.</div><div class="ttdef"><b>Definition:</b> Units.hpp:396</div></div>
<div class="ttc" id="agroup__PhysicalUnits_html_gab5d1d9c70d11cff5fb552e939de39b9c"><div class="ttname"><a href="group__PhysicalUnits.html#gab5d1d9c70d11cff5fb552e939de39b9c">playrho::Meter</a></div><div class="ttdeci">constexpr auto Meter</div><div class="ttdoc">Meter unit of Length.</div><div class="ttdef"><b>Definition:</b> Units.hpp:413</div></div>
<div class="ttc" id="agroup__RayCastGroup_html_gaa2b257514c434e44a5ea5839c959bea9"><div class="ttname"><a href="group__RayCastGroup.html#gaa2b257514c434e44a5ea5839c959bea9">playrho::d2::RayCast</a></div><div class="ttdeci">RayCastOutput RayCast(Length radius, const Length2 &amp;location, const RayCastInput &amp;input) noexcept</div><div class="ttdoc">Cast a ray against a circle of a given radius at the given location.</div><div class="ttdef"><b>Definition:</b> RayCastOutput.cpp:40</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html"><div class="ttname"><a href="namespaceplayrho_1_1d2.html">playrho::d2</a></div><div class="ttdef"><b>Definition:</b> AABB.hpp:44</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a005d180107a41f007d4c495abdebd06f"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a005d180107a41f007d4c495abdebd06f">playrho::d2::SetAcceleration</a></div><div class="ttdeci">void SetAcceleration(Body &amp;body, const Acceleration &amp;value) noexcept</div><div class="ttdoc">Sets the accelerations on the given body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1075</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a02732814de45bab260fe1a91e1fb05c0"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a02732814de45bab260fe1a91e1fb05c0">playrho::d2::GetBodiesForProxies</a></div><div class="ttdeci">const BodyIDs &amp; GetBodiesForProxies(const AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Gets the bodies-for-proxies range for this world.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:965</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a066d3e1ae90fa58624f7f07f62eecaf3"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a066d3e1ae90fa58624f7f07f62eecaf3">playrho::d2::GetVertexRadius</a></div><div class="ttdeci">NonNegative&lt; Length &gt; GetVertexRadius(const ChainShapeConf &amp;arg) noexcept</div><div class="ttdoc">Gets the vertex radius of the given shape configuration.</div><div class="ttdef"><b>Definition:</b> ChainShapeConf.hpp:211</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a06bdf092ec9098a9c0277832ba0ddbc2"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a06bdf092ec9098a9c0277832ba0ddbc2">playrho::d2::NeedsFiltering</a></div><div class="ttdeci">bool NeedsFiltering(const World &amp;world, ContactID id)</div><div class="ttdoc">Whether or not the contact needs filtering.</div><div class="ttdef"><b>Definition:</b> WorldContact.cpp:88</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a089e703b548a6b5f8b02ceb661a40a1d"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a089e703b548a6b5f8b02ceb661a40a1d">playrho::d2::SetShape</a></div><div class="ttdeci">void SetShape(AabbTreeWorld &amp;world, ShapeID id, Shape def)</div><div class="ttdoc">Sets the value of the identified shape.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:1160</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a09cc9e0e457c86495cee4d26e3370bc5"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a09cc9e0e457c86495cee4d26e3370bc5">playrho::d2::NeedsUpdating</a></div><div class="ttdeci">bool NeedsUpdating(const World &amp;world, ContactID id)</div><div class="ttdoc">Whether or not the contact needs updating.</div><div class="ttdef"><b>Definition:</b> WorldContact.cpp:93</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a0eb658b0c7360d020e51833df13fe966"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a0eb658b0c7360d020e51833df13fe966">playrho::d2::SetEndContactListener</a></div><div class="ttdeci">void SetEndContactListener(AabbTreeWorld &amp;world, ContactListener listener) noexcept</div><div class="ttdoc">Register an end contact event listener.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:1045</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a0f207924edd9511c1d56c03933928fa8"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a0f207924edd9511c1d56c03933928fa8">playrho::d2::size</a></div><div class="ttdeci">std::size_t size(const DynamicTree &amp;tree) noexcept</div><div class="ttdoc">Gets the &quot;size&quot; of the given tree.</div><div class="ttdef"><b>Definition:</b> DynamicTree.hpp:698</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a139df81757401545db36e6fc6f030d75"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a139df81757401545db36e6fc6f030d75">playrho::d2::IsAwake</a></div><div class="ttdeci">bool IsAwake(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the awake/asleep state of this body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:792</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a13ee26a73a0987dbb7c825539590719d"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a13ee26a73a0987dbb7c825539590719d">playrho::d2::GetVelocity</a></div><div class="ttdeci">Velocity GetVelocity(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the velocity.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1200</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a14fe4bcfe6eb37fc67d9f435879797c2"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a14fe4bcfe6eb37fc67d9f435879797c2">playrho::d2::GetAssociationCount</a></div><div class="ttdeci">ShapeCounter GetAssociationCount(const World &amp;world)</div><div class="ttdoc">Gets the count of body-shape associations in the given world.</div><div class="ttdef"><b>Definition:</b> WorldShape.cpp:39</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a171edc74ab3a2a7f742cb84fc9f5179b"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a171edc74ab3a2a7f742cb84fc9f5179b">playrho::d2::GetBodyCount</a></div><div class="ttdeci">BodyCounter GetBodyCount(const World &amp;world) noexcept</div><div class="ttdoc">Gets the body count in the given world.</div><div class="ttdef"><b>Definition:</b> WorldBody.cpp:577</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a19b401f474facc647922e54a7aa60aa8"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a19b401f474facc647922e54a7aa60aa8">playrho::d2::GetLinearDamping</a></div><div class="ttdeci">NonNegative&lt; Frequency &gt; GetLinearDamping(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the linear damping of the body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1030</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a1af6a33d54c562234a4ba6f70f03cc62"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a1af6a33d54c562234a4ba6f70f03cc62">playrho::d2::ClearForces</a></div><div class="ttdeci">void ClearForces(World &amp;world)</div><div class="ttdoc">Clears forces.</div><div class="ttdef"><b>Definition:</b> WorldBody.hpp:774</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a1afff43f96a91b8c26b8f0de7b9a71da"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a1afff43f96a91b8c26b8f0de7b9a71da">playrho::d2::MassData</a></div><div class="ttdeci">::playrho::detail::MassData&lt; 2 &gt; MassData</div><div class="ttdoc">Mass data alias for 2-D objects.</div><div class="ttdef"><b>Definition:</b> MassData.hpp:83</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a1cde4db895479e9ddd34c70425811699"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a1cde4db895479e9ddd34c70425811699">playrho::d2::IsSleepingAllowed</a></div><div class="ttdeci">bool IsSleepingAllowed(const Body &amp;body) noexcept</div><div class="ttdoc">Gets whether or not this body allowed to sleep.</div><div class="ttdef"><b>Definition:</b> Body.hpp:736</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a1e3ed738b9082f9bfd3358a19d9aa97d"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a1e3ed738b9082f9bfd3358a19d9aa97d">playrho::d2::GetDensity</a></div><div class="ttdeci">NonNegative&lt; AreaDensity &gt; GetDensity(const Shape &amp;shape) noexcept</div><div class="ttdoc">Gets the density of the given shape.</div><div class="ttdef"><b>Definition:</b> Shape.hpp:606</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a1e9f16b0b9ca81d3852d99bd3bf7ba94"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a1e9f16b0b9ca81d3852d99bd3bf7ba94">playrho::d2::GetContactRange</a></div><div class="ttdeci">ContactCounter GetContactRange(const AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Gets the extent of the currently valid contact range.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:884</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a23717005f46c309d31dfbb9f0e1b9daf"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a23717005f46c309d31dfbb9f0e1b9daf">playrho::d2::GetY</a></div><div class="ttdeci">constexpr auto GetY(const UnitVec &amp;value) -&gt; decltype(get&lt; 1 &gt;(value))</div><div class="ttdoc">Gets the &quot;Y&quot; element of the given value - i.e. the second element.</div><div class="ttdef"><b>Definition:</b> UnitVec.hpp:396</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a27a8b26e2499ae4abb787373114ecd43"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a27a8b26e2499ae4abb787373114ecd43">playrho::d2::GetLocalAnchorB</a></div><div class="ttdeci">Length2 GetLocalAnchorB(const GearJointConf &amp;conf)</div><div class="ttdoc">Gets the local anchor B property of the given joint.</div><div class="ttdef"><b>Definition:</b> GearJointConf.cpp:510</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a2a12afea1828cb69ef94cbfa86018069"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a2a12afea1828cb69ef94cbfa86018069">playrho::d2::SetType</a></div><div class="ttdeci">void SetType(Body &amp;body, BodyType value) noexcept</div><div class="ttdoc">Sets the type of this body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:681</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a2ba4e5cbd12444be971a3ef0a09e9931"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a2ba4e5cbd12444be971a3ef0a09e9931">playrho::d2::UnsetImpenetrable</a></div><div class="ttdeci">void UnsetImpenetrable(Body &amp;body) noexcept</div><div class="ttdoc">Unsets the impenetrable status of this body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:728</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a2ecdf15e8b628491940dd2e568afc427"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a2ecdf15e8b628491940dd2e568afc427">playrho::d2::GetAngle</a></div><div class="ttdeci">Angle GetAngle(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the body's angle.</div><div class="ttdef"><b>Definition:</b> Body.cpp:275</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a306635dbd11f92ad1020a386fce7b7c2"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a306635dbd11f92ad1020a386fce7b7c2">playrho::d2::GetAngularVelocity</a></div><div class="ttdeci">AngularVelocity GetAngularVelocity(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the angular velocity.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1230</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a344a9753e8cd6fb046a57e82d2206d60"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a344a9753e8cd6fb046a57e82d2206d60">playrho::d2::SetAngularDamping</a></div><div class="ttdeci">void SetAngularDamping(Body &amp;body, NonNegative&lt; Frequency &gt; value) noexcept</div><div class="ttdoc">Sets the angular damping of the body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1054</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a352ef727632169c252a59d648808822f"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a352ef727632169c252a59d648808822f">playrho::d2::CreateBody</a></div><div class="ttdeci">BodyID CreateBody(AabbTreeWorld &amp;world, Body body=Body{})</div><div class="ttdoc">Creates a rigid body that's a copy of the given one.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:889</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a36b5ef1495440a134a304321d2e85e3d"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a36b5ef1495440a134a304321d2e85e3d">playrho::d2::GetGearJointConf</a></div><div class="ttdeci">GearJointConf GetGearJointConf(const Joint &amp;joint)</div><div class="ttdoc">Gets the definition data for the given joint.</div><div class="ttdef"><b>Definition:</b> GearJointConf.cpp:87</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a37729f6494a066607deb10ea5a57c449"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a37729f6494a066607deb10ea5a57c449">playrho::d2::GetBodyB</a></div><div class="ttdeci">BodyID GetBodyB(const Joint &amp;object) noexcept</div><div class="ttdoc">Gets the second body attached to this joint.</div><div class="ttdef"><b>Definition:</b> Joint.hpp:285</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a3802163b90f631b001eaa0201be419c9"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a3802163b90f631b001eaa0201be419c9">playrho::d2::GetLinearVelocity</a></div><div class="ttdeci">LinearVelocity2 GetLinearVelocity(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the linear velocity of the center of mass.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1220</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a3c355eb58981b97e5901fa7d04052507"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a3c355eb58981b97e5901fa7d04052507">playrho::d2::GetMass</a></div><div class="ttdeci">Mass GetMass(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the mass of the body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1125</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a421d2110404320428fd02b2d0b70a062"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a421d2110404320428fd02b2d0b70a062">playrho::d2::GetType</a></div><div class="ttdeci">BodyType GetType(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the type of this body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:673</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a44e13140e7670e778d7a18229aabcadf"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a44e13140e7670e778d7a18229aabcadf">playrho::d2::GetTarget</a></div><div class="ttdeci">Length2 GetTarget(const Joint &amp;object)</div><div class="ttdoc">Gets the given joint's target property if it has one.</div><div class="ttdef"><b>Definition:</b> Joint.cpp:462</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a4602fbbc1af40386700118e5ddda8b6a"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a4602fbbc1af40386700118e5ddda8b6a">playrho::d2::ShiftOrigin</a></div><div class="ttdeci">void ShiftOrigin(AabbTreeWorld &amp;world, const Length2 &amp;newOrigin)</div><div class="ttdoc">Shifts the world origin.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:2104</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a4744f578a96c67e8929c84c7b32e27e7"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a4744f578a96c67e8929c84c7b32e27e7">playrho::d2::GetManifold</a></div><div class="ttdeci">const Manifold &amp; GetManifold(const AabbTreeWorld &amp;world, ContactID id)</div><div class="ttdoc">Gets the identified manifold.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:2780</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a4834708af29bcc9ae39ebfc2b9f580f6"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a4834708af29bcc9ae39ebfc2b9f580f6">playrho::d2::Awaken</a></div><div class="ttdeci">bool Awaken(Body &amp;body) noexcept</div><div class="ttdoc">Awakens the body if it's asleep.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1099</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a48a5c3ca651b9b1a16314b65124c415e"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a48a5c3ca651b9b1a16314b65124c415e">playrho::d2::ComputeAABB</a></div><div class="ttdeci">AABB ComputeAABB(const DistanceProxy &amp;proxy, const Transformation &amp;xf) noexcept</div><div class="ttdoc">Computes the AABB.</div><div class="ttdef"><b>Definition:</b> AABB.cpp:34</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a4c12d1fb1dda1f84e19d43cb9abfbdd6"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a4c12d1fb1dda1f84e19d43cb9abfbdd6">playrho::d2::GetBodies</a></div><div class="ttdeci">const BodyIDs &amp; GetBodies(const AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Gets the world body range for this constant world.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:960</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a4ee7b170b4d490f78974c11f781b4778"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a4ee7b170b4d490f78974c11f781b4778">playrho::d2::GetPulleyJointConf</a></div><div class="ttdeci">PulleyJointConf GetPulleyJointConf(const Joint &amp;joint)</div><div class="ttdoc">Gets the definition data for the given joint.</div><div class="ttdef"><b>Definition:</b> PulleyJointConf.cpp:73</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a5063d35172bec75d73944cc1c52009ed"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a5063d35172bec75d73944cc1c52009ed">playrho::d2::CreateShape</a></div><div class="ttdeci">ShapeID CreateShape(AabbTreeWorld &amp;world, Shape def)</div><div class="ttdoc">Creates an identifiable copy of the given shape within this world.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:1113</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a50f925cd4a62e0bdad087cba2561efba"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a50f925cd4a62e0bdad087cba2561efba">playrho::d2::IsTouching</a></div><div class="ttdeci">bool IsTouching(const World &amp;world, ContactID id)</div><div class="ttdoc">Is this contact touching?</div><div class="ttdef"><b>Definition:</b> WorldContact.cpp:36</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a52ca8acb99e3c3591d13ca912282470e"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a52ca8acb99e3c3591d13ca912282470e">playrho::d2::Query</a></div><div class="ttdeci">void Query(const DynamicTree &amp;tree, const AABB &amp;aabb, const DynamicTreeSizeCB &amp;callback)</div><div class="ttdoc">Query the given dynamic tree and find nodes overlapping the given AABB.</div><div class="ttdef"><b>Definition:</b> DynamicTree.cpp:670</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a5341790c7d8beeb73ac576c1af2c4189"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a5341790c7d8beeb73ac576c1af2c4189">playrho::d2::GetVec2</a></div><div class="ttdeci">constexpr Vec2 GetVec2(const UnitVec &amp;value)</div><div class="ttdoc">Gets a Vec2 representation of the given value.</div><div class="ttdef"><b>Definition:</b> Math.hpp:40</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a54802d32ec837cdf5669744c20dca3df"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a54802d32ec837cdf5669744c20dca3df">playrho::d2::SetSleepingAllowed</a></div><div class="ttdeci">void SetSleepingAllowed(Body &amp;body, bool value) noexcept</div><div class="ttdef"><b>Definition:</b> Body.hpp:745</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a5955bf7b1c0cdfa36d11adea236d9af4"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a5955bf7b1c0cdfa36d11adea236d9af4">playrho::d2::GetNormalized</a></div><div class="ttdeci">Position GetNormalized(const Position &amp;val) noexcept</div><div class="ttdoc">Gets the &quot;normalized&quot; position.</div><div class="ttdef"><b>Definition:</b> Math.hpp:135</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a5e7d71d5a95963adfa0be724685f0c72"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a5e7d71d5a95963adfa0be724685f0c72">playrho::d2::SetLocation</a></div><div class="ttdeci">void SetLocation(Body &amp;body, const Length2 &amp;value)</div><div class="ttdoc">Sets the body's location.</div><div class="ttdef"><b>Definition:</b> Body.cpp:270</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a60201ffd45e0d810ff5d4fb90fd0bc4b"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a60201ffd45e0d810ff5d4fb90fd0bc4b">playrho::d2::SetAwake</a></div><div class="ttdeci">void SetAwake(Body &amp;body) noexcept</div><div class="ttdoc">Awakens this body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:806</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a60b9a9ec9672825ae4fc6a33ff268cbe"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a60b9a9ec9672825ae4fc6a33ff268cbe">playrho::d2::GetPrismaticJointConf</a></div><div class="ttdeci">PrismaticJointConf GetPrismaticJointConf(const Joint &amp;joint)</div><div class="ttdoc">Gets the definition data for the given joint.</div><div class="ttdef"><b>Definition:</b> PrismaticJointConf.cpp:127</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a60f56df55fce1755d74eb063f79cac2a"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a60f56df55fce1755d74eb063f79cac2a">playrho::d2::GetUsedShapesCount</a></div><div class="ttdeci">ShapeCounter GetUsedShapesCount(const World &amp;world) noexcept</div><div class="ttdoc">Gets the count of uniquely identified shapes that are in use - i.e. that are attached to bodies.</div><div class="ttdef"><b>Definition:</b> WorldShape.cpp:49</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a61d7f65f10afdad013c11d866292ad12"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a61d7f65f10afdad013c11d866292ad12">playrho::d2::GetShapeRange</a></div><div class="ttdeci">ShapeCounter GetShapeRange(const AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Gets the extent of the currently valid shape range.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:1108</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a628126b03bd99f5df5f08a047692b9da"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a628126b03bd99f5df5f08a047692b9da">playrho::d2::GetInvMass</a></div><div class="ttdeci">InvMass GetInvMass(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the inverse total mass of the body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1010</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a652406794226e2ebe8a0a9c7cf2d98ea"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a652406794226e2ebe8a0a9c7cf2d98ea">playrho::d2::Clear</a></div><div class="ttdeci">void Clear(AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Clears this world.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:829</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a6cdc554f84a577ddb26cc3f11db7948f"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a6cdc554f84a577ddb26cc3f11db7948f">playrho::d2::SetPostSolveContactListener</a></div><div class="ttdeci">void SetPostSolveContactListener(AabbTreeWorld &amp;world, ImpulsesContactListener listener) noexcept</div><div class="ttdoc">Register a post-solve contact event listener.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:1055</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a6cf097ec66665aaee2ee3f003bdd3c95"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a6cf097ec66665aaee2ee3f003bdd3c95">playrho::d2::SetPreSolveContactListener</a></div><div class="ttdeci">void SetPreSolveContactListener(AabbTreeWorld &amp;world, ManifoldContactListener listener) noexcept</div><div class="ttdoc">Register a pre-solve contact event listener.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:1050</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a700fc1baf4e0165912da41dae27dfc78"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a700fc1baf4e0165912da41dae27dfc78">playrho::d2::GetBodyA</a></div><div class="ttdeci">BodyID GetBodyA(const Joint &amp;object) noexcept</div><div class="ttdoc">Gets the first body attached to this joint.</div><div class="ttdef"><b>Definition:</b> Joint.hpp:280</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a71e1178c67501e9f3cecd3bc40cc04a1"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a71e1178c67501e9f3cecd3bc40cc04a1">playrho::d2::Attach</a></div><div class="ttdeci">void Attach(AabbTreeWorld &amp;world, BodyID id, ShapeID shapeID)</div><div class="ttdoc">Associates a validly identified shape with the validly identified body.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorldBody.cpp:34</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a72265a3c2d4511e74df6ab4d13112f6d"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a72265a3c2d4511e74df6ab4d13112f6d">playrho::d2::GetHeight</a></div><div class="ttdeci">DynamicTree::Height GetHeight(const DynamicTree &amp;tree) noexcept</div><div class="ttdoc">Gets the height of the binary tree.</div><div class="ttdef"><b>Definition:</b> DynamicTree.hpp:606</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a73d47c4e7db2126ca5bb6e3fd5aa7a2c"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a73d47c4e7db2126ca5bb6e3fd5aa7a2c">playrho::d2::SetDetachListener</a></div><div class="ttdeci">void SetDetachListener(AabbTreeWorld &amp;world, AssociationListener listener) noexcept</div><div class="ttdoc">Registers a detach listener for shapes detaching from bodies.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:1030</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a7484e45a19ce38178de17a2f0bfdb519"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a7484e45a19ce38178de17a2f0bfdb519">playrho::d2::GetJointCount</a></div><div class="ttdeci">JointCounter GetJointCount(const World &amp;world)</div><div class="ttdef"><b>Definition:</b> World.hpp:340</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a7543270614333c0aa69df56877a3a1bd"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a7543270614333c0aa69df56877a3a1bd">playrho::d2::GetAngularDamping</a></div><div class="ttdeci">NonNegative&lt; Frequency &gt; GetAngularDamping(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the angular damping of the body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1046</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a758f0ba36affe9a3aba066285cf710d7"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a758f0ba36affe9a3aba066285cf710d7">playrho::d2::IsSensor</a></div><div class="ttdeci">bool IsSensor(const Shape &amp;shape) noexcept</div><div class="ttdoc">Gets whether or not the given shape is a sensor.</div><div class="ttdef"><b>Definition:</b> Shape.hpp:634</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a76c03d6b21297cb6e1249df1624bfe93"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a76c03d6b21297cb6e1249df1624bfe93">playrho::d2::SetTarget</a></div><div class="ttdeci">void SetTarget(Joint &amp;object, const Length2 &amp;value)</div><div class="ttdoc">Sets the given joint's target property if it has one.</div><div class="ttdef"><b>Definition:</b> Joint.cpp:471</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a7738575fcd8e208874a3cd3e32dffbf2"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a7738575fcd8e208874a3cd3e32dffbf2">playrho::d2::SetShapeDestructionListener</a></div><div class="ttdeci">void SetShapeDestructionListener(AabbTreeWorld &amp;world, ShapeListener listener) noexcept</div><div class="ttdoc">Registers a destruction listener for shapes.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:1025</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a798bf0d73d9cdbbaad16af6fd13cfed0"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a798bf0d73d9cdbbaad16af6fd13cfed0">playrho::d2::GetTransformation</a></div><div class="ttdeci">const Transformation &amp; GetTransformation(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the body's transformation.</div><div class="ttdef"><b>Definition:</b> Body.hpp:922</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a79b87dd5723bbca53647199735376788"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a79b87dd5723bbca53647199735376788">playrho::d2::FindClosestBody</a></div><div class="ttdeci">BodyID FindClosestBody(const World &amp;world, const Length2 &amp;location)</div><div class="ttdoc">Finds body in given world that's closest to the given location.</div><div class="ttdef"><b>Definition:</b> WorldBody.cpp:559</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a7b8d4d16ed5f043b13407de3cd8f11f4"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a7b8d4d16ed5f043b13407de3cd8f11f4">playrho::d2::SetSubStepping</a></div><div class="ttdeci">void SetSubStepping(AabbTreeWorld &amp;world, bool flag) noexcept</div><div class="ttdoc">Enables/disables single stepped continuous physics.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:1000</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a7b93e5c7f12212cbd45e9cb755e11461"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a7b93e5c7f12212cbd45e9cb755e11461">playrho::d2::HasValidToi</a></div><div class="ttdeci">bool HasValidToi(const World &amp;world, ContactID id)</div><div class="ttdoc">Whether or not the contact has a valid TOI.</div><div class="ttdef"><b>Definition:</b> WorldContact.cpp:98</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a7b9fd7f3e9d7a0f8ff73d5818cf0d1f4">playrho::d2::GetContacts</a></div><div class="ttdeci">const BodyContactIDs &amp; GetContacts(const AabbTreeWorld &amp;world, BodyID id)</div><div class="ttdoc">Gets the contacts associated with the identified body.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:2448</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a7daf9650f36f8d172678d1398034a516"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a7daf9650f36f8d172678d1398034a516">playrho::d2::ComputePerimeterRatio</a></div><div class="ttdeci">Real ComputePerimeterRatio(const DynamicTree &amp;tree) noexcept</div><div class="ttdoc">Gets the ratio of the sum of the perimeters of nodes to the root perimeter.</div><div class="ttdef"><b>Definition:</b> DynamicTree.cpp:721</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a7df9661feac023ea0e4cbe6369943352"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a7df9661feac023ea0e4cbe6369943352">playrho::d2::Destroy</a></div><div class="ttdeci">void Destroy(AabbTreeWorld &amp;world, BodyID id)</div><div class="ttdoc">Destroys the identified body.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:937</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a804f65cef5ba33970fabd8af9d40cb93"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a804f65cef5ba33970fabd8af9d40cb93">playrho::d2::SetAngle</a></div><div class="ttdeci">void SetAngle(Body &amp;body, Angle value)</div><div class="ttdoc">Sets the body's angular orientation.</div><div class="ttdef"><b>Definition:</b> Body.cpp:280</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a81c7a4d7696e9cb367f241afdbbe2727"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a81c7a4d7696e9cb367f241afdbbe2727">playrho::d2::IsSpeedable</a></div><div class="ttdeci">bool IsSpeedable(const Body &amp;body) noexcept</div><div class="ttdoc">Is &quot;speedable&quot;.</div><div class="ttdef"><b>Definition:</b> Body.hpp:690</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a85a86553103a715dd904a4962d4f4403"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a85a86553103a715dd904a4962d4f4403">playrho::d2::GetTouchingCount</a></div><div class="ttdeci">ContactCounter GetTouchingCount(const World &amp;world)</div><div class="ttdoc">Gets the touching count for the given world.</div><div class="ttdef"><b>Definition:</b> WorldContact.cpp:180</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a8617e3ffbdfb19c9387220bd54ab2816"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a8617e3ffbdfb19c9387220bd54ab2816">playrho::d2::GetWeldJointConf</a></div><div class="ttdeci">WeldJointConf GetWeldJointConf(const Joint &amp;joint)</div><div class="ttdoc">Gets the definition data for the given joint.</div><div class="ttdef"><b>Definition:</b> WeldJointConf.cpp:103</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a8a6f694cab71d0db91049dc0908de63f"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a8a6f694cab71d0db91049dc0908de63f">playrho::d2::GetLocation</a></div><div class="ttdeci">Length2 GetLocation(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the body's origin location.</div><div class="ttdef"><b>Definition:</b> Body.hpp:838</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a8c4170f49badbf1881f371cfb5f466a7"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a8c4170f49badbf1881f371cfb5f466a7">playrho::d2::IsImpenetrable</a></div><div class="ttdeci">bool IsImpenetrable(const Body &amp;body) noexcept</div><div class="ttdoc">Is this body treated like a bullet for continuous collision detection?</div><div class="ttdef"><b>Definition:</b> Body.hpp:708</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a9030301cdd51e2084c30689dc8ddb6f5"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a9030301cdd51e2084c30689dc8ddb6f5">playrho::d2::GetMotorJointConf</a></div><div class="ttdeci">MotorJointConf GetMotorJointConf(const Joint &amp;joint)</div><div class="ttdoc">Gets the definition data for the given joint.</div><div class="ttdef"><b>Definition:</b> MotorJointConf.cpp:68</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a906e04c52b759610040707fef9ad58b0"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a906e04c52b759610040707fef9ad58b0">playrho::d2::GetTree</a></div><div class="ttdeci">const DynamicTree &amp; GetTree(const AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Gets access to the broad-phase dynamic tree information.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:1020</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a94a1320811507b6601ff8224e1469c23"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a94a1320811507b6601ff8224e1469c23">playrho::d2::GetShapeA</a></div><div class="ttdeci">ShapeID GetShapeA(const World &amp;world, ContactID id)</div><div class="ttdoc">Gets shape A of the identified contact.</div><div class="ttdef"><b>Definition:</b> WorldContact.cpp:63</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a9737040be9601c29cd9a3e3ee5a0b7ce"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a9737040be9601c29cd9a3e3ee5a0b7ce">playrho::d2::ComputeMassData</a></div><div class="ttdeci">MassData ComputeMassData(const World &amp;world, BodyID id)</div><div class="ttdoc">Computes the identified body's mass data.</div><div class="ttdef"><b>Definition:</b> WorldBody.cpp:338</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a986132f0e473e4da3dfcd1b5ec1eb608"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a986132f0e473e4da3dfcd1b5ec1eb608">playrho::d2::SetContact</a></div><div class="ttdeci">void SetContact(AabbTreeWorld &amp;world, ContactID id, Contact value)</div><div class="ttdoc">Sets the identified contact's state.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:2729</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a9901b5b3ddb898a60f216007adace0de"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a9901b5b3ddb898a60f216007adace0de">playrho::d2::SetLinearDamping</a></div><div class="ttdeci">void SetLinearDamping(Body &amp;body, NonNegative&lt; Frequency &gt; value) noexcept</div><div class="ttdoc">Sets the linear damping of the body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1038</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_a9f3ae0c3965083b637c95a58b20bb340"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#a9f3ae0c3965083b637c95a58b20bb340">playrho::d2::Set</a></div><div class="ttdeci">void Set(JointConf &amp;def, const Joint &amp;joint) noexcept</div><div class="ttdoc">Sets the joint definition data for the given joint.</div><div class="ttdef"><b>Definition:</b> JointConf.cpp:40</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_aa0a2c5e5746924e329cdf96e36fe56c0"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#aa0a2c5e5746924e329cdf96e36fe56c0">playrho::d2::GetFilterData</a></div><div class="ttdeci">Filter GetFilterData(const World &amp;world, ShapeID id)</div><div class="ttdoc">Gets the filter data for the identified shape.</div><div class="ttdef"><b>Definition:</b> WorldShape.cpp:60</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_aa5bd2b2d4ff4f88eef1db5f754dfa7c2"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#aa5bd2b2d4ff4f88eef1db5f754dfa7c2">playrho::d2::GetVertexRadiusInterval</a></div><div class="ttdeci">Interval&lt; Positive&lt; Length &gt; &gt; GetVertexRadiusInterval(const AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Gets the vertex radius interval allowable for the given world.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:1010</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_aa96788ab361740a16d316b821154ea9e"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#aa96788ab361740a16d316b821154ea9e">playrho::d2::Detach</a></div><div class="ttdeci">bool Detach(AabbTreeWorld &amp;world, BodyID id, ShapeID shapeID)</div><div class="ttdoc">Disassociates a validly identified shape from the validly identified body.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorldBody.cpp:41</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_aaa29799a42054beffb9328eb8c651ed1"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#aaa29799a42054beffb9328eb8c651ed1">playrho::d2::GetBody</a></div><div class="ttdeci">const Body &amp; GetBody(const AabbTreeWorld &amp;world, BodyID id)</div><div class="ttdoc">Gets the identified body.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:2765</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_aac86950fdee2a34e82718966246905a3"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#aac86950fdee2a34e82718966246905a3">playrho::d2::IsStepComplete</a></div><div class="ttdeci">bool IsStepComplete(const AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Whether or not &quot;step&quot; is complete.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:990</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_aad9d71ed88d25ba53cc5795ef5c46767"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#aad9d71ed88d25ba53cc5795ef5c46767">playrho::d2::SetJointDestructionListener</a></div><div class="ttdeci">void SetJointDestructionListener(AabbTreeWorld &amp;world, JointListener listener) noexcept</div><div class="ttdoc">Register a destruction listener for joints.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:1035</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_aaf57ca63655e6eaeac4d9e65a8e7be4a"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#aaf57ca63655e6eaeac4d9e65a8e7be4a">playrho::d2::SetImpenetrable</a></div><div class="ttdeci">void SetImpenetrable(Body &amp;body) noexcept</div><div class="ttdoc">Sets the impenetrable status of this body.</div><div class="ttdef"><b>Definition:</b> Body.hpp:718</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ab2389e08997d0d0e0ba03697eec17936"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ab2389e08997d0d0e0ba03697eec17936">playrho::d2::GetMaxImbalance</a></div><div class="ttdeci">DynamicTree::Height GetMaxImbalance(const DynamicTree &amp;tree) noexcept</div><div class="ttdoc">Gets the maximum imbalance.</div><div class="ttdef"><b>Definition:</b> DynamicTree.cpp:744</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ab2ab9325a9628489049f16f50f1004b8"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ab2ab9325a9628489049f16f50f1004b8">playrho::d2::GetAwakeCount</a></div><div class="ttdeci">BodyCounter GetAwakeCount(const World &amp;world)</div><div class="ttdoc">Gets the count of awake bodies in the given world.</div><div class="ttdef"><b>Definition:</b> WorldBody.cpp:521</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ab2d473e67d8c73d84b5bab36684b21e4"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ab2d473e67d8c73d84b5bab36684b21e4">playrho::d2::SetBeginContactListener</a></div><div class="ttdeci">void SetBeginContactListener(AabbTreeWorld &amp;world, ContactListener listener) noexcept</div><div class="ttdoc">Register a begin contact event listener.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:1040</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ab375b99ce3245ea19955018f6d6a6532"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ab375b99ce3245ea19955018f6d6a6532">playrho::d2::GetDistanceJointConf</a></div><div class="ttdeci">DistanceJointConf GetDistanceJointConf(const Joint &amp;joint)</div><div class="ttdoc">Gets the definition data for the given joint.</div><div class="ttdef"><b>Definition:</b> DistanceJointConf.cpp:69</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ab77e4986f15b40a9e31429c3f6be3b27"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ab77e4986f15b40a9e31429c3f6be3b27">playrho::d2::GetContact</a></div><div class="ttdeci">const Contact &amp; GetContact(const AabbTreeWorld &amp;world, ContactID id)</div><div class="ttdoc">Gets the identified contact.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:2775</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_abaaa273bdf2585781176266c6be413a6"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#abaaa273bdf2585781176266c6be413a6">playrho::d2::GetJoints</a></div><div class="ttdeci">const BodyJointIDs &amp; GetJoints(const AabbTreeWorld &amp;world, BodyID id)</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:2453</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ababb5cdb48a1960a30aed40859075dee"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ababb5cdb48a1960a30aed40859075dee">playrho::d2::EarthlyGravity</a></div><div class="ttdeci">constexpr auto EarthlyGravity</div><div class="ttdoc">Earthly gravity in 2-dimensions.</div><div class="ttdef"><b>Definition:</b> Vector2.hpp:157</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_abfb3031d97cbdac7eb72cccf26e3c694"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#abfb3031d97cbdac7eb72cccf26e3c694">playrho::d2::AABB</a></div><div class="ttdeci">::playrho::detail::AABB&lt; 2 &gt; AABB</div><div class="ttdoc">2-Dimensional Axis Aligned Bounding Box.</div><div class="ttdef"><b>Definition:</b> AABB.hpp:55</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ac7a5e9073194a89035ad2f060435542b"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ac7a5e9073194a89035ad2f060435542b">playrho::d2::ApplyForceToCenter</a></div><div class="ttdeci">void ApplyForceToCenter(World &amp;world, BodyID id, const Force2 &amp;force)</div><div class="ttdoc">Applies a force to the center of mass of the given body.</div><div class="ttdef"><b>Definition:</b> WorldBody.hpp:651</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ac7b6c00fbd4fc40a4957bd082c9437b4"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ac7b6c00fbd4fc40a4957bd082c9437b4">playrho::d2::GetContactCount</a></div><div class="ttdeci">ContactCounter GetContactCount(const World &amp;world) noexcept</div><div class="ttdoc">Gets the count of contacts in the given world.</div><div class="ttdef"><b>Definition:</b> World.hpp:470</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_acafaac4ef15f7416f464dff9b19780fa"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#acafaac4ef15f7416f464dff9b19780fa">playrho::d2::GetAcceleration</a></div><div class="ttdeci">Acceleration GetAcceleration(const Body &amp;body) noexcept</div><div class="ttdoc">Gets the given body's acceleration.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1063</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ad08795abe5eee5183189ff9901ab410a"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ad08795abe5eee5183189ff9901ab410a">playrho::d2::CreateJoint</a></div><div class="ttdeci">JointID CreateJoint(AabbTreeWorld &amp;world, Joint def)</div><div class="ttdoc">Creates a joint to constrain one or more bodies.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:1009</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ad1f05a05c6dd9eb2a1564cc10032f16c"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ad1f05a05c6dd9eb2a1564cc10032f16c">playrho::d2::IsAccelerable</a></div><div class="ttdeci">bool IsAccelerable(const Body &amp;body) noexcept</div><div class="ttdoc">Is &quot;accelerable&quot;.</div><div class="ttdef"><b>Definition:</b> Body.hpp:700</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ad53a1e79d6e949a948293990837ba83f"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ad53a1e79d6e949a948293990837ba83f">playrho::d2::GetLocalAnchorA</a></div><div class="ttdeci">Length2 GetLocalAnchorA(const GearJointConf &amp;conf)</div><div class="ttdoc">Gets the local anchor A property of the given joint.</div><div class="ttdef"><b>Definition:</b> GearJointConf.cpp:502</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ad5a1ff6589dc30ed3f9f7ee881f17bb2"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ad5a1ff6589dc30ed3f9f7ee881f17bb2">playrho::d2::TestOverlap</a></div><div class="ttdeci">Area TestOverlap(const DistanceProxy &amp;proxyA, const Transformation &amp;xfA, const DistanceProxy &amp;proxyB, const Transformation &amp;xfB, DistanceConf conf=DistanceConf{})</div><div class="ttdoc">Determine if two generic shapes overlap.</div><div class="ttdef"><b>Definition:</b> Distance.cpp:204</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ad982ed0433982ac18703569f42f4037c"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ad982ed0433982ac18703569f42f4037c">playrho::d2::GetCollideConnected</a></div><div class="ttdeci">bool GetCollideConnected(const Joint &amp;object) noexcept</div><div class="ttdoc">Gets collide connected.</div><div class="ttdef"><b>Definition:</b> Joint.hpp:290</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_adab7becf1945a89fa8459e8c2853478a"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#adab7becf1945a89fa8459e8c2853478a">playrho::d2::GetX</a></div><div class="ttdeci">constexpr auto GetX(const UnitVec &amp;value)</div><div class="ttdoc">Gets the &quot;X&quot; element of the given value - i.e. the first element.</div><div class="ttdef"><b>Definition:</b> UnitVec.hpp:390</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_adddd763be5890fad18f5a3dd9d2b4d38"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#adddd763be5890fad18f5a3dd9d2b4d38">playrho::d2::SetVelocity</a></div><div class="ttdeci">void SetVelocity(Body &amp;body, const Velocity &amp;value) noexcept</div><div class="ttdoc">Sets the body's velocity (linear and angular velocity).</div><div class="ttdef"><b>Definition:</b> Body.hpp:1210</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_adf053dc4cae3fabb24f6e3c8b8697ffb"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#adf053dc4cae3fabb24f6e3c8b8697ffb">playrho::d2::RayCastInput</a></div><div class="ttdeci">playrho::detail::RayCastInput&lt; 2 &gt; RayCastInput</div><div class="ttdoc">Ray cast input data for 2-dimensions.</div><div class="ttdef"><b>Definition:</b> RayCastInput.hpp:32</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_adfede6c462c7ebd2f3d75ec2878bbb73"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#adfede6c462c7ebd2f3d75ec2878bbb73">playrho::d2::GetJointRange</a></div><div class="ttdeci">JointCounter GetJointRange(const AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Gets the extent of the currently valid joint range.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:879</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ae23446b68b07e35cff2b642c5573acfe"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ae23446b68b07e35cff2b642c5573acfe">playrho::d2::SetAccelerations</a></div><div class="ttdeci">void SetAccelerations(World &amp;world, F fn)</div><div class="ttdoc">Sets the accelerations of all the world's bodies.</div><div class="ttdef"><b>Definition:</b> World.hpp:310</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ae2bf839e74417fc9845d648c90f5b1cc"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ae2bf839e74417fc9845d648c90f5b1cc">playrho::d2::SetJoint</a></div><div class="ttdeci">void SetJoint(AabbTreeWorld &amp;world, JointID id, Joint def)</div><div class="ttdoc">Sets the identified joint.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:988</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ae48de2e5ef109c667912e5db7b170d94"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ae48de2e5ef109c667912e5db7b170d94">playrho::d2::GetPointStates</a></div><div class="ttdeci">PointStates GetPointStates(const Manifold &amp;manifold1, const Manifold &amp;manifold2) noexcept</div><div class="ttdoc">Computes the before and after like point states given two manifolds.</div><div class="ttdef"><b>Definition:</b> PointStates.cpp:27</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ae5df527a800c51b570b382547d06dda4"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ae5df527a800c51b570b382547d06dda4">playrho::d2::GetShapeB</a></div><div class="ttdeci">ShapeID GetShapeB(const World &amp;world, ContactID id)</div><div class="ttdoc">Gets shape B of the identified contact.</div><div class="ttdef"><b>Definition:</b> WorldContact.cpp:68</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_ae97a6f878c88ff1c0609582303945bd2"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#ae97a6f878c88ff1c0609582303945bd2">playrho::d2::GetBodyRange</a></div><div class="ttdeci">BodyCounter GetBodyRange(const AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Gets the extent of the currently valid body range.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:874</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_aeef0047d9c45e36b6db6bbdd0ead0569"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#aeef0047d9c45e36b6db6bbdd0ead0569">playrho::d2::GetToiCount</a></div><div class="ttdeci">TimestepIters GetToiCount(const World &amp;world, ContactID id)</div><div class="ttdoc">Gets the Time Of Impact (TOI) count.</div><div class="ttdef"><b>Definition:</b> WorldContact.cpp:83</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_aef76fc5d7813af886e28e8033e9d019d"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#aef76fc5d7813af886e28e8033e9d019d">playrho::d2::GetLinearAcceleration</a></div><div class="ttdeci">LinearAcceleration2 GetLinearAcceleration(const Body &amp;body) noexcept</div><div class="ttdoc">Gets this body's linear acceleration.</div><div class="ttdef"><b>Definition:</b> Body.hpp:1083</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_af03fb141f6d983e01e4799b62c9e3b07"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#af03fb141f6d983e01e4799b62c9e3b07">playrho::d2::Step</a></div><div class="ttdeci">StepStats Step(AabbTreeWorld &amp;world, const StepConf &amp;conf)</div><div class="ttdoc">Steps the world simulation according to the given configuration.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.cpp:2034</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_af219909208e61cf0efe0317d56c34b8c"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#af219909208e61cf0efe0317d56c34b8c">playrho::d2::SetFilterData</a></div><div class="ttdeci">void SetFilterData(World &amp;world, ShapeID id, const Filter &amp;filter)</div><div class="ttdoc">Convenience function for setting the contact filtering data.</div><div class="ttdef"><b>Definition:</b> WorldShape.cpp:89</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_af876b6037e657c9123c89cc057dae338"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#af876b6037e657c9123c89cc057dae338">playrho::d2::IsLocked</a></div><div class="ttdeci">bool IsLocked(const AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Is the world locked (in the middle of a time step).</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:985</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_af8856e4e147c88bcacefa6b63aa750cd"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#af8856e4e147c88bcacefa6b63aa750cd">playrho::d2::GetSubStepping</a></div><div class="ttdeci">bool GetSubStepping(const AabbTreeWorld &amp;world) noexcept</div><div class="ttdoc">Gets whether or not sub-stepping is enabled.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorld.hpp:995</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_afa56209557eb58f52a1599176b169b5b"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#afa56209557eb58f52a1599176b169b5b">playrho::d2::SetSensor</a></div><div class="ttdeci">std::enable_if_t&lt; IsValidShapeTypeV&lt; T &gt; &amp;&amp;!HasSetSensorV&lt; T &gt;, void &gt; SetSensor(T &amp;o, bool value)</div><div class="ttdoc">Fallback sensor setter that throws unless given the same value as current.</div><div class="ttdef"><b>Definition:</b> Shape.hpp:226</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_afe762c434a20aa39abb7f121b9d89c03"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#afe762c434a20aa39abb7f121b9d89c03">playrho::d2::GetShapes</a></div><div class="ttdeci">const std::vector&lt; ShapeID &gt; &amp; GetShapes(const AabbTreeWorld &amp;world, BodyID id)</div><div class="ttdoc">Disassociates all of the associated shape from the validly identified body.</div><div class="ttdef"><b>Definition:</b> AabbTreeWorldBody.cpp:51</div></div>
<div class="ttc" id="anamespaceplayrho_1_1d2_html_afeeb64f8bbd439af0e350288e16da2e7"><div class="ttname"><a href="namespaceplayrho_1_1d2.html#afeeb64f8bbd439af0e350288e16da2e7">playrho::d2::GetChildCount</a></div><div class="ttdeci">ChildCounter GetChildCount(const ChainShapeConf &amp;arg) noexcept</div><div class="ttdoc">Gets the child count for a given chain shape configuration.</div><div class="ttdef"><b>Definition:</b> ChainShapeConf.hpp:180</div></div>
<div class="ttc" id="anamespaceplayrho_1_1detail_html_a07bf078d023635979d9fd9bda324a16e"><div class="ttname"><a href="namespaceplayrho_1_1detail.html#a07bf078d023635979d9fd9bda324a16e">playrho::detail::velocity</a></div><div class="ttdeci">Real velocity</div><div class="ttdoc">Velocity quantity type.</div><div class="ttdef"><b>Definition:</b> Units.hpp:151</div></div>
<div class="ttc" id="anamespaceplayrho_1_1detail_html_aa5638faaf78557603c3e60b945f0c415"><div class="ttname"><a href="namespaceplayrho_1_1detail.html#aa5638faaf78557603c3e60b945f0c415">playrho::detail::Include</a></div><div class="ttdeci">constexpr AABB&lt; N &gt; &amp; Include(AABB&lt; N &gt; &amp;var, const Vector&lt; Length, N &gt; &amp;value) noexcept</div><div class="ttdoc">Includes the given location into the given AABB.</div><div class="ttdef"><b>Definition:</b> AABB.hpp:247</div></div>
<div class="ttc" id="anamespaceplayrho_html"><div class="ttname"><a href="namespaceplayrho.html">playrho</a></div><div class="ttdef"><b>Definition:</b> ArrayList.hpp:36</div></div>
<div class="ttc" id="anamespaceplayrho_html_a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94"><div class="ttname"><a href="namespaceplayrho.html#a06f67e158a928ef59e4263facac8fb0babbb93ef26e3c101ff11cdd21cab08a94">playrho::PointState::Null</a></div><div class="ttdeci">@ Null</div><div class="ttdoc">Point does not exist.</div></div>
<div class="ttc" id="anamespaceplayrho_html_a098b0ef528e3b728af8e3e17873963f7a40c78b58b86002ee38fad2d3c9dd787e"><div class="ttname"><a href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a40c78b58b86002ee38fad2d3c9dd787e">playrho::BodyType::Kinematic</a></div><div class="ttdeci">@ Kinematic</div></div>
<div class="ttc" id="anamespaceplayrho_html_a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16"><div class="ttname"><a href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a84a8921b25f505d0d2077aeb5db4bc16">playrho::BodyType::Static</a></div><div class="ttdeci">@ Static</div></div>
<div class="ttc" id="anamespaceplayrho_html_a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c"><div class="ttname"><a href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">playrho::BodyType::Dynamic</a></div><div class="ttdeci">@ Dynamic</div></div>
<div class="ttc" id="anamespaceplayrho_html_a0e937a573db2db27b95156590ef5dd12"><div class="ttname"><a href="namespaceplayrho.html#a0e937a573db2db27b95156590ef5dd12">playrho::ChildCounter</a></div><div class="ttdeci">std::remove_const_t&lt; decltype(MaxChildCount)&gt; ChildCounter</div><div class="ttdoc">Child counter type.</div><div class="ttdef"><b>Definition:</b> Settings.hpp:108</div></div>
<div class="ttc" id="anamespaceplayrho_html_a1fc125070a08100d083a1360f7167f87"><div class="ttname"><a href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">playrho::Real</a></div><div class="ttdeci">float Real</div><div class="ttdoc">Real-number type.</div><div class="ttdef"><b>Definition:</b> Real.hpp:69</div></div>
<div class="ttc" id="anamespaceplayrho_html_a261b3039a098762462a17164898bb647"><div class="ttname"><a href="namespaceplayrho.html#a261b3039a098762462a17164898bb647">playrho::BodyCounter</a></div><div class="ttdeci">std::remove_const_t&lt; decltype(MaxBodies)&gt; BodyCounter</div><div class="ttdoc">Count type for bodies.</div><div class="ttdef"><b>Definition:</b> Settings.hpp:219</div></div>
<div class="ttc" id="anamespaceplayrho_html_a2d09dc7b51321c052b071485357ca1f9"><div class="ttname"><a href="namespaceplayrho.html#a2d09dc7b51321c052b071485357ca1f9">playrho::Force2</a></div><div class="ttdeci">Vector2&lt; Force &gt; Force2</div><div class="ttdoc">2-element vector of Force quantities.</div><div class="ttdef"><b>Definition:</b> Vector2.hpp:57</div></div>
<div class="ttc" id="anamespaceplayrho_html_a2faa31bff8794a0c4191d8b042f7deeb"><div class="ttname"><a href="namespaceplayrho.html#a2faa31bff8794a0c4191d8b042f7deeb">playrho::LinearVelocity2</a></div><div class="ttdeci">Vector2&lt; LinearVelocity &gt; LinearVelocity2</div><div class="ttdoc">2-element vector of linear velocity (LinearVelocity) quantities.</div><div class="ttdef"><b>Definition:</b> Vector2.hpp:49</div></div>
<div class="ttc" id="anamespaceplayrho_html_a370e741c22960aad46732cdc0353f428"><div class="ttname"><a href="namespaceplayrho.html#a370e741c22960aad46732cdc0353f428">playrho::end</a></div><div class="ttdeci">auto end(ReversionWrapper&lt; T &gt; w)</div><div class="ttdoc">End function for getting a reversed order iterator.</div><div class="ttdef"><b>Definition:</b> Templates.hpp:150</div></div>
<div class="ttc" id="anamespaceplayrho_html_a38fa6c4a45ec8fd218dc962396685c3f"><div class="ttname"><a href="namespaceplayrho.html#a38fa6c4a45ec8fd218dc962396685c3f">playrho::InvalidBodyID</a></div><div class="ttdeci">constexpr auto InvalidBodyID</div><div class="ttdoc">Invalid body ID value.</div><div class="ttdef"><b>Definition:</b> BodyID.hpp:37</div></div>
<div class="ttc" id="anamespaceplayrho_html_a3fe0bdbb0ea9c449b7504f7c75840993"><div class="ttname"><a href="namespaceplayrho.html#a3fe0bdbb0ea9c449b7504f7c75840993">playrho::Pi</a></div><div class="ttdeci">constexpr auto Pi</div><div class="ttdoc">Pi.</div><div class="ttdef"><b>Definition:</b> RealConstants.hpp:54</div></div>
<div class="ttc" id="anamespaceplayrho_html_a3fff859979ed48e0d223d1584eb985c3"><div class="ttname"><a href="namespaceplayrho.html#a3fff859979ed48e0d223d1584eb985c3">playrho::JointCounter</a></div><div class="ttdeci">std::remove_const_t&lt; decltype(MaxJoints)&gt; JointCounter</div><div class="ttdoc">Counter type for joints.</div><div class="ttdef"><b>Definition:</b> Settings.hpp:244</div></div>
<div class="ttc" id="anamespaceplayrho_html_a429625691c6a45944e55fe50f9a59199"><div class="ttname"><a href="namespaceplayrho.html#a429625691c6a45944e55fe50f9a59199">playrho::begin</a></div><div class="ttdeci">auto begin(ReversionWrapper&lt; T &gt; w)</div><div class="ttdoc">Begin function for getting a reversed order iterator.</div><div class="ttdef"><b>Definition:</b> Templates.hpp:143</div></div>
<div class="ttc" id="anamespaceplayrho_html_a4b3ffaf4d26f2f410c72befd4f9b0ec6"><div class="ttname"><a href="namespaceplayrho.html#a4b3ffaf4d26f2f410c72befd4f9b0ec6">playrho::to_underlying</a></div><div class="ttdeci">constexpr auto to_underlying(T value) noexcept -&gt; detail::underlying_type_t&lt; T &gt;</div><div class="ttdef"><b>Definition:</b> to_underlying.hpp:34</div></div>
<div class="ttc" id="anamespaceplayrho_html_a5822921028100052d4c6dfb43c7f6c4b"><div class="ttname"><a href="namespaceplayrho.html#a5822921028100052d4c6dfb43c7f6c4b">playrho::LinearAcceleration2</a></div><div class="ttdeci">Vector2&lt; LinearAcceleration &gt; LinearAcceleration2</div><div class="ttdoc">2-element vector of linear acceleration (LinearAcceleration) quantities.</div><div class="ttdef"><b>Definition:</b> Vector2.hpp:53</div></div>
<div class="ttc" id="anamespaceplayrho_html_a5fd824505590e2ca67e0ef804ede6e34"><div class="ttname"><a href="namespaceplayrho.html#a5fd824505590e2ca67e0ef804ede6e34">playrho::ContactCounter</a></div><div class="ttdeci">WiderType&lt; BodyCounter &gt; ContactCounter</div><div class="ttdoc">Count type for contacts.</div><div class="ttdef"><b>Definition:</b> Settings.hpp:223</div></div>
<div class="ttc" id="anamespaceplayrho_html_a66189f1fe36ac717e284ab1099171106a056fa3d840f48b7bfbbd68c19a4797b3"><div class="ttname"><a href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106a056fa3d840f48b7bfbbd68c19a4797b3">playrho::RayCastOpcode::Terminate</a></div><div class="ttdeci">@ Terminate</div><div class="ttdoc">End the ray-cast search for fixtures.</div></div>
<div class="ttc" id="anamespaceplayrho_html_a66189f1fe36ac717e284ab1099171106a4592f28dc9d11de3ce507bebafd9de16"><div class="ttname"><a href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106a4592f28dc9d11de3ce507bebafd9de16">playrho::RayCastOpcode::ResetRay</a></div><div class="ttdeci">@ ResetRay</div><div class="ttdoc">Reset the ray end back to the second point.</div></div>
<div class="ttc" id="anamespaceplayrho_html_a66189f1fe36ac717e284ab1099171106a8dcfe18b6245b17c9cd69d5af7ef1847"><div class="ttname"><a href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106a8dcfe18b6245b17c9cd69d5af7ef1847">playrho::RayCastOpcode::ClipRay</a></div><div class="ttdeci">@ ClipRay</div><div class="ttdoc">Clip the ray end to the current point.</div></div>
<div class="ttc" id="anamespaceplayrho_html_a66189f1fe36ac717e284ab1099171106aaf8767ee039cdc51717435bb815da593"><div class="ttname"><a href="namespaceplayrho.html#a66189f1fe36ac717e284ab1099171106aaf8767ee039cdc51717435bb815da593">playrho::RayCastOpcode::IgnoreFixture</a></div><div class="ttdeci">@ IgnoreFixture</div><div class="ttdoc">Ignore the current fixture.</div></div>
<div class="ttc" id="anamespaceplayrho_html_a664fbedb33a4af92883576fbee62fd28"><div class="ttname"><a href="namespaceplayrho.html#a664fbedb33a4af92883576fbee62fd28">playrho::ShapeID</a></div><div class="ttdeci">detail::IndexingNamedType&lt; ShapeCounter, struct ShapeIdentifier &gt; ShapeID</div><div class="ttdoc">Shape identifier.</div><div class="ttdef"><b>Definition:</b> ShapeID.hpp:33</div></div>
<div class="ttc" id="anamespaceplayrho_html_a67d10419efd6effdd41617992a76cbcd"><div class="ttname"><a href="namespaceplayrho.html#a67d10419efd6effdd41617992a76cbcd">playrho::InvalidJointID</a></div><div class="ttdeci">constexpr auto InvalidJointID</div><div class="ttdoc">Invalid joint ID value.</div><div class="ttdef"><b>Definition:</b> JointID.hpp:36</div></div>
<div class="ttc" id="anamespaceplayrho_html_a69cde8c9e938d138a9a4ae8355501684"><div class="ttname"><a href="namespaceplayrho.html#a69cde8c9e938d138a9a4ae8355501684">playrho::MaxJoints</a></div><div class="ttdeci">constexpr auto MaxJoints</div><div class="ttdoc">Maximum number of joints in a world.</div><div class="ttdef"><b>Definition:</b> Settings.hpp:239</div></div>
<div class="ttc" id="anamespaceplayrho_html_a6aaf4879371df30246226867c121a9ad"><div class="ttname"><a href="namespaceplayrho.html#a6aaf4879371df30246226867c121a9ad">playrho::AlmostEqual</a></div><div class="ttdeci">constexpr bool AlmostEqual(Fixed&lt; BT, FB &gt; x, Fixed&lt; BT, FB &gt; y, int ulp=2)</div><div class="ttdoc">Determines whether the given two values are &quot;almost equal&quot;.</div><div class="ttdef"><b>Definition:</b> Fixed.hpp:703</div></div>
<div class="ttc" id="anamespaceplayrho_html_a7aad07dca595ebb37551e793171c2cfa"><div class="ttname"><a href="namespaceplayrho.html#a7aad07dca595ebb37551e793171c2cfa">playrho::StripUnit</a></div><div class="ttdeci">constexpr auto StripUnit(const T &amp;v) -&gt; decltype(StripUnit(v.get()))</div><div class="ttdoc">Strips the unit from the given value.</div><div class="ttdef"><b>Definition:</b> Math.hpp:80</div></div>
<div class="ttc" id="anamespaceplayrho_html_a7b821c4b23566defba0fd2917d95f0ba"><div class="ttname"><a href="namespaceplayrho.html#a7b821c4b23566defba0fd2917d95f0ba">playrho::MaxBodies</a></div><div class="ttdeci">constexpr auto MaxBodies</div><div class="ttdoc">Maximum number of bodies in a world.</div><div class="ttdef"><b>Definition:</b> Settings.hpp:214</div></div>
<div class="ttc" id="anamespaceplayrho_html_a7beadf6067bdf66f48ee9b94c337d252"><div class="ttname"><a href="namespaceplayrho.html#a7beadf6067bdf66f48ee9b94c337d252">playrho::DefaultMaxVertexRadius</a></div><div class="ttdeci">constexpr auto DefaultMaxVertexRadius</div><div class="ttdoc">Default maximum vertex radius.</div><div class="ttdef"><b>Definition:</b> Settings.hpp:151</div></div>
<div class="ttc" id="anamespaceplayrho_html_a7cf47dd833aad177ac33142cfc5e6bc3"><div class="ttname"><a href="namespaceplayrho.html#a7cf47dd833aad177ac33142cfc5e6bc3">playrho::InvalidShapeID</a></div><div class="ttdeci">constexpr auto InvalidShapeID</div><div class="ttdoc">Invalid fixture ID value.</div><div class="ttdef"><b>Definition:</b> ShapeID.hpp:36</div></div>
<div class="ttc" id="anamespaceplayrho_html_a7dc68cd0ce177e175ae0bb6c39db158d"><div class="ttname"><a href="namespaceplayrho.html#a7dc68cd0ce177e175ae0bb6c39db158d">playrho::Length2</a></div><div class="ttdeci">Vector2&lt; Length &gt; Length2</div><div class="ttdoc">2-element vector of Length quantities.</div><div class="ttdef"><b>Definition:</b> Vector2.hpp:45</div></div>
<div class="ttc" id="anamespaceplayrho_html_a98ab78cb47da6f6d872d617cc66040a6"><div class="ttname"><a href="namespaceplayrho.html#a98ab78cb47da6f6d872d617cc66040a6">playrho::empty</a></div><div class="ttdeci">constexpr bool empty(IndexPair3 pairs) noexcept</div><div class="ttdoc">Checks whether the given collection of index pairs is empty.</div><div class="ttdef"><b>Definition:</b> IndexPair.hpp:68</div></div>
<div class="ttc" id="anamespaceplayrho_html_a9d094e8b19ea714a079a48c336abad92"><div class="ttname"><a href="namespaceplayrho.html#a9d094e8b19ea714a079a48c336abad92">playrho::BodyID</a></div><div class="ttdeci">detail::IndexingNamedType&lt; BodyCounter, struct BodyIdentifier &gt; BodyID</div><div class="ttdoc">Strongly typed identifier for bodies within World instances.</div><div class="ttdef"><b>Definition:</b> BodyID.hpp:33</div></div>
<div class="ttc" id="anamespaceplayrho_html_abe7a48a3a0e57fa1a9dd9e396b6b24f7"><div class="ttname"><a href="namespaceplayrho.html#abe7a48a3a0e57fa1a9dd9e396b6b24f7">playrho::ContactID</a></div><div class="ttdeci">detail::IndexingNamedType&lt; ContactCounter, struct ContactIdentifier &gt; ContactID</div><div class="ttdoc">Strongly typed identifier of contacts within World instances.</div><div class="ttdef"><b>Definition:</b> ContactID.hpp:33</div></div>
<div class="ttc" id="anamespaceplayrho_html_ad93c0cd83df090aba6593ffac4b628ec"><div class="ttname"><a href="namespaceplayrho.html#ad93c0cd83df090aba6593ffac4b628ec">playrho::Vec2</a></div><div class="ttdeci">Vector2&lt; Real &gt; Vec2</div><div class="ttdoc">Vector with 2 Real elements.</div><div class="ttdef"><b>Definition:</b> Vector2.hpp:41</div></div>
<div class="ttc" id="astructplayrho_1_1PreStepStats_html_a3d2ba1ef027e1612d7631cc1a3c0de33"><div class="ttname"><a href="structplayrho_1_1PreStepStats.html#a3d2ba1ef027e1612d7631cc1a3c0de33">playrho::PreStepStats::counter_type</a></div><div class="ttdeci">std::uint32_t counter_type</div><div class="ttdoc">Counter type.</div><div class="ttdef"><b>Definition:</b> StepStats.hpp:34</div></div>
<div class="ttc" id="astructplayrho_1_1StepConf_html"><div class="ttname"><a href="structplayrho_1_1StepConf.html">playrho::StepConf</a></div><div class="ttdoc">Step configuration.</div><div class="ttdef"><b>Definition:</b> StepConf.hpp:43</div></div>
<div class="ttc" id="astructplayrho_1_1d2_1_1BodyConf_html"><div class="ttname"><a href="structplayrho_1_1d2_1_1BodyConf.html">playrho::d2::BodyConf</a></div><div class="ttdoc">Configuration for a body.</div><div class="ttdef"><b>Definition:</b> BodyConf.hpp:44</div></div>
<div class="ttc" id="astructplayrho_1_1d2_1_1BodyConf_html_a49ce681752862a2f5466df143cd8a0f0"><div class="ttname"><a href="structplayrho_1_1d2_1_1BodyConf.html#a49ce681752862a2f5466df143cd8a0f0">playrho::d2::BodyConf::UseType</a></div><div class="ttdeci">constexpr BodyConf &amp; UseType(BodyType t) noexcept</div><div class="ttdoc">Use the given type.</div><div class="ttdef"><b>Definition:</b> BodyConf.hpp:215</div></div>
<div class="ttc" id="astructplayrho_1_1d2_1_1Velocity_html_accc1d801801fb20a83fb5451ad8dd46d"><div class="ttname"><a href="structplayrho_1_1d2_1_1Velocity.html#accc1d801801fb20a83fb5451ad8dd46d">playrho::d2::Velocity::angular</a></div><div class="ttdeci">AngularVelocity angular</div><div class="ttdoc">Angular velocity.</div><div class="ttdef"><b>Definition:</b> Velocity.hpp:42</div></div>
<div class="ttc" id="astructplayrho_1_1d2_1_1Velocity_html_afc8399d7200b4299a0e21cc184db0f0e"><div class="ttname"><a href="structplayrho_1_1d2_1_1Velocity.html#afc8399d7200b4299a0e21cc184db0f0e">playrho::d2::Velocity::linear</a></div><div class="ttdeci">LinearVelocity2 linear</div><div class="ttdoc">Linear velocity.</div><div class="ttdef"><b>Definition:</b> Velocity.hpp:41</div></div>
<div class="ttc" id="ato__underlying_8hpp_html"><div class="ttname"><a href="to__underlying_8hpp.html">to_underlying.hpp</a></div><div class="ttdoc">Definition of to_underlying function template.</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Sep 25 2023 23:39:53 for PlayRho by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
